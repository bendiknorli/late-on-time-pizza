(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var pg={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function OD(){if(yS)return Xu;yS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Xu.Fragment=e,Xu.jsx=n,Xu.jsxs=n,Xu}var vS;function PD(){return vS||(vS=1,pg.exports=OD()),pg.exports}var R=PD(),mg={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function kD(){if(_S)return ze;_S=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function V(U,re,me){this.props=U,this.context=re,this.refs=z,this.updater=me||w}V.prototype.isReactComponent={},V.prototype.setState=function(U,re){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,re,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=V.prototype;function W(U,re,me){this.props=U,this.context=re,this.refs=z,this.updater=me||w}var Q=W.prototype=new F;Q.constructor=W,N(Q,V.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function x(U,re,me,fe,ve,Ve){return me=Ve.ref,{$$typeof:t,type:U,key:re,ref:me!==void 0?me:null,props:Ve}}function C(U,re){return x(U.type,re,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var re={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return re[me]})}var P=/\/+/g;function G(U,re){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):re.toString(36)}function M(){}function Ie(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(M,M):(U.status="pending",U.then(function(re){U.status==="pending"&&(U.status="fulfilled",U.value=re)},function(re){U.status==="pending"&&(U.status="rejected",U.reason=re)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Be(U,re,me,fe,ve){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var Ae=!1;if(U===null)Ae=!0;else switch(Ve){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(U.$$typeof){case t:case e:Ae=!0;break;case y:return Ae=U._init,Be(Ae(U._payload),re,me,fe,ve)}}if(Ae)return ve=ve(U),Ae=fe===""?"."+G(U,0):fe,ee(ve)?(me="",Ae!=null&&(me=Ae.replace(P,"$&/")+"/"),Be(ve,re,me,"",function(Qn){return Qn})):ve!=null&&(I(ve)&&(ve=C(ve,me+(ve.key==null||U&&U.key===ve.key?"":(""+ve.key).replace(P,"$&/")+"/")+Ae)),re.push(ve)),1;Ae=0;var Wt=fe===""?".":fe+":";if(ee(U))for(var at=0;at<U.length;at++)fe=U[at],Ve=Wt+G(fe,at),Ae+=Be(fe,re,me,Ve,ve);else if(at=b(U),typeof at=="function")for(U=at.call(U),at=0;!(fe=U.next()).done;)fe=fe.value,Ve=Wt+G(fe,at++),Ae+=Be(fe,re,me,Ve,ve);else if(Ve==="object"){if(typeof U.then=="function")return Be(Ie(U),re,me,fe,ve);throw re=String(U),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Z(U,re,me){if(U==null)return U;var fe=[],ve=0;return Be(U,fe,"","",function(Ve){return re.call(me,Ve,ve++)}),fe}function ue(U){if(U._status===-1){var re=U._result;re=re(),re.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=re)}if(U._status===1)return U._result.default;throw U._result}var pe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Re(){}return ze.Children={map:Z,forEach:function(U,re,me){Z(U,function(){re.apply(this,arguments)},me)},count:function(U){var re=0;return Z(U,function(){re++}),re},toArray:function(U){return Z(U,function(re){return re})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ze.Component=V,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=W,ze.StrictMode=s,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ze.__COMPILER_RUNTIME={__proto__:null,c:function(U){return H.H.useMemoCache(U)}},ze.cache=function(U){return function(){return U.apply(null,arguments)}},ze.cloneElement=function(U,re,me){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=N({},U.props),ve=U.key,Ve=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(Ve=void 0),re.key!==void 0&&(ve=""+re.key),re)!k.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(fe[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)fe.children=me;else if(1<Ae){for(var Wt=Array(Ae),at=0;at<Ae;at++)Wt[at]=arguments[at+2];fe.children=Wt}return x(U.type,ve,void 0,void 0,Ve,fe)},ze.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},ze.createElement=function(U,re,me){var fe,ve={},Ve=null;if(re!=null)for(fe in re.key!==void 0&&(Ve=""+re.key),re)k.call(re,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ve[fe]=re[fe]);var Ae=arguments.length-2;if(Ae===1)ve.children=me;else if(1<Ae){for(var Wt=Array(Ae),at=0;at<Ae;at++)Wt[at]=arguments[at+2];ve.children=Wt}if(U&&U.defaultProps)for(fe in Ae=U.defaultProps,Ae)ve[fe]===void 0&&(ve[fe]=Ae[fe]);return x(U,Ve,void 0,void 0,null,ve)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(U){return{$$typeof:h,render:U}},ze.isValidElement=I,ze.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ue}},ze.memo=function(U,re){return{$$typeof:m,type:U,compare:re===void 0?null:re}},ze.startTransition=function(U){var re=H.T,me={};H.T=me;try{var fe=U(),ve=H.S;ve!==null&&ve(me,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Re,pe)}catch(Ve){pe(Ve)}finally{H.T=re}},ze.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ze.use=function(U){return H.H.use(U)},ze.useActionState=function(U,re,me){return H.H.useActionState(U,re,me)},ze.useCallback=function(U,re){return H.H.useCallback(U,re)},ze.useContext=function(U){return H.H.useContext(U)},ze.useDebugValue=function(){},ze.useDeferredValue=function(U,re){return H.H.useDeferredValue(U,re)},ze.useEffect=function(U,re,me){var fe=H.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(U,re)},ze.useId=function(){return H.H.useId()},ze.useImperativeHandle=function(U,re,me){return H.H.useImperativeHandle(U,re,me)},ze.useInsertionEffect=function(U,re){return H.H.useInsertionEffect(U,re)},ze.useLayoutEffect=function(U,re){return H.H.useLayoutEffect(U,re)},ze.useMemo=function(U,re){return H.H.useMemo(U,re)},ze.useOptimistic=function(U,re){return H.H.useOptimistic(U,re)},ze.useReducer=function(U,re,me){return H.H.useReducer(U,re,me)},ze.useRef=function(U){return H.H.useRef(U)},ze.useState=function(U){return H.H.useState(U)},ze.useSyncExternalStore=function(U,re,me){return H.H.useSyncExternalStore(U,re,me)},ze.useTransition=function(){return H.H.useTransition()},ze.version="19.1.1",ze}var bS;function av(){return bS||(bS=1,mg.exports=kD()),mg.exports}var O=av(),gg={exports:{}},Qu={},yg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function LD(){return ES||(ES=1,(function(t){function e(Z,ue){var pe=Z.length;Z.push(ue);e:for(;0<pe;){var Re=pe-1>>>1,U=Z[Re];if(0<a(U,ue))Z[Re]=ue,Z[pe]=U,pe=Re;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ue=Z[0],pe=Z.pop();if(pe!==ue){Z[0]=pe;e:for(var Re=0,U=Z.length,re=U>>>1;Re<re;){var me=2*(Re+1)-1,fe=Z[me],ve=me+1,Ve=Z[ve];if(0>a(fe,pe))ve<U&&0>a(Ve,fe)?(Z[Re]=Ve,Z[ve]=pe,Re=ve):(Z[Re]=fe,Z[me]=pe,Re=me);else if(ve<U&&0>a(Ve,pe))Z[Re]=Ve,Z[ve]=pe,Re=ve;else break e}}return ue}function a(Z,ue){var pe=Z.sortIndex-ue.sortIndex;return pe!==0?pe:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,v=null,b=3,w=!1,N=!1,z=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ee(Z){for(var ue=n(m);ue!==null;){if(ue.callback===null)s(m);else if(ue.startTime<=Z)s(m),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(m)}}function H(Z){if(z=!1,ee(Z),!N)if(n(d)!==null)N=!0,k||(k=!0,G());else{var ue=n(m);ue!==null&&Be(H,ue.startTime-Z)}}var k=!1,x=-1,C=5,I=-1;function D(){return V?!0:!(t.unstable_now()-I<C)}function P(){if(V=!1,k){var Z=t.unstable_now();I=Z;var ue=!0;try{e:{N=!1,z&&(z=!1,W(x),x=-1),w=!0;var pe=b;try{t:{for(ee(Z),v=n(d);v!==null&&!(v.expirationTime>Z&&D());){var Re=v.callback;if(typeof Re=="function"){v.callback=null,b=v.priorityLevel;var U=Re(v.expirationTime<=Z);if(Z=t.unstable_now(),typeof U=="function"){v.callback=U,ee(Z),ue=!0;break t}v===n(d)&&s(d),ee(Z)}else s(d);v=n(d)}if(v!==null)ue=!0;else{var re=n(m);re!==null&&Be(H,re.startTime-Z),ue=!1}}break e}finally{v=null,b=pe,w=!1}ue=void 0}}finally{ue?G():k=!1}}}var G;if(typeof Q=="function")G=function(){Q(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ie=M.port2;M.port1.onmessage=P,G=function(){Ie.postMessage(null)}}else G=function(){F(P,0)};function Be(Z,ue){x=F(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var pe=b;b=ue;try{return Z()}finally{b=pe}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=b;b=Z;try{return ue()}finally{b=pe}},t.unstable_scheduleCallback=function(Z,ue,pe){var Re=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Re+pe:Re):pe=Re,Z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pe+U,Z={id:y++,callback:ue,priorityLevel:Z,startTime:pe,expirationTime:U,sortIndex:-1},pe>Re?(Z.sortIndex=pe,e(m,Z),n(d)===null&&Z===n(m)&&(z?(W(x),x=-1):z=!0,Be(H,pe-Re))):(Z.sortIndex=U,e(d,Z),N||w||(N=!0,k||(k=!0,G()))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var ue=b;return function(){var pe=b;b=ue;try{return Z.apply(this,arguments)}finally{b=pe}}}})(vg)),vg}var SS;function UD(){return SS||(SS=1,yg.exports=LD()),yg.exports}var _g={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function jD(){if(wS)return Tn;wS=1;var t=av();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,y)},Tn.flushSync=function(d){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=m,s.p=y,s.d.f()}},Tn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Tn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Tn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Tn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Tn.requestFormReset=function(d){s.d.r(d)},Tn.unstable_batchedUpdates=function(d,m){return d(m)},Tn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},Tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Tn.version="19.1.1",Tn}var TS;function eC(){if(TS)return _g.exports;TS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=jD(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function VD(){if(CS)return Qu;CS=1;var t=UD(),e=av(),n=eC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(s(188))}function d(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return h(p),i;if(g===c)return h(p),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var S=!1,T=p.child;T;){if(T===o){S=!0,o=p,c=g;break}if(T===c){S=!0,c=p,o=g;break}T=T.sibling}if(!S){for(T=g.child;T;){if(T===o){S=!0,o=g,c=p;break}if(T===c){S=!0,c=g,o=p;break}T=T.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function m(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=m(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case V:return"Profiler";case z:return"StrictMode";case H:return"Suspense";case k:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case Q:return(i.displayName||"Context")+".Provider";case W:return(i._context.displayName||"Context")+".Consumer";case ee:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return r=i.displayName||null,r!==null?r:Ie(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return Ie(i(r))}catch{}}return null}var Be=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Re=[],U=-1;function re(i){return{current:i}}function me(i){0>U||(i.current=Re[U],Re[U]=null,U--)}function fe(i,r){U++,Re[U]=i.current,i.current=r}var ve=re(null),Ve=re(null),Ae=re(null),Wt=re(null);function at(i,r){switch(fe(Ae,r),fe(Ve,i),fe(ve,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?qE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=qE(r),i=YE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(ve),fe(ve,i)}function Qn(){me(ve),me(Ve),me(Ae)}function Mt(i){i.memoizedState!==null&&fe(Wt,i);var r=ve.current,o=YE(r,i.type);r!==o&&(fe(Ve,i),fe(ve,o))}function Zn(i){Ve.current===i&&(me(ve),me(Ve)),Wt.current===i&&(me(Wt),qu._currentValue=pe)}var Ps=Object.prototype.hasOwnProperty,ks=t.unstable_scheduleCallback,jn=t.unstable_cancelCallback,Wl=t.unstable_shouldYield,va=t.unstable_requestPaint,fn=t.unstable_now,xo=t.unstable_getCurrentPriorityLevel,jt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,Bi=t.unstable_NormalPriority,Fi=t.unstable_LowPriority,Hi=t.unstable_IdlePriority,No=t.log,Gi=t.unstable_setDisableYieldValue,dn=null,yt=null;function Rn(i){if(typeof No=="function"&&Gi(i),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(dn,i)}catch{}}var Xt=Math.clz32?Math.clz32:Io,Xl=Math.log,Jn=Math.LN2;function Io(i){return i>>>=0,i===0?32:31-(Xl(i)/Jn|0)|0}var ei=256,qi=4194304;function ti(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vn(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?p=ti(c):(S&=T,S!==0?p=ti(S):o||(o=T&~i,o!==0&&(p=ti(o))))):(T=c&~g,T!==0?p=ti(T):S!==0?p=ti(S):o||(o=c&~i,o!==0&&(p=ti(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function ni(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function yr(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var i=ei;return ei<<=1,(ei&4194048)===0&&(ei=256),i}function fs(){var i=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),i}function Us(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Rt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _a(i,r,o,c,p,g){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var T=i.entanglements,L=i.expirationTimes,X=i.hiddenUpdates;for(o=S&~o;0<o;){var se=31-Xt(o),le=1<<se;T[se]=0,L[se]=-1;var J=X[se];if(J!==null)for(X[se]=null,se=0;se<J.length;se++){var te=J[se];te!==null&&(te.lane&=-536870913)}o&=~le}c!==0&&ii(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~r))}function ii(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Xt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function si(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Xt(o),p=1<<c;p&r|i[c]&r&&(i[c]|=r),o&=~p}}function ba(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ea(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function j(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:hS(i.type))}function Y(i,r){var o=ue.p;try{return ue.p=i,r()}finally{ue.p=o}}var ne=Math.random().toString(36).slice(2),oe="__reactFiber$"+ne,ce="__reactProps$"+ne,ye="__reactContainer$"+ne,Ee="__reactEvents$"+ne,ge="__reactListeners$"+ne,Te="__reactHandles$"+ne,we="__reactResources$"+ne,_e="__reactMarker$"+ne;function Se(i){delete i[oe],delete i[ce],delete i[Ee],delete i[ge],delete i[Te]}function Ue(i){var r=i[oe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ye]||o[oe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=XE(i);i!==null;){if(o=i[oe])return o;i=XE(i)}return r}i=o,o=i.parentNode}return null}function Xe(i){if(i=i[oe]||i[ye]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function mt(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function wt(i){var r=i[we];return r||(r=i[we]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ke(i){i[_e]=!0}var ot=new Set,xn={};function En(i,r){Qt(i,r),Qt(i+"Capture",r)}function Qt(i,r){for(xn[i]=r,i=0;i<r.length;i++)ot.add(r[i])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zn={},vi={};function Yi(i){return Ps.call(vi,i)?!0:Ps.call(zn,i)?!1:tn.test(i)?vi[i]=!0:(zn[i]=!0,!1)}function _i(i,r,o){if(Yi(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function bi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Le(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}var Tt,ri;function pn(i){if(Tt===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Tt=r&&r[1]||"",ri=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+i+ri}var vt=!1;function $i(i,r){if(!i||vt)return"";vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){J=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],T=g[1];if(S&&T){var L=S.split(`
`),X=T.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===X.length)for(c=L.length-1,p=X.length-1;1<=c&&0<=p&&L[c]!==X[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==X[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==X[p]){var se=`
`+L[c].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=c&&0<=p);break}}}finally{vt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?pn(o):""}function Do(i){switch(i.tag){case 26:case 27:case 5:return pn(i.type);case 16:return pn("Lazy");case 13:return pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return $i(i.type,!1);case 11:return $i(i.type.render,!1);case 1:return $i(i.type,!0);case 31:return pn("Activity");default:return""}}function ai(i){try{var r="";do r+=Do(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function xt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sa(i){var r=vr(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function _r(i){i._valueTracker||(i._valueTracker=Sa(i))}function ct(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=vr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function js(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wa=/[\n"\\]/g;function nn(i){return i.replace(wa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ql(i,r,o,c,p,g,S,T){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),r!=null?S==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+xt(r)):i.value!==""+xt(r)&&(i.value=""+xt(r)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),r!=null?Jl(i,S,xt(r)):o!=null?Jl(i,S,xt(o)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+xt(T):i.removeAttribute("name")}function Zl(i,r,o,c,p,g,S,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+xt(o):"",r=r!=null?""+xt(r):o,T||r===i.value||(i.value=r),i.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=T?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Jl(i,r,o){r==="number"&&js(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function br(i,r,o,c){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+xt(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function bh(i,r,o){if(r!=null&&(r=""+xt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+xt(o):""}function Eh(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Be(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=xt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Ei(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Vs.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function tu(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&eu(i,p,c)}else for(var g in r)r.hasOwnProperty(g)&&eu(i,g,r[g])}function Mo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ki(i){return wh.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var nu=null;function iu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Er=null,Nn=null;function Th(i){var r=Xe(i);if(r&&(i=r.stateNode)){var o=i[ce]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ql(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+nn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var p=c[ce]||null;if(!p)throw Error(s(90));Ql(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ct(c)}break e;case"textarea":bh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&br(i,!!o.multiple,r,!1)}}}var Ta=!1;function Ca(i,r,o){if(Ta)return i(r,o);Ta=!0;try{var c=i(r);return c}finally{if(Ta=!1,(Er!==null||Nn!==null)&&(pf(),Er&&(r=Er,i=Nn,Nn=Er=null,Th(r),i)))for(r=0;r<i.length;r++)Th(i[r])}}function Sr(i,r){var o=i.stateNode;if(o===null)return null;var c=o[ce]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(In)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){zs=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{zs=!1}var Si=null,St=null,Oo=null;function Ch(){if(Oo)return Oo;var i,r=St,o=r.length,c,p="value"in Si?Si.value:Si.textContent,g=p.length;for(i=0;i<o&&r[i]===p[i];i++);var S=o-i;for(c=1;c<=S&&r[o-c]===p[g-c];c++);return Oo=p.slice(i,1<c?1-c:void 0)}function Aa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ra(){return!0}function su(){return!1}function Zt(i){function r(o,c,p,g,S){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(o=i[T],this[T]=o?o(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ra:su,this.isPropagationStopped=su,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Zt(Sn),Na=y({},Sn,{view:0,detail:0}),Ia=Zt(Na),Po,Da,ds,Ma=y({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ds&&(ds&&i.type==="mousemove"?(Po=i.screenX-ds.screenX,Da=i.screenY-ds.screenY):Da=Po=0,ds=i),Po)},movementY:function(i){return"movementY"in i?i.movementY:Da}}),Oa=Zt(Ma),wp=y({},Ma,{dataTransfer:0}),Ah=Zt(wp),Pa=y({},Na,{relatedTarget:0}),ko=Zt(Pa),Rh=y({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Zt(Rh),au=y({},Sn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xh=Zt(au),Lo=y({},Sn,{data:0}),ou=Zt(Lo),Nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ih[i])?!!r[i]:!1}function Uo(){return Dh}var Mh=y({},Na,{key:function(i){if(i.key){var r=Nh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(i){return i.type==="keypress"?Aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Bn=Zt(Mh),Oh=y({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=Zt(Oh),Tr=y({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),f=Zt(Tr),_=y({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Zt(_),A=y({},Ma,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Zt(A),ie=y({},Sn,{newState:0,oldState:0}),de=Zt(ie),je=[9,13,27,32],Nt=In&&"CompositionEvent"in window,tt=null;In&&"documentMode"in document&&(tt=document.documentMode);var Ht=In&&"TextEvent"in window&&!tt,oi=In&&(!Nt||tt&&8<tt&&11>=tt),ps=" ",Wi=!1;function Xi(i,r){switch(i){case"keyup":return je.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ms=!1;function rI(i,r){switch(i){case"compositionend":return ka(r);case"keypress":return r.which!==32?null:(Wi=!0,ps);case"textInput":return i=r.data,i===ps&&Wi?null:i;default:return null}}function aI(i,r){if(ms)return i==="compositionend"||!Nt&&Xi(i,r)?(i=Ch(),Oo=St=Si=null,ms=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return oi&&r.locale!=="ko"?null:r.data;default:return null}}var oI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!oI[i.type]:r==="textarea"}function a0(i,r,o,c){Er?Nn?Nn.push(c):Nn=[c]:Er=c,r=bf(r,"onChange"),0<r.length&&(o=new xa("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var uu=null,cu=null;function lI(i){zE(i,0)}function Ph(i){var r=mt(i);if(ct(r))return i}function o0(i,r){if(i==="change")return r}var l0=!1;if(In){var Tp;if(In){var Cp="oninput"in document;if(!Cp){var u0=document.createElement("div");u0.setAttribute("oninput","return;"),Cp=typeof u0.oninput=="function"}Tp=Cp}else Tp=!1;l0=Tp&&(!document.documentMode||9<document.documentMode)}function c0(){uu&&(uu.detachEvent("onpropertychange",h0),cu=uu=null)}function h0(i){if(i.propertyName==="value"&&Ph(cu)){var r=[];a0(r,cu,i,iu(i)),Ca(lI,r)}}function uI(i,r,o){i==="focusin"?(c0(),uu=r,cu=o,uu.attachEvent("onpropertychange",h0)):i==="focusout"&&c0()}function cI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ph(cu)}function hI(i,r){if(i==="click")return Ph(r)}function fI(i,r){if(i==="input"||i==="change")return Ph(r)}function dI(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var li=typeof Object.is=="function"?Object.is:dI;function hu(i,r){if(li(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Ps.call(r,p)||!li(i[p],r[p]))return!1}return!0}function f0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function d0(i,r){var o=f0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=f0(o)}}function p0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?p0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function m0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=js(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=js(i.document)}return r}function Ap(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var pI=In&&"documentMode"in document&&11>=document.documentMode,jo=null,Rp=null,fu=null,xp=!1;function g0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xp||jo==null||jo!==js(c)||(c=jo,"selectionStart"in c&&Ap(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fu&&hu(fu,c)||(fu=c,c=bf(Rp,"onSelect"),0<c.length&&(r=new xa("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=jo)))}function La(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Vo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Np={},y0={};In&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Ua(i){if(Np[i])return Np[i];if(!Vo[i])return i;var r=Vo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in y0)return Np[i]=r[o];return i}var v0=Ua("animationend"),_0=Ua("animationiteration"),b0=Ua("animationstart"),mI=Ua("transitionrun"),gI=Ua("transitionstart"),yI=Ua("transitioncancel"),E0=Ua("transitionend"),S0=new Map,Ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ip.push("scrollEnd");function Qi(i,r){S0.set(i,r),En(r,[i])}var w0=new WeakMap;function wi(i,r){if(typeof i=="object"&&i!==null){var o=w0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ai(r)},w0.set(i,r),r)}return{value:i,source:r,stack:ai(r)}}var Ti=[],zo=0,Dp=0;function kh(){for(var i=zo,r=Dp=zo=0;r<i;){var o=Ti[r];Ti[r++]=null;var c=Ti[r];Ti[r++]=null;var p=Ti[r];Ti[r++]=null;var g=Ti[r];if(Ti[r++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}g!==0&&T0(o,p,g)}}function Lh(i,r,o,c){Ti[zo++]=i,Ti[zo++]=r,Ti[zo++]=o,Ti[zo++]=c,Dp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Mp(i,r,o,c){return Lh(i,r,o,c),Uh(i)}function Bo(i,r){return Lh(i,null,null,r),Uh(i)}function T0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&r!==null&&(p=31-Xt(o),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function Uh(i){if(50<Uu)throw Uu=0,jm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Fo={};function vI(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(i,r,o,c){return new vI(i,r,o,c)}function Op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fs(i,r){var o=i.alternate;return o===null?(o=ui(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function C0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function jh(i,r,o,c,p,g){var S=0;if(c=i,typeof i=="function")Op(i)&&(S=1);else if(typeof i=="string")S=bD(i,o,ve.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=ui(31,o,r,p),i.elementType=I,i.lanes=g,i;case N:return ja(o.children,p,g,r);case z:S=8,p|=24;break;case V:return i=ui(12,o,r,p|2),i.elementType=V,i.lanes=g,i;case H:return i=ui(13,o,r,p),i.elementType=H,i.lanes=g,i;case k:return i=ui(19,o,r,p),i.elementType=k,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case Q:S=10;break e;case W:S=9;break e;case ee:S=11;break e;case x:S=14;break e;case C:S=16,c=null;break e}S=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=ui(S,o,r,p),r.elementType=i,r.type=c,r.lanes=g,r}function ja(i,r,o,c){return i=ui(7,i,c,r),i.lanes=o,i}function Pp(i,r,o){return i=ui(6,i,null,r),i.lanes=o,i}function kp(i,r,o){return r=ui(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ho=[],Go=0,Vh=null,zh=0,Ci=[],Ai=0,Va=null,Hs=1,Gs="";function za(i,r){Ho[Go++]=zh,Ho[Go++]=Vh,Vh=i,zh=r}function A0(i,r,o){Ci[Ai++]=Hs,Ci[Ai++]=Gs,Ci[Ai++]=Va,Va=i;var c=Hs;i=Gs;var p=32-Xt(c)-1;c&=~(1<<p),o+=1;var g=32-Xt(r)+p;if(30<g){var S=p-p%5;g=(c&(1<<S)-1).toString(32),c>>=S,p-=S,Hs=1<<32-Xt(r)+p|o<<p|c,Gs=g+i}else Hs=1<<g|o<<p|c,Gs=i}function Lp(i){i.return!==null&&(za(i,1),A0(i,1,0))}function Up(i){for(;i===Vh;)Vh=Ho[--Go],Ho[Go]=null,zh=Ho[--Go],Ho[Go]=null;for(;i===Va;)Va=Ci[--Ai],Ci[Ai]=null,Gs=Ci[--Ai],Ci[Ai]=null,Hs=Ci[--Ai],Ci[Ai]=null}var Dn=null,Ot=null,it=!1,Ba=null,gs=!1,jp=Error(s(519));function Fa(i){var r=Error(s(418,""));throw mu(wi(r,i)),jp}function R0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[oe]=i,r[ce]=c,o){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(o=0;o<Vu.length;o++)$e(Vu[o],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),Zl(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),_r(r);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),Eh(r,c.value,c.defaultValue,c.children),_r(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||GE(r.textContent,o)?(c.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),c.onScroll!=null&&$e("scroll",r),c.onScrollEnd!=null&&$e("scrollend",r),c.onClick!=null&&(r.onclick=Ef),r=!0):r=!1,r||Fa(i)}function x0(i){for(Dn=i.return;Dn;)switch(Dn.tag){case 5:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:Dn=Dn.return}}function du(i){if(i!==Dn)return!1;if(!it)return x0(i),it=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||eg(i.type,i.memoizedProps)),o=!o),o&&Ot&&Fa(i),x0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){Ot=Ji(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}Ot=null}}else r===27?(r=Ot,zr(i.type)?(i=sg,sg=null,Ot=i):Ot=r):Ot=Dn?Ji(i.stateNode.nextSibling):null;return!0}function pu(){Ot=Dn=null,it=!1}function N0(){var i=Ba;return i!==null&&(Gn===null?Gn=i:Gn.push.apply(Gn,i),Ba=null),i}function mu(i){Ba===null?Ba=[i]:Ba.push(i)}var Vp=re(null),Ha=null,qs=null;function Cr(i,r,o){fe(Vp,r._currentValue),r._currentValue=o}function Ys(i){i._currentValue=Vp.current,me(Vp)}function zp(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Bp(i,r,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=p;for(var L=0;L<r.length;L++)if(T.context===r[L]){g.lanes|=o,T=g.alternate,T!==null&&(T.lanes|=o),zp(g.return,o,i),c||(S=null);break e}g=T.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(s(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),zp(S,o,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function gu(i,r,o,c){i=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var T=p.type;li(p.pendingProps.value,S.value)||(i!==null?i.push(T):i=[T])}}else if(p===Wt.current){if(S=p.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(qu):i=[qu])}p=p.return}i!==null&&Bp(r,i,o,c),r.flags|=262144}function Bh(i){for(i=i.firstContext;i!==null;){if(!li(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ga(i){Ha=i,qs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wn(i){return I0(Ha,i)}function Fh(i,r){return Ha===null&&Ga(i),I0(i,r)}function I0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},qs===null){if(i===null)throw Error(s(308));qs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else qs=qs.next=r;return o}var _I=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},bI=t.unstable_scheduleCallback,EI=t.unstable_NormalPriority,Jt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fp(){return{controller:new _I,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&bI(EI,function(){i.controller.abort()})}var vu=null,Hp=0,qo=0,Yo=null;function SI(i,r){if(vu===null){var o=vu=[];Hp=0,qo=qm(),Yo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Hp++,r.then(D0,D0),r}function D0(){if(--Hp===0&&vu!==null){Yo!==null&&(Yo.status="fulfilled");var i=vu;vu=null,qo=0,Yo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function wI(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var M0=Z.S;Z.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&SI(i,r),M0!==null&&M0(i,r)};var qa=re(null);function Gp(){var i=qa.current;return i!==null?i:_t.pooledCache}function Hh(i,r){r===null?fe(qa,qa.current):fe(qa,r.pool)}function O0(){var i=Gp();return i===null?null:{parent:Jt._currentValue,pool:i}}var _u=Error(s(460)),P0=Error(s(474)),Gh=Error(s(542)),qp={then:function(){}};function k0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qh(){}function L0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(qh,qh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,j0(i),i;default:if(typeof r.status=="string")r.then(qh,qh);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,j0(i),i}throw bu=r,_u}}var bu=null;function U0(){if(bu===null)throw Error(s(459));var i=bu;return bu=null,i}function j0(i){if(i===_u||i===Gh)throw Error(s(483))}var Ar=!1;function Yp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $p(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Uh(i),T0(i,null,o),r}return Lh(i,c,r,o),Uh(i)}function Eu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,si(i,o)}}function Kp(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Wp=!1;function Su(){if(Wp){var i=Yo;if(i!==null)throw i}}function wu(i,r,o,c){Wp=!1;var p=i.updateQueue;Ar=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var L=T,X=L.next;L.next=null,S===null?g=X:S.next=X,S=L;var se=i.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==S&&(T===null?se.firstBaseUpdate=X:T.next=X,se.lastBaseUpdate=L))}if(g!==null){var le=p.baseState;S=0,se=X=L=null,T=g;do{var J=T.lane&-536870913,te=J!==T.lane;if(te?(Qe&J)===J:(c&J)===J){J!==0&&J===qo&&(Wp=!0),se!==null&&(se=se.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Me=i,xe=T;J=r;var dt=o;switch(xe.tag){case 1:if(Me=xe.payload,typeof Me=="function"){le=Me.call(dt,le,J);break e}le=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=xe.payload,J=typeof Me=="function"?Me.call(dt,le,J):Me,J==null)break e;le=y({},le,J);break e;case 2:Ar=!0}}J=T.callback,J!==null&&(i.flags|=64,te&&(i.flags|=8192),te=p.callbacks,te===null?p.callbacks=[J]:te.push(J))}else te={lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(X=se=te,L=le):se=se.next=te,S|=J;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;te=T,T=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);se===null&&(L=le),p.baseState=L,p.firstBaseUpdate=X,p.lastBaseUpdate=se,g===null&&(p.shared.lanes=0),Lr|=S,i.lanes=S,i.memoizedState=le}}function V0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function z0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)V0(o[i],r)}var $o=re(null),Yh=re(0);function B0(i,r){i=Js,fe(Yh,i),fe($o,r),Js=i|r.baseLanes}function Xp(){fe(Yh,Js),fe($o,$o.current)}function Qp(){Js=Yh.current,me($o),me(Yh)}var Nr=0,Fe=null,ht=null,Gt=null,$h=!1,Ko=!1,Ya=!1,Kh=0,Tu=0,Wo=null,TI=0;function Vt(){throw Error(s(321))}function Zp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!li(i[o],r[o]))return!1;return!0}function Jp(i,r,o,c,p,g){return Nr=g,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?Tb:Cb,Ya=!1,g=o(c,p),Ya=!1,Ko&&(g=H0(r,o,c,p)),F0(i),g}function F0(i){Z.H=ef;var r=ht!==null&&ht.next!==null;if(Nr=0,Gt=ht=Fe=null,$h=!1,Tu=0,Wo=null,r)throw Error(s(300));i===null||sn||(i=i.dependencies,i!==null&&Bh(i)&&(sn=!0))}function H0(i,r,o,c){Fe=i;var p=0;do{if(Ko&&(Wo=null),Tu=0,Ko=!1,25<=p)throw Error(s(301));if(p+=1,Gt=ht=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=DI,g=r(o,c)}while(Ko);return g}function CI(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?Cu(r):r,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Fe.flags|=1024),r}function em(){var i=Kh!==0;return Kh=0,i}function tm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function nm(i){if($h){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$h=!1}Nr=0,Gt=ht=Fe=null,Ko=!1,Tu=Kh=0,Wo=null}function Fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Fe.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function qt(){if(ht===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var r=Gt===null?Fe.memoizedState:Gt.next;if(r!==null)Gt=r,ht=i;else{if(i===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Gt===null?Fe.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cu(i){var r=Tu;return Tu+=1,Wo===null&&(Wo=[]),i=L0(Wo,i,r),r=Fe,(Gt===null?r.memoizedState:Gt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Tb:Cb),i}function Wh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cu(i);if(i.$$typeof===Q)return wn(i)}throw Error(s(438,String(i)))}function sm(i){var r=null,o=Fe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Fe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=im(),Fe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=D;return r.index++,o}function $s(i,r){return typeof r=="function"?r(i):r}function Xh(i){var r=qt();return rm(r,ht,i)}function rm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}r.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{r=p.next;var T=S=null,L=null,X=r,se=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Qe&le)===le:(Nr&le)===le){var J=X.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===qo&&(se=!0);else if((Nr&J)===J){X=X.next,J===qo&&(se=!0);continue}else le={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(T=L=le,S=g):L=L.next=le,Fe.lanes|=J,Lr|=J;le=X.action,Ya&&o(g,le),g=X.hasEagerState?X.eagerState:o(g,le)}else J={lane:le,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(T=L=J,S=g):L=L.next=J,Fe.lanes|=le,Lr|=le;X=X.next}while(X!==null&&X!==r);if(L===null?S=g:L.next=T,!li(g,i.memoizedState)&&(sn=!0,se&&(o=Yo,o!==null)))throw o;i.memoizedState=g,i.baseState=S,i.baseQueue=L,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function am(i){var r=qt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do g=i(g,S.action),S=S.next;while(S!==p);li(g,r.memoizedState)||(sn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function G0(i,r,o){var c=Fe,p=qt(),g=it;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var S=!li((ht||p).memoizedState,o);S&&(p.memoizedState=o,sn=!0),p=p.queue;var T=$0.bind(null,c,p,i);if(Au(2048,8,T,[i]),p.getSnapshot!==r||S||Gt!==null&&Gt.memoizedState.tag&1){if(c.flags|=2048,Xo(9,Qh(),Y0.bind(null,c,p,o,r),null),_t===null)throw Error(s(349));g||(Nr&124)!==0||q0(c,r,o)}return o}function q0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Fe.updateQueue,r===null?(r=im(),Fe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Y0(i,r,o,c){r.value=o,r.getSnapshot=c,K0(r)&&W0(i)}function $0(i,r,o){return o(function(){K0(r)&&W0(i)})}function K0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!li(i,o)}catch{return!0}}function W0(i){var r=Bo(i,2);r!==null&&pi(r,i,2)}function om(i){var r=Fn();if(typeof i=="function"){var o=i;if(i=o(),Ya){Rn(!0);try{o()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:i},r}function X0(i,r,o,c){return i.baseState=o,rm(i,ht,typeof c=="function"?c:$s)}function AI(i,r,o,c,p){if(Jh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Q0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Q0(i,r){var o=r.action,c=r.payload,p=i.state;if(r.isTransition){var g=Z.T,S={};Z.T=S;try{var T=o(p,c),L=Z.S;L!==null&&L(S,T),Z0(i,r,T)}catch(X){lm(i,r,X)}finally{Z.T=g}}else try{g=o(p,c),Z0(i,r,g)}catch(X){lm(i,r,X)}}function Z0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){J0(i,r,c)},function(c){return lm(i,r,c)}):J0(i,r,o)}function J0(i,r,o){r.status="fulfilled",r.value=o,eb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Q0(i,o)))}function lm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,eb(r),r=r.next;while(r!==c)}i.action=null}function eb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function tb(i,r){return r}function nb(i,r){if(it){var o=_t.formState;if(o!==null){e:{var c=Fe;if(it){if(Ot){t:{for(var p=Ot,g=gs;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ji(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ot=Ji(p.nextSibling),c=p.data==="F!";break e}}Fa(c)}c=!1}c&&(r=o[0])}}return o=Fn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tb,lastRenderedState:r},o.queue=c,o=Eb.bind(null,Fe,c),c.dispatch=o,c=om(!1),g=dm.bind(null,Fe,!1,c.queue),c=Fn(),p={state:r,dispatch:null,action:i,pending:null},c.queue=p,o=AI.bind(null,Fe,p,g,o),p.dispatch=o,c.memoizedState=i,[r,o,!1]}function ib(i){var r=qt();return sb(r,ht,i)}function sb(i,r,o){if(r=rm(i,r,tb)[0],i=Xh($s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Cu(r)}catch(S){throw S===_u?Gh:S}else c=r;r=qt();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Fe.flags|=2048,Xo(9,Qh(),RI.bind(null,p,o),null)),[c,g,i]}function RI(i,r){i.action=r}function rb(i){var r=qt(),o=ht;if(o!==null)return sb(r,o,i);qt(),r=r.memoizedState,o=qt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Xo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Fe.updateQueue,r===null&&(r=im(),Fe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function Qh(){return{destroy:void 0,resource:void 0}}function ab(){return qt().memoizedState}function Zh(i,r,o,c){var p=Fn();c=c===void 0?null:c,Fe.flags|=i,p.memoizedState=Xo(1|r,Qh(),o,c)}function Au(i,r,o,c){var p=qt();c=c===void 0?null:c;var g=p.memoizedState.inst;ht!==null&&c!==null&&Zp(c,ht.memoizedState.deps)?p.memoizedState=Xo(r,g,o,c):(Fe.flags|=i,p.memoizedState=Xo(1|r,g,o,c))}function ob(i,r){Zh(8390656,8,i,r)}function lb(i,r){Au(2048,8,i,r)}function ub(i,r){return Au(4,2,i,r)}function cb(i,r){return Au(4,4,i,r)}function hb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function fb(i,r,o){o=o!=null?o.concat([i]):null,Au(4,4,hb.bind(null,r,i),o)}function um(){}function db(i,r){var o=qt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Zp(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function pb(i,r){var o=qt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Zp(r,c[1]))return c[0];if(c=i(),Ya){Rn(!0);try{i()}finally{Rn(!1)}}return o.memoizedState=[c,r],c}function cm(i,r,o){return o===void 0||(Nr&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=yE(),Fe.lanes|=i,Lr|=i,o)}function mb(i,r,o,c){return li(o,r)?o:$o.current!==null?(i=cm(i,o,c),li(i,r)||(sn=!0),i):(Nr&42)===0?(sn=!0,i.memoizedState=o):(i=yE(),Fe.lanes|=i,Lr|=i,r)}function gb(i,r,o,c,p){var g=ue.p;ue.p=g!==0&&8>g?g:8;var S=Z.T,T={};Z.T=T,dm(i,!1,r,o);try{var L=p(),X=Z.S;if(X!==null&&X(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var se=wI(L,c);Ru(i,r,se,di(i))}else Ru(i,r,c,di(i))}catch(le){Ru(i,r,{then:function(){},status:"rejected",reason:le},di())}finally{ue.p=g,Z.T=S}}function xI(){}function hm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var p=yb(i).queue;gb(i,p,r,pe,o===null?xI:function(){return vb(i),o(c)})}function yb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:pe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function vb(i){var r=yb(i).next.queue;Ru(i,r,{},di())}function fm(){return wn(qu)}function _b(){return qt().memoizedState}function bb(){return qt().memoizedState}function NI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=di();i=Rr(o);var c=xr(r,i,o);c!==null&&(pi(c,r,o),Eu(c,r,o)),r={cache:Fp()},i.payload=r;return}r=r.return}}function II(i,r,o){var c=di();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Jh(i)?Sb(r,o):(o=Mp(i,r,o,c),o!==null&&(pi(o,i,c),wb(o,r,c)))}function Eb(i,r,o){var c=di();Ru(i,r,o,c)}function Ru(i,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jh(i))Sb(r,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var S=r.lastRenderedState,T=g(S,o);if(p.hasEagerState=!0,p.eagerState=T,li(T,S))return Lh(i,r,p,0),_t===null&&kh(),!1}catch{}finally{}if(o=Mp(i,r,p,c),o!==null)return pi(o,i,c),wb(o,r,c),!0}return!1}function dm(i,r,o,c){if(c={lane:2,revertLane:qm(),action:c,hasEagerState:!1,eagerState:null,next:null},Jh(i)){if(r)throw Error(s(479))}else r=Mp(i,o,c,2),r!==null&&pi(r,i,2)}function Jh(i){var r=i.alternate;return i===Fe||r!==null&&r===Fe}function Sb(i,r){Ko=$h=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function wb(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,si(i,o)}}var ef={readContext:wn,use:Wh,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},Tb={readContext:wn,use:Wh,useCallback:function(i,r){return Fn().memoizedState=[i,r===void 0?null:r],i},useContext:wn,useEffect:ob,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Zh(4194308,4,hb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Zh(4194308,4,i,r)},useInsertionEffect:function(i,r){Zh(4,2,i,r)},useMemo:function(i,r){var o=Fn();r=r===void 0?null:r;var c=i();if(Ya){Rn(!0);try{i()}finally{Rn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Fn();if(o!==void 0){var p=o(r);if(Ya){Rn(!0);try{o(r)}finally{Rn(!1)}}}else p=r;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=II.bind(null,Fe,i),[c.memoizedState,i]},useRef:function(i){var r=Fn();return i={current:i},r.memoizedState=i},useState:function(i){i=om(i);var r=i.queue,o=Eb.bind(null,Fe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:um,useDeferredValue:function(i,r){var o=Fn();return cm(o,i,r)},useTransition:function(){var i=om(!1);return i=gb.bind(null,Fe,i.queue,!0,!1),Fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Fe,p=Fn();if(it){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),_t===null)throw Error(s(349));(Qe&124)!==0||q0(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,ob($0.bind(null,c,g,i),[i]),c.flags|=2048,Xo(9,Qh(),Y0.bind(null,c,g,o,r),null),o},useId:function(){var i=Fn(),r=_t.identifierPrefix;if(it){var o=Gs,c=Hs;o=(c&~(1<<32-Xt(c)-1)).toString(32)+o,r=""+r+"R"+o,o=Kh++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=TI++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:fm,useFormState:nb,useActionState:nb,useOptimistic:function(i){var r=Fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=dm.bind(null,Fe,!0,o),o.dispatch=r,[i,r]},useMemoCache:sm,useCacheRefresh:function(){return Fn().memoizedState=NI.bind(null,Fe)}},Cb={readContext:wn,use:Wh,useCallback:db,useContext:wn,useEffect:lb,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:cb,useMemo:pb,useReducer:Xh,useRef:ab,useState:function(){return Xh($s)},useDebugValue:um,useDeferredValue:function(i,r){var o=qt();return mb(o,ht.memoizedState,i,r)},useTransition:function(){var i=Xh($s)[0],r=qt().memoizedState;return[typeof i=="boolean"?i:Cu(i),r]},useSyncExternalStore:G0,useId:_b,useHostTransitionStatus:fm,useFormState:ib,useActionState:ib,useOptimistic:function(i,r){var o=qt();return X0(o,ht,i,r)},useMemoCache:sm,useCacheRefresh:bb},DI={readContext:wn,use:Wh,useCallback:db,useContext:wn,useEffect:lb,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:cb,useMemo:pb,useReducer:am,useRef:ab,useState:function(){return am($s)},useDebugValue:um,useDeferredValue:function(i,r){var o=qt();return ht===null?cm(o,i,r):mb(o,ht.memoizedState,i,r)},useTransition:function(){var i=am($s)[0],r=qt().memoizedState;return[typeof i=="boolean"?i:Cu(i),r]},useSyncExternalStore:G0,useId:_b,useHostTransitionStatus:fm,useFormState:rb,useActionState:rb,useOptimistic:function(i,r){var o=qt();return ht!==null?X0(o,ht,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:sm,useCacheRefresh:bb},Qo=null,xu=0;function tf(i){var r=xu;return xu+=1,Qo===null&&(Qo=[]),L0(Qo,i,r)}function Nu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function nf(i,r){throw r.$$typeof===v?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ab(i){var r=i._init;return r(i._payload)}function Rb(i){function r(q,B){if(i){var $=q.deletions;$===null?(q.deletions=[B],q.flags|=16):$.push(B)}}function o(q,B){if(!i)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function p(q,B){return q=Fs(q,B),q.index=0,q.sibling=null,q}function g(q,B,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<B?(q.flags|=67108866,B):$):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function S(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function T(q,B,$,ae){return B===null||B.tag!==6?(B=Pp($,q.mode,ae),B.return=q,B):(B=p(B,$),B.return=q,B)}function L(q,B,$,ae){var be=$.type;return be===N?se(q,B,$.props.children,ae,$.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Ab(be)===B.type)?(B=p(B,$.props),Nu(B,$),B.return=q,B):(B=jh($.type,$.key,$.props,null,q.mode,ae),Nu(B,$),B.return=q,B)}function X(q,B,$,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=kp($,q.mode,ae),B.return=q,B):(B=p(B,$.children||[]),B.return=q,B)}function se(q,B,$,ae,be){return B===null||B.tag!==7?(B=ja($,q.mode,ae,be),B.return=q,B):(B=p(B,$),B.return=q,B)}function le(q,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Pp(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return $=jh(B.type,B.key,B.props,null,q.mode,$),Nu($,B),$.return=q,$;case w:return B=kp(B,q.mode,$),B.return=q,B;case C:var ae=B._init;return B=ae(B._payload),le(q,B,$)}if(Be(B)||G(B))return B=ja(B,q.mode,$,null),B.return=q,B;if(typeof B.then=="function")return le(q,tf(B),$);if(B.$$typeof===Q)return le(q,Fh(q,B),$);nf(q,B)}return null}function J(q,B,$,ae){var be=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return be!==null?null:T(q,B,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===be?L(q,B,$,ae):null;case w:return $.key===be?X(q,B,$,ae):null;case C:return be=$._init,$=be($._payload),J(q,B,$,ae)}if(Be($)||G($))return be!==null?null:se(q,B,$,ae,null);if(typeof $.then=="function")return J(q,B,tf($),ae);if($.$$typeof===Q)return J(q,B,Fh(q,$),ae);nf(q,$)}return null}function te(q,B,$,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get($)||null,T(B,q,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return q=q.get(ae.key===null?$:ae.key)||null,L(B,q,ae,be);case w:return q=q.get(ae.key===null?$:ae.key)||null,X(B,q,ae,be);case C:var He=ae._init;return ae=He(ae._payload),te(q,B,$,ae,be)}if(Be(ae)||G(ae))return q=q.get($)||null,se(B,q,ae,be,null);if(typeof ae.then=="function")return te(q,B,$,tf(ae),be);if(ae.$$typeof===Q)return te(q,B,$,Fh(B,ae),be);nf(B,ae)}return null}function Me(q,B,$,ae){for(var be=null,He=null,Ce=B,Ne=B=0,an=null;Ce!==null&&Ne<$.length;Ne++){Ce.index>Ne?(an=Ce,Ce=null):an=Ce.sibling;var nt=J(q,Ce,$[Ne],ae);if(nt===null){Ce===null&&(Ce=an);break}i&&Ce&&nt.alternate===null&&r(q,Ce),B=g(nt,B,Ne),He===null?be=nt:He.sibling=nt,He=nt,Ce=an}if(Ne===$.length)return o(q,Ce),it&&za(q,Ne),be;if(Ce===null){for(;Ne<$.length;Ne++)Ce=le(q,$[Ne],ae),Ce!==null&&(B=g(Ce,B,Ne),He===null?be=Ce:He.sibling=Ce,He=Ce);return it&&za(q,Ne),be}for(Ce=c(Ce);Ne<$.length;Ne++)an=te(Ce,q,Ne,$[Ne],ae),an!==null&&(i&&an.alternate!==null&&Ce.delete(an.key===null?Ne:an.key),B=g(an,B,Ne),He===null?be=an:He.sibling=an,He=an);return i&&Ce.forEach(function(qr){return r(q,qr)}),it&&za(q,Ne),be}function xe(q,B,$,ae){if($==null)throw Error(s(151));for(var be=null,He=null,Ce=B,Ne=B=0,an=null,nt=$.next();Ce!==null&&!nt.done;Ne++,nt=$.next()){Ce.index>Ne?(an=Ce,Ce=null):an=Ce.sibling;var qr=J(q,Ce,nt.value,ae);if(qr===null){Ce===null&&(Ce=an);break}i&&Ce&&qr.alternate===null&&r(q,Ce),B=g(qr,B,Ne),He===null?be=qr:He.sibling=qr,He=qr,Ce=an}if(nt.done)return o(q,Ce),it&&za(q,Ne),be;if(Ce===null){for(;!nt.done;Ne++,nt=$.next())nt=le(q,nt.value,ae),nt!==null&&(B=g(nt,B,Ne),He===null?be=nt:He.sibling=nt,He=nt);return it&&za(q,Ne),be}for(Ce=c(Ce);!nt.done;Ne++,nt=$.next())nt=te(Ce,q,Ne,nt.value,ae),nt!==null&&(i&&nt.alternate!==null&&Ce.delete(nt.key===null?Ne:nt.key),B=g(nt,B,Ne),He===null?be=nt:He.sibling=nt,He=nt);return i&&Ce.forEach(function(MD){return r(q,MD)}),it&&za(q,Ne),be}function dt(q,B,$,ae){if(typeof $=="object"&&$!==null&&$.type===N&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var be=$.key;B!==null;){if(B.key===be){if(be=$.type,be===N){if(B.tag===7){o(q,B.sibling),ae=p(B,$.props.children),ae.return=q,q=ae;break e}}else if(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&Ab(be)===B.type){o(q,B.sibling),ae=p(B,$.props),Nu(ae,$),ae.return=q,q=ae;break e}o(q,B);break}else r(q,B);B=B.sibling}$.type===N?(ae=ja($.props.children,q.mode,ae,$.key),ae.return=q,q=ae):(ae=jh($.type,$.key,$.props,null,q.mode,ae),Nu(ae,$),ae.return=q,q=ae)}return S(q);case w:e:{for(be=$.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(q,B.sibling),ae=p(B,$.children||[]),ae.return=q,q=ae;break e}else{o(q,B);break}else r(q,B);B=B.sibling}ae=kp($,q.mode,ae),ae.return=q,q=ae}return S(q);case C:return be=$._init,$=be($._payload),dt(q,B,$,ae)}if(Be($))return Me(q,B,$,ae);if(G($)){if(be=G($),typeof be!="function")throw Error(s(150));return $=be.call($),xe(q,B,$,ae)}if(typeof $.then=="function")return dt(q,B,tf($),ae);if($.$$typeof===Q)return dt(q,B,Fh(q,$),ae);nf(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(q,B.sibling),ae=p(B,$),ae.return=q,q=ae):(o(q,B),ae=Pp($,q.mode,ae),ae.return=q,q=ae),S(q)):o(q,B)}return function(q,B,$,ae){try{xu=0;var be=dt(q,B,$,ae);return Qo=null,be}catch(Ce){if(Ce===_u||Ce===Gh)throw Ce;var He=ui(29,Ce,null,q.mode);return He.lanes=ae,He.return=q,He}finally{}}}var Zo=Rb(!0),xb=Rb(!1),Ri=re(null),ys=null;function Ir(i){var r=i.alternate;fe(en,en.current&1),fe(Ri,i),ys===null&&(r===null||$o.current!==null||r.memoizedState!==null)&&(ys=i)}function Nb(i){if(i.tag===22){if(fe(en,en.current),fe(Ri,i),ys===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(ys=i)}}else Dr()}function Dr(){fe(en,en.current),fe(Ri,Ri.current)}function Ks(i){me(Ri),ys===i&&(ys=null),me(en)}var en=re(0);function sf(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ig(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var mm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=di(),p=Rr(c);p.payload=r,o!=null&&(p.callback=o),r=xr(i,p,c),r!==null&&(pi(r,i,c),Eu(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=di(),p=Rr(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=xr(i,p,c),r!==null&&(pi(r,i,c),Eu(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=di(),c=Rr(o);c.tag=2,r!=null&&(c.callback=r),r=xr(i,c,o),r!==null&&(pi(r,i,o),Eu(r,i,o))}};function Ib(i,r,o,c,p,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,S):r.prototype&&r.prototype.isPureReactComponent?!hu(o,c)||!hu(p,g):!0}function Db(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&mm.enqueueReplaceState(r,r.state,null)}function $a(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var rf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Mb(i){rf(i)}function Ob(i){console.error(i)}function Pb(i){rf(i)}function af(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function kb(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gm(i,r,o){return o=Rr(o),o.tag=3,o.payload={element:null},o.callback=function(){af(i,r)},o}function Lb(i){return i=Rr(i),i.tag=3,i}function Ub(i,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){kb(r,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){kb(r,o,c),typeof p!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function MI(i,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&gu(r,o,p,!0),o=Ri.current,o!==null){switch(o.tag){case 13:return ys===null?zm():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===qp?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Fm(i,c,p)),!1;case 22:return o.flags|=65536,c===qp?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Fm(i,c,p)),!1}throw Error(s(435,o.tag))}return Fm(i,c,p),zm(),!1}if(it)return r=Ri.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==jp&&(i=Error(s(422),{cause:c}),mu(wi(i,o)))):(c!==jp&&(r=Error(s(423),{cause:c}),mu(wi(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=wi(c,o),p=gm(i.stateNode,c,p),Kp(i,p),Pt!==4&&(Pt=2)),!1;var g=Error(s(520),{cause:c});if(g=wi(g,o),Lu===null?Lu=[g]:Lu.push(g),Pt!==4&&(Pt=2),r===null)return!0;c=wi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=gm(o.stateNode,c,i),Kp(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ur===null||!Ur.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Lb(p),Ub(p,i,o,c),Kp(o,p),!1}o=o.return}while(o!==null);return!1}var jb=Error(s(461)),sn=!1;function mn(i,r,o,c){r.child=i===null?xb(r,null,o,c):Zo(r,i.child,o,c)}function Vb(i,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var S={};for(var T in c)T!=="ref"&&(S[T]=c[T])}else S=c;return Ga(r),c=Jp(i,r,o,S,g,p),T=em(),i!==null&&!sn?(tm(i,r,p),Ws(i,r,p)):(it&&T&&Lp(r),r.flags|=1,mn(i,r,c,p),r.child)}function zb(i,r,o,c,p){if(i===null){var g=o.type;return typeof g=="function"&&!Op(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,Bb(i,r,g,c,p)):(i=jh(o.type,null,c,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Tm(i,p)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:hu,o(S,c)&&i.ref===r.ref)return Ws(i,r,p)}return r.flags|=1,i=Fs(g,c),i.ref=r.ref,i.return=r,r.child=i}function Bb(i,r,o,c,p){if(i!==null){var g=i.memoizedProps;if(hu(g,c)&&i.ref===r.ref)if(sn=!1,r.pendingProps=c=g,Tm(i,p))(i.flags&131072)!==0&&(sn=!0);else return r.lanes=i.lanes,Ws(i,r,p)}return ym(i,r,o,c,p)}function Fb(i,r,o){var c=r.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,i!==null){for(p=r.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return Hb(i,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hh(r,g!==null?g.cachePool:null),g!==null?B0(r,g):Xp(),Nb(r);else return r.lanes=r.childLanes=536870912,Hb(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Hh(r,g.cachePool),B0(r,g),Dr(),r.memoizedState=null):(i!==null&&Hh(r,null),Xp(),Dr());return mn(i,r,p,o),r.child}function Hb(i,r,o,c){var p=Gp();return p=p===null?null:{parent:Jt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&Hh(r,null),Xp(),Nb(r),i!==null&&gu(i,r,c,!0),null}function of(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function ym(i,r,o,c,p){return Ga(r),o=Jp(i,r,o,c,void 0,p),c=em(),i!==null&&!sn?(tm(i,r,p),Ws(i,r,p)):(it&&c&&Lp(r),r.flags|=1,mn(i,r,o,p),r.child)}function Gb(i,r,o,c,p,g){return Ga(r),r.updateQueue=null,o=H0(r,c,o,p),F0(i),c=em(),i!==null&&!sn?(tm(i,r,g),Ws(i,r,g)):(it&&c&&Lp(r),r.flags|=1,mn(i,r,o,g),r.child)}function qb(i,r,o,c,p){if(Ga(r),r.stateNode===null){var g=Fo,S=o.contextType;typeof S=="object"&&S!==null&&(g=wn(S)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Yp(r),S=o.contextType,g.context=typeof S=="object"&&S!==null?wn(S):Fo,g.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(pm(r,o,S,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&mm.enqueueReplaceState(g,g.state,null),wu(r,c,g,p),Su(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var T=r.memoizedProps,L=$a(o,T);g.props=L;var X=g.context,se=o.contextType;S=Fo,typeof se=="object"&&se!==null&&(S=wn(se));var le=o.getDerivedStateFromProps;se=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||X!==S)&&Db(r,g,c,S),Ar=!1;var J=r.memoizedState;g.state=J,wu(r,c,g,p),Su(),X=r.memoizedState,T||J!==X||Ar?(typeof le=="function"&&(pm(r,o,le,c),X=r.memoizedState),(L=Ar||Ib(r,o,L,c,J,X,S))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=S,c=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,$p(i,r),S=r.memoizedProps,se=$a(o,S),g.props=se,le=r.pendingProps,J=g.context,X=o.contextType,L=Fo,typeof X=="object"&&X!==null&&(L=wn(X)),T=o.getDerivedStateFromProps,(X=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==le||J!==L)&&Db(r,g,c,L),Ar=!1,J=r.memoizedState,g.state=J,wu(r,c,g,p),Su();var te=r.memoizedState;S!==le||J!==te||Ar||i!==null&&i.dependencies!==null&&Bh(i.dependencies)?(typeof T=="function"&&(pm(r,o,T,c),te=r.memoizedState),(se=Ar||Ib(r,o,se,c,J,te,L)||i!==null&&i.dependencies!==null&&Bh(i.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,te,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,te,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=te),g.props=c,g.state=te,g.context=L,c=se):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&J===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,of(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Zo(r,i.child,null,p),r.child=Zo(r,null,o,p)):mn(i,r,o,p),r.memoizedState=g.state,i=r.child):i=Ws(i,r,p),i}function Yb(i,r,o,c){return pu(),r.flags|=256,mn(i,r,o,c),r.child}var vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(i){return{baseLanes:i,cachePool:O0()}}function bm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=xi),i}function $b(i,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(en.current&2)!==0),S&&(p=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,i===null){if(it){if(p?Ir(r):Dr(),it){var T=Ot,L;if(L=T){e:{for(L=T,T=gs;L.nodeType!==8;){if(!T){T=null;break e}if(L=Ji(L.nextSibling),L===null){T=null;break e}}T=L}T!==null?(r.memoizedState={dehydrated:T,treeContext:Va!==null?{id:Hs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},L=ui(18,null,null,0),L.stateNode=T,L.return=r,r.child=L,Dn=r,Ot=null,L=!0):L=!1}L||Fa(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return ig(T)?r.lanes=32:r.lanes=536870912,null;Ks(r)}return T=c.children,c=c.fallback,p?(Dr(),p=r.mode,T=lf({mode:"hidden",children:T},p),c=ja(c,p,o,null),T.return=r,c.return=r,T.sibling=c,r.child=T,p=r.child,p.memoizedState=_m(o),p.childLanes=bm(i,S,o),r.memoizedState=vm,c):(Ir(r),Em(r,T))}if(L=i.memoizedState,L!==null&&(T=L.dehydrated,T!==null)){if(g)r.flags&256?(Ir(r),r.flags&=-257,r=Sm(i,r,o)):r.memoizedState!==null?(Dr(),r.child=i.child,r.flags|=128,r=null):(Dr(),p=c.fallback,T=r.mode,c=lf({mode:"visible",children:c.children},T),p=ja(p,T,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,Zo(r,i.child,null,o),c=r.child,c.memoizedState=_m(o),c.childLanes=bm(i,S,o),r.memoizedState=vm,r=p);else if(Ir(r),ig(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var X=S.dgst;S=X,c=Error(s(419)),c.stack="",c.digest=S,mu({value:c,source:null,stack:null}),r=Sm(i,r,o)}else if(sn||gu(i,r,o,!1),S=(o&i.childLanes)!==0,sn||S){if(S=_t,S!==null&&(c=o&-o,c=(c&42)!==0?1:ba(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,Bo(i,c),pi(S,i,c),jb;T.data==="$?"||zm(),r=Sm(i,r,o)}else T.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,Ot=Ji(T.nextSibling),Dn=r,it=!0,Ba=null,gs=!1,i!==null&&(Ci[Ai++]=Hs,Ci[Ai++]=Gs,Ci[Ai++]=Va,Hs=i.id,Gs=i.overflow,Va=r),r=Em(r,c.children),r.flags|=4096);return r}return p?(Dr(),p=c.fallback,T=r.mode,L=i.child,X=L.sibling,c=Fs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?p=Fs(X,p):(p=ja(p,T,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,T=i.child.memoizedState,T===null?T=_m(o):(L=T.cachePool,L!==null?(X=Jt._currentValue,L=L.parent!==X?{parent:X,pool:X}:L):L=O0(),T={baseLanes:T.baseLanes|o,cachePool:L}),p.memoizedState=T,p.childLanes=bm(i,S,o),r.memoizedState=vm,c):(Ir(r),o=i.child,i=o.sibling,o=Fs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(S=r.deletions,S===null?(r.deletions=[i],r.flags|=16):S.push(i)),r.child=o,r.memoizedState=null,o)}function Em(i,r){return r=lf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function lf(i,r){return i=ui(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Sm(i,r,o){return Zo(r,i.child,null,o),i=Em(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Kb(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),zp(i.return,r,o)}function wm(i,r,o,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=p)}function Wb(i,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;if(mn(i,r,c.children,o),c=en.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Kb(i,o,r);else if(i.tag===19)Kb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(fe(en,c),p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&sf(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),wm(r,!1,p,o,g);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&sf(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}wm(r,!0,o,null,g);break;case"together":wm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ws(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Lr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(gu(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Fs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Fs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Tm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Bh(i)))}function OI(i,r,o){switch(r.tag){case 3:at(r,r.stateNode.containerInfo),Cr(r,Jt,i.memoizedState.cache),pu();break;case 27:case 5:Mt(r);break;case 4:at(r,r.stateNode.containerInfo);break;case 10:Cr(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ir(r),r.flags|=128,null):(o&r.child.childLanes)!==0?$b(i,r,o):(Ir(r),i=Ws(i,r,o),i!==null?i.sibling:null);Ir(r);break;case 19:var p=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(gu(i,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return Wb(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),fe(en,en.current),c)break;return null;case 22:case 23:return r.lanes=0,Fb(i,r,o);case 24:Cr(r,Jt,i.memoizedState.cache)}return Ws(i,r,o)}function Xb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)sn=!0;else{if(!Tm(i,o)&&(r.flags&128)===0)return sn=!1,OI(i,r,o);sn=(i.flags&131072)!==0}else sn=!1,it&&(r.flags&1048576)!==0&&A0(r,zh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")Op(c)?(i=$a(c,i),r.tag=1,r=qb(null,r,c,i,o)):(r.tag=0,r=ym(null,r,c,i,o));else{if(c!=null){if(p=c.$$typeof,p===ee){r.tag=11,r=Vb(null,r,c,i,o);break e}else if(p===x){r.tag=14,r=zb(null,r,c,i,o);break e}}throw r=Ie(c)||c,Error(s(306,r,""))}}return r;case 0:return ym(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=$a(c,r.pendingProps),qb(i,r,c,p,o);case 3:e:{if(at(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,$p(i,r),wu(r,c,null,o);var S=r.memoizedState;if(c=S.cache,Cr(r,Jt,c),c!==g.cache&&Bp(r,[Jt],o,!0),Su(),c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Yb(i,r,c,o);break e}else if(c!==p){p=wi(Error(s(424)),r),mu(p),r=Yb(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ot=Ji(i.firstChild),Dn=r,it=!0,Ba=null,gs=!0,o=xb(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(pu(),c===p){r=Ws(i,r,o);break e}mn(i,r,c,o)}r=r.child}return r;case 26:return of(i,r),i===null?(o=eS(r.type,null,r.pendingProps,null))?r.memoizedState=o:it||(o=r.type,i=r.pendingProps,c=Sf(Ae.current).createElement(o),c[oe]=r,c[ce]=i,yn(c,o,i),ke(c),r.stateNode=c):r.memoizedState=eS(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Mt(r),i===null&&it&&(c=r.stateNode=QE(r.type,r.pendingProps,Ae.current),Dn=r,gs=!0,p=Ot,zr(r.type)?(sg=p,Ot=Ji(c.firstChild)):Ot=p),mn(i,r,r.pendingProps.children,o),of(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&it&&((p=c=Ot)&&(c=oD(c,r.type,r.pendingProps,gs),c!==null?(r.stateNode=c,Dn=r,Ot=Ji(c.firstChild),gs=!1,p=!0):p=!1),p||Fa(r)),Mt(r),p=r.type,g=r.pendingProps,S=i!==null?i.memoizedProps:null,c=g.children,eg(p,g)?c=null:S!==null&&eg(p,S)&&(r.flags|=32),r.memoizedState!==null&&(p=Jp(i,r,CI,null,null,o),qu._currentValue=p),of(i,r),mn(i,r,c,o),r.child;case 6:return i===null&&it&&((i=o=Ot)&&(o=lD(o,r.pendingProps,gs),o!==null?(r.stateNode=o,Dn=r,Ot=null,i=!0):i=!1),i||Fa(r)),null;case 13:return $b(i,r,o);case 4:return at(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Zo(r,null,c,o):mn(i,r,c,o),r.child;case 11:return Vb(i,r,r.type,r.pendingProps,o);case 7:return mn(i,r,r.pendingProps,o),r.child;case 8:return mn(i,r,r.pendingProps.children,o),r.child;case 12:return mn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Cr(r,r.type,c.value),mn(i,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Ga(r),p=wn(p),c=c(p),r.flags|=1,mn(i,r,c,o),r.child;case 14:return zb(i,r,r.type,r.pendingProps,o);case 15:return Bb(i,r,r.type,r.pendingProps,o);case 19:return Wb(i,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},i===null?(o=lf(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Fs(i.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Fb(i,r,o);case 24:return Ga(r),c=wn(Jt),i===null?(p=Gp(),p===null&&(p=_t,g=Fp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},Yp(r),Cr(r,Jt,p)):((i.lanes&o)!==0&&($p(i,r),wu(r,null,null,o),Su()),p=i.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Cr(r,Jt,c)):(c=g.cache,Cr(r,Jt,c),c!==p.cache&&Bp(r,[Jt],o,!0))),mn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xs(i){i.flags|=4}function Qb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rS(r)){if(r=Ri.current,r!==null&&((Qe&4194048)===Qe?ys!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||r!==ys))throw bu=qp,P0;i.flags|=8192}}function uf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?fs():536870912,i.lanes|=r,nl|=r)}function Iu(i,r){if(!it)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function It(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function PI(i,r,o){var c=r.pendingProps;switch(Up(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(r),null;case 1:return It(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ys(Jt),Qn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(du(r)?Xs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,N0())),It(r),null;case 26:return o=r.memoizedState,i===null?(Xs(r),o!==null?(It(r),Qb(r,o)):(It(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Xs(r),It(r),Qb(r,o)):(It(r),r.flags&=-16777217):(i.memoizedProps!==c&&Xs(r),It(r),r.flags&=-16777217),null;case 27:Zn(r),o=Ae.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return It(r),null}i=ve.current,du(r)?R0(r):(i=QE(p,c,o),r.stateNode=i,Xs(r))}return It(r),null;case 5:if(Zn(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return It(r),null}if(i=ve.current,du(r))R0(r);else{switch(p=Sf(Ae.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}i[oe]=r,i[ce]=c;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;e:switch(yn(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Xs(r)}}return It(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ae.current,du(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,p=Dn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[oe]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||GE(i.nodeValue,o)),i||Fa(r)}else i=Sf(i).createTextNode(c),i[oe]=r,r.stateNode=i}return It(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=du(r),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[oe]=r}else pu(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;It(r),p=!1}else p=N0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Ks(r),r):(Ks(r),null)}if(Ks(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),uf(r,r.updateQueue),It(r),null;case 4:return Qn(),i===null&&Wm(r.stateNode.containerInfo),It(r),null;case 10:return Ys(r.type),It(r),null;case 19:if(me(en),p=r.memoizedState,p===null)return It(r),null;if(c=(r.flags&128)!==0,g=p.rendering,g===null)if(c)Iu(p,!1);else{if(Pt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=sf(i),g!==null){for(r.flags|=128,Iu(p,!1),i=g.updateQueue,r.updateQueue=i,uf(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)C0(o,i),o=o.sibling;return fe(en,en.current&1|2),r.child}i=i.sibling}p.tail!==null&&fn()>ff&&(r.flags|=128,c=!0,Iu(p,!1),r.lanes=4194304)}else{if(!c)if(i=sf(g),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,uf(r,i),Iu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!it)return It(r),null}else 2*fn()-p.renderingStartTime>ff&&o!==536870912&&(r.flags|=128,c=!0,Iu(p,!1),r.lanes=4194304);p.isBackwards?(g.sibling=r.child,r.child=g):(i=p.last,i!==null?i.sibling=g:r.child=g,p.last=g)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=fn(),r.sibling=null,i=en.current,fe(en,c?i&1|2:i&1),r):(It(r),null);case 22:case 23:return Ks(r),Qp(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(It(r),r.subtreeFlags&6&&(r.flags|=8192)):It(r),o=r.updateQueue,o!==null&&uf(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&me(qa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ys(Jt),It(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function kI(i,r){switch(Up(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ys(Jt),Qn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Zn(r),null;case 13:if(Ks(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));pu()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return me(en),null;case 4:return Qn(),null;case 10:return Ys(r.type),null;case 22:case 23:return Ks(r),Qp(),i!==null&&me(qa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ys(Jt),null;case 25:return null;default:return null}}function Zb(i,r){switch(Up(r),r.tag){case 3:Ys(Jt),Qn();break;case 26:case 27:case 5:Zn(r);break;case 4:Qn();break;case 13:Ks(r);break;case 19:me(en);break;case 10:Ys(r.type);break;case 22:case 23:Ks(r),Qp(),i!==null&&me(qa);break;case 24:Ys(Jt)}}function Du(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var g=o.create,S=o.inst;c=g(),S.destroy=c}o=o.next}while(o!==p)}}catch(T){gt(r,r.return,T)}}function Mr(i,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var S=c.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,p=r;var L=o,X=T;try{X()}catch(se){gt(p,L,se)}}}c=c.next}while(c!==g)}}catch(se){gt(r,r.return,se)}}function Jb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{z0(r,o)}catch(c){gt(i,i.return,c)}}}function eE(i,r,o){o.props=$a(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){gt(i,r,c)}}function Mu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){gt(i,r,p)}}function vs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){gt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){gt(i,r,p)}else o.current=null}function tE(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){gt(i,i.return,p)}}function Cm(i,r,o){try{var c=i.stateNode;nD(c,i.type,o,r),c[ce]=r}catch(p){gt(i,i.return,p)}}function nE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zr(i.type)||i.tag===4}function Am(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rm(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ef));else if(c!==4&&(c===27&&zr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Rm(i,r,o),i=i.sibling;i!==null;)Rm(i,r,o),i=i.sibling}function cf(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&zr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(cf(i,r,o),i=i.sibling;i!==null;)cf(i,r,o),i=i.sibling}function iE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);yn(r,c,o),r[oe]=i,r[ce]=o}catch(g){gt(i,i.return,g)}}var Qs=!1,zt=!1,xm=!1,sE=typeof WeakSet=="function"?WeakSet:Set,rn=null;function LI(i,r){if(i=i.containerInfo,Zm=xf,i=m0(i),Ap(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,T=-1,L=-1,X=0,se=0,le=i,J=null;t:for(;;){for(var te;le!==o||p!==0&&le.nodeType!==3||(T=S+p),le!==g||c!==0&&le.nodeType!==3||(L=S+c),le.nodeType===3&&(S+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===i)break t;if(J===o&&++X===p&&(T=S),J===g&&++se===c&&(L=S),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}o=T===-1||L===-1?null:{start:T,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jm={focusedElem:i,selectionRange:o},xf=!1,rn=r;rn!==null;)if(r=rn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,rn=i;else for(;rn!==null;){switch(r=rn,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Me=$a(o.type,p,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Me,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(xe){gt(o,o.return,xe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ng(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ng(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,rn=i;break}rn=r.return}}function rE(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Or(i,o),c&4&&Du(5,o);break;case 1:if(Or(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(S){gt(o,o.return,S)}else{var p=$a(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){gt(o,o.return,S)}}c&64&&Jb(o),c&512&&Mu(o,o.return);break;case 3:if(Or(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{z0(i,r)}catch(S){gt(o,o.return,S)}}break;case 27:r===null&&c&4&&iE(o);case 26:case 5:Or(i,o),r===null&&c&4&&tE(o),c&512&&Mu(o,o.return);break;case 12:Or(i,o);break;case 13:Or(i,o),c&4&&lE(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=qI.bind(null,o),uD(i,o))));break;case 22:if(c=o.memoizedState!==null||Qs,!c){r=r!==null&&r.memoizedState!==null||zt,p=Qs;var g=zt;Qs=c,(zt=r)&&!g?Pr(i,o,(o.subtreeFlags&8772)!==0):Or(i,o),Qs=p,zt=g}break;case 30:break;default:Or(i,o)}}function aE(i){var r=i.alternate;r!==null&&(i.alternate=null,aE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Se(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,Hn=!1;function Zs(i,r,o){for(o=o.child;o!==null;)oE(i,r,o),o=o.sibling}function oE(i,r,o){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(dn,o)}catch{}switch(o.tag){case 26:zt||vs(o,r),Zs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||vs(o,r);var c=Ct,p=Hn;zr(o.type)&&(Ct=o.stateNode,Hn=!1),Zs(i,r,o),Bu(o.stateNode),Ct=c,Hn=p;break;case 5:zt||vs(o,r);case 6:if(c=Ct,p=Hn,Ct=null,Zs(i,r,o),Ct=c,Hn=p,Ct!==null)if(Hn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(g){gt(o,r,g)}else try{Ct.removeChild(o.stateNode)}catch(g){gt(o,r,g)}break;case 18:Ct!==null&&(Hn?(i=Ct,WE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Wu(i)):WE(Ct,o.stateNode));break;case 4:c=Ct,p=Hn,Ct=o.stateNode.containerInfo,Hn=!0,Zs(i,r,o),Ct=c,Hn=p;break;case 0:case 11:case 14:case 15:zt||Mr(2,o,r),zt||Mr(4,o,r),Zs(i,r,o);break;case 1:zt||(vs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&eE(o,r,c)),Zs(i,r,o);break;case 21:Zs(i,r,o);break;case 22:zt=(c=zt)||o.memoizedState!==null,Zs(i,r,o),zt=c;break;default:Zs(i,r,o)}}function lE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wu(i)}catch(o){gt(r,r.return,o)}}function UI(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new sE),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new sE),r;default:throw Error(s(435,i.tag))}}function Nm(i,r){var o=UI(i);r.forEach(function(c){var p=YI.bind(null,i,c);o.has(c)||(o.add(c),c.then(p,p))})}function ci(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=i,S=r,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){Ct=T.stateNode,Hn=!1;break e}break;case 5:Ct=T.stateNode,Hn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,Hn=!0;break e}T=T.return}if(Ct===null)throw Error(s(160));oE(g,S,p),Ct=null,Hn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)uE(r,i),r=r.sibling}var Zi=null;function uE(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ci(r,i),hi(i),c&4&&(Mr(3,i,i.return),Du(3,i),Mr(5,i,i.return));break;case 1:ci(r,i),hi(i),c&512&&(zt||o===null||vs(o,o.return)),c&64&&Qs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Zi;if(ci(r,i),hi(i),c&512&&(zt||o===null||vs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[_e]||g[oe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),yn(g,c,o),g[oe]=i,ke(g),c=g;break e;case"link":var S=iS("link","href",p).get(c+(o.href||""));if(S){for(var T=0;T<S.length;T++)if(g=S[T],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(T,1);break t}}g=p.createElement(c),yn(g,c,o),p.head.appendChild(g);break;case"meta":if(S=iS("meta","content",p).get(c+(o.content||""))){for(T=0;T<S.length;T++)if(g=S[T],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(T,1);break t}}g=p.createElement(c),yn(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[oe]=i,ke(g),c=g}i.stateNode=c}else sS(p,i.type,i.stateNode);else i.stateNode=nS(p,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?sS(p,i.type,i.stateNode):nS(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Cm(i,i.memoizedProps,o.memoizedProps)}break;case 27:ci(r,i),hi(i),c&512&&(zt||o===null||vs(o,o.return)),o!==null&&c&4&&Cm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ci(r,i),hi(i),c&512&&(zt||o===null||vs(o,o.return)),i.flags&32){p=i.stateNode;try{Ei(p,"")}catch(te){gt(i,i.return,te)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Cm(i,p,o!==null?o.memoizedProps:p)),c&1024&&(xm=!0);break;case 6:if(ci(r,i),hi(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(te){gt(i,i.return,te)}}break;case 3:if(Cf=null,p=Zi,Zi=wf(r.containerInfo),ci(r,i),Zi=p,hi(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Wu(r.containerInfo)}catch(te){gt(i,i.return,te)}xm&&(xm=!1,cE(i));break;case 4:c=Zi,Zi=wf(i.stateNode.containerInfo),ci(r,i),hi(i),Zi=c;break;case 12:ci(r,i),hi(i);break;case 13:ci(r,i),hi(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(km=fn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nm(i,c)));break;case 22:p=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=Qs,se=zt;if(Qs=X||p,zt=se||L,ci(r,i),zt=se,Qs=X,hi(i),c&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||L||Qs||zt||Ka(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(g=L.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=L.stateNode;var le=L.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;T.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){gt(L,L.return,te)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(te){gt(L,L.return,te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Nm(i,o))));break;case 19:ci(r,i),hi(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nm(i,c)));break;case 30:break;case 21:break;default:ci(r,i),hi(i)}}function hi(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(nE(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=Am(i);cf(i,g,p);break;case 5:var S=o.stateNode;o.flags&32&&(Ei(S,""),o.flags&=-33);var T=Am(i);cf(i,T,S);break;case 3:case 4:var L=o.stateNode.containerInfo,X=Am(i);Rm(i,X,L);break;default:throw Error(s(161))}}catch(se){gt(i,i.return,se)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function cE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;cE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Or(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)rE(i,r.alternate,r),r=r.sibling}function Ka(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Ka(r);break;case 1:vs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&eE(r,r.return,o),Ka(r);break;case 27:Bu(r.stateNode);case 26:case 5:vs(r,r.return),Ka(r);break;case 22:r.memoizedState===null&&Ka(r);break;case 30:Ka(r);break;default:Ka(r)}i=i.sibling}}function Pr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=i,g=r,S=g.flags;switch(g.tag){case 0:case 11:case 15:Pr(p,g,o),Du(4,g);break;case 1:if(Pr(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){gt(c,c.return,X)}if(c=g,p=c.updateQueue,p!==null){var T=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)V0(L[p],T)}catch(X){gt(c,c.return,X)}}o&&S&64&&Jb(g),Mu(g,g.return);break;case 27:iE(g);case 26:case 5:Pr(p,g,o),o&&c===null&&S&4&&tE(g),Mu(g,g.return);break;case 12:Pr(p,g,o);break;case 13:Pr(p,g,o),o&&S&4&&lE(p,g);break;case 22:g.memoizedState===null&&Pr(p,g,o),Mu(g,g.return);break;case 30:break;default:Pr(p,g,o)}r=r.sibling}}function Im(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&yu(o))}function Dm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i))}function _s(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hE(i,r,o,c),r=r.sibling}function hE(i,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:_s(i,r,o,c),p&2048&&Du(9,r);break;case 1:_s(i,r,o,c);break;case 3:_s(i,r,o,c),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i)));break;case 12:if(p&2048){_s(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,S=g.id,T=g.onPostCommit;typeof T=="function"&&T(S,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){gt(r,r.return,L)}}else _s(i,r,o,c);break;case 13:_s(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,S=r.alternate,r.memoizedState!==null?g._visibility&2?_s(i,r,o,c):Ou(i,r):g._visibility&2?_s(i,r,o,c):(g._visibility|=2,Jo(i,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&Im(S,r);break;case 24:_s(i,r,o,c),p&2048&&Dm(r.alternate,r);break;default:_s(i,r,o,c)}}function Jo(i,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,S=r,T=o,L=c,X=S.flags;switch(S.tag){case 0:case 11:case 15:Jo(g,S,T,L,p),Du(8,S);break;case 23:break;case 22:var se=S.stateNode;S.memoizedState!==null?se._visibility&2?Jo(g,S,T,L,p):Ou(g,S):(se._visibility|=2,Jo(g,S,T,L,p)),p&&X&2048&&Im(S.alternate,S);break;case 24:Jo(g,S,T,L,p),p&&X&2048&&Dm(S.alternate,S);break;default:Jo(g,S,T,L,p)}r=r.sibling}}function Ou(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,p=c.flags;switch(c.tag){case 22:Ou(o,c),p&2048&&Im(c.alternate,c);break;case 24:Ou(o,c),p&2048&&Dm(c.alternate,c);break;default:Ou(o,c)}r=r.sibling}}var Pu=8192;function el(i){if(i.subtreeFlags&Pu)for(i=i.child;i!==null;)fE(i),i=i.sibling}function fE(i){switch(i.tag){case 26:el(i),i.flags&Pu&&i.memoizedState!==null&&SD(Zi,i.memoizedState,i.memoizedProps);break;case 5:el(i);break;case 3:case 4:var r=Zi;Zi=wf(i.stateNode.containerInfo),el(i),Zi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Pu,Pu=16777216,el(i),Pu=r):el(i));break;default:el(i)}}function dE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ku(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];rn=c,mE(c,i)}dE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pE(i),i=i.sibling}function pE(i){switch(i.tag){case 0:case 11:case 15:ku(i),i.flags&2048&&Mr(9,i,i.return);break;case 3:ku(i);break;case 12:ku(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,hf(i)):ku(i);break;default:ku(i)}}function hf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];rn=c,mE(c,i)}dE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),hf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,hf(r));break;default:hf(r)}i=i.sibling}}function mE(i,r){for(;rn!==null;){var o=rn;switch(o.tag){case 0:case 11:case 15:Mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,rn=c;else e:for(o=i;rn!==null;){c=rn;var p=c.sibling,g=c.return;if(aE(c),c===o){rn=null;break e}if(p!==null){p.return=g,rn=p;break e}rn=g}}}var jI={getCacheForType:function(i){var r=wn(Jt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},VI=typeof WeakMap=="function"?WeakMap:Map,lt=0,_t=null,Ye=null,Qe=0,ut=0,fi=null,kr=!1,tl=!1,Mm=!1,Js=0,Pt=0,Lr=0,Wa=0,Om=0,xi=0,nl=0,Lu=null,Gn=null,Pm=!1,km=0,ff=1/0,df=null,Ur=null,gn=0,jr=null,il=null,sl=0,Lm=0,Um=null,gE=null,Uu=0,jm=null;function di(){if((lt&2)!==0&&Qe!==0)return Qe&-Qe;if(Z.T!==null){var i=qo;return i!==0?i:qm()}return j()}function yE(){xi===0&&(xi=(Qe&536870912)===0||it?Ls():536870912);var i=Ri.current;return i!==null&&(i.flags|=32),xi}function pi(i,r,o){(i===_t&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(rl(i,0),Vr(i,Qe,xi,!1)),Rt(i,o),((lt&2)===0||i!==_t)&&(i===_t&&((lt&2)===0&&(Wa|=o),Pt===4&&Vr(i,Qe,xi,!1)),bs(i))}function vE(i,r,o){if((lt&6)!==0)throw Error(s(327));var c=!o&&(r&124)===0&&(r&i.expiredLanes)===0||ni(i,r),p=c?FI(i,r):Bm(i,r,!0),g=c;do{if(p===0){tl&&!c&&Vr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!zI(o)){p=Bm(i,r,!1),g=!1;continue}if(p===2){if(g=r,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var T=i;p=Lu;var L=T.current.memoizedState.isDehydrated;if(L&&(rl(T,S).flags|=256),S=Bm(T,S,!1),S!==2){if(Mm&&!L){T.errorRecoveryDisabledLanes|=g,Wa|=g,p=4;break e}g=Gn,Gn=p,g!==null&&(Gn===null?Gn=g:Gn.push.apply(Gn,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){rl(i,0),Vr(i,r,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vr(c,r,xi,!kr);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=km+300-fn(),10<p)){if(Vr(c,r,xi,!kr),Vn(c,0,!0)!==0)break e;c.timeoutHandle=$E(_E.bind(null,c,o,Gn,df,Pm,r,xi,Wa,nl,kr,g,2,-0,0),p);break e}_E(c,o,Gn,df,Pm,r,xi,Wa,nl,kr,g,0,-0,0)}}break}while(!0);bs(i)}function _E(i,r,o,c,p,g,S,T,L,X,se,le,J,te){if(i.timeoutHandle=-1,le=r.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Gu={stylesheets:null,count:0,unsuspend:ED},fE(r),le=wD(),le!==null)){i.cancelPendingCommit=le(AE.bind(null,i,r,g,o,c,p,S,T,L,se,1,J,te)),Vr(i,g,S,!X);return}AE(i,r,g,o,c,p,S,T,L)}function zI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!li(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(i,r,o,c){r&=~Om,r&=~Wa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var p=r;0<p;){var g=31-Xt(p),S=1<<g;c[g]=-1,p&=~S}o!==0&&ii(i,o,r)}function pf(){return(lt&6)===0?(ju(0),!1):!0}function Vm(){if(Ye!==null){if(ut===0)var i=Ye.return;else i=Ye,qs=Ha=null,nm(i),Qo=null,xu=0,i=Ye;for(;i!==null;)Zb(i.alternate,i),i=i.return;Ye=null}}function rl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,sD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Vm(),_t=i,Ye=o=Fs(i.current,null),Qe=r,ut=0,fi=null,kr=!1,tl=ni(i,r),Mm=!1,nl=xi=Om=Wa=Lr=Pt=0,Gn=Lu=null,Pm=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var p=31-Xt(c),g=1<<p;r|=i[p],c&=~g}return Js=r,kh(),o}function bE(i,r){Fe=null,Z.H=ef,r===_u||r===Gh?(r=U0(),ut=3):r===P0?(r=U0(),ut=4):ut=r===jb?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,fi=r,Ye===null&&(Pt=1,af(i,wi(r,i.current)))}function EE(){var i=Z.H;return Z.H=ef,i===null?ef:i}function SE(){var i=Z.A;return Z.A=jI,i}function zm(){Pt=4,kr||(Qe&4194048)!==Qe&&Ri.current!==null||(tl=!0),(Lr&134217727)===0&&(Wa&134217727)===0||_t===null||Vr(_t,Qe,xi,!1)}function Bm(i,r,o){var c=lt;lt|=2;var p=EE(),g=SE();(_t!==i||Qe!==r)&&(df=null,rl(i,r)),r=!1;var S=Pt;e:do try{if(ut!==0&&Ye!==null){var T=Ye,L=fi;switch(ut){case 8:Vm(),S=6;break e;case 3:case 2:case 9:case 6:Ri.current===null&&(r=!0);var X=ut;if(ut=0,fi=null,al(i,T,L,X),o&&tl){S=0;break e}break;default:X=ut,ut=0,fi=null,al(i,T,L,X)}}BI(),S=Pt;break}catch(se){bE(i,se)}while(!0);return r&&i.shellSuspendCounter++,qs=Ha=null,lt=c,Z.H=p,Z.A=g,Ye===null&&(_t=null,Qe=0,kh()),S}function BI(){for(;Ye!==null;)wE(Ye)}function FI(i,r){var o=lt;lt|=2;var c=EE(),p=SE();_t!==i||Qe!==r?(df=null,ff=fn()+500,rl(i,r)):tl=ni(i,r);e:do try{if(ut!==0&&Ye!==null){r=Ye;var g=fi;t:switch(ut){case 1:ut=0,fi=null,al(i,r,g,1);break;case 2:case 9:if(k0(g)){ut=0,fi=null,TE(r);break}r=function(){ut!==2&&ut!==9||_t!==i||(ut=7),bs(i)},g.then(r,r);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:k0(g)?(ut=0,fi=null,TE(r)):(ut=0,fi=null,al(i,r,g,7));break;case 5:var S=null;switch(Ye.tag){case 26:S=Ye.memoizedState;case 5:case 27:var T=Ye;if(!S||rS(S)){ut=0,fi=null;var L=T.sibling;if(L!==null)Ye=L;else{var X=T.return;X!==null?(Ye=X,mf(X)):Ye=null}break t}}ut=0,fi=null,al(i,r,g,5);break;case 6:ut=0,fi=null,al(i,r,g,6);break;case 8:Vm(),Pt=6;break e;default:throw Error(s(462))}}HI();break}catch(se){bE(i,se)}while(!0);return qs=Ha=null,Z.H=c,Z.A=p,lt=o,Ye!==null?0:(_t=null,Qe=0,kh(),Pt)}function HI(){for(;Ye!==null&&!Wl();)wE(Ye)}function wE(i){var r=Xb(i.alternate,i,Js);i.memoizedProps=i.pendingProps,r===null?mf(i):Ye=r}function TE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Gb(o,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=Gb(o,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:nm(r);default:Zb(o,r),r=Ye=C0(r,Js),r=Xb(o,r,Js)}i.memoizedProps=i.pendingProps,r===null?mf(i):Ye=r}function al(i,r,o,c){qs=Ha=null,nm(r),Qo=null,xu=0;var p=r.return;try{if(MI(i,p,r,o,Qe)){Pt=1,af(i,wi(o,i.current)),Ye=null;return}}catch(g){if(p!==null)throw Ye=p,g;Pt=1,af(i,wi(o,i.current)),Ye=null;return}r.flags&32768?(it||c===1?i=!0:tl||(Qe&536870912)!==0?i=!1:(kr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Ri.current,c!==null&&c.tag===13&&(c.flags|=16384))),CE(r,i)):mf(r)}function mf(i){var r=i;do{if((r.flags&32768)!==0){CE(r,kr);return}i=r.return;var o=PI(r.alternate,r,Js);if(o!==null){Ye=o;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=i}while(r!==null);Pt===0&&(Pt=5)}function CE(i,r){do{var o=kI(i.alternate,i);if(o!==null){o.flags&=32767,Ye=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=o}while(i!==null);Pt=6,Ye=null}function AE(i,r,o,c,p,g,S,T,L){i.cancelPendingCommit=null;do gf();while(gn!==0);if((lt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Dp,_a(i,o,g,S,T,L),i===_t&&(Ye=_t=null,Qe=0),il=r,jr=i,sl=o,Lm=g,Um=p,gE=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$I(Bi,function(){return DE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,p=ue.p,ue.p=2,S=lt,lt|=4;try{LI(i,r,o)}finally{lt=S,ue.p=p,Z.T=c}}gn=1,RE(),xE(),NE()}}function RE(){if(gn===1){gn=0;var i=jr,r=il,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=ue.p;ue.p=2;var p=lt;lt|=4;try{uE(r,i);var g=Jm,S=m0(i.containerInfo),T=g.focusedElem,L=g.selectionRange;if(S!==T&&T&&T.ownerDocument&&p0(T.ownerDocument.documentElement,T)){if(L!==null&&Ap(T)){var X=L.start,se=L.end;if(se===void 0&&(se=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(se,T.value.length);else{var le=T.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),Me=T.textContent.length,xe=Math.min(L.start,Me),dt=L.end===void 0?xe:Math.min(L.end,Me);!te.extend&&xe>dt&&(S=dt,dt=xe,xe=S);var q=d0(T,xe),B=d0(T,dt);if(q&&B&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var $=le.createRange();$.setStart(q.node,q.offset),te.removeAllRanges(),xe>dt?(te.addRange($),te.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),te.addRange($))}}}}for(le=[],te=T;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<le.length;T++){var ae=le[T];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}xf=!!Zm,Jm=Zm=null}finally{lt=p,ue.p=c,Z.T=o}}i.current=r,gn=2}}function xE(){if(gn===2){gn=0;var i=jr,r=il,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=ue.p;ue.p=2;var p=lt;lt|=4;try{rE(i,r.alternate,r)}finally{lt=p,ue.p=c,Z.T=o}}gn=3}}function NE(){if(gn===4||gn===3){gn=0,va();var i=jr,r=il,o=sl,c=gE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?gn=5:(gn=0,il=jr=null,IE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ur=null),Ea(o),r=r.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(dn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Z.T,p=ue.p,ue.p=2,Z.T=null;try{for(var g=i.onRecoverableError,S=0;S<c.length;S++){var T=c[S];g(T.value,{componentStack:T.stack})}}finally{Z.T=r,ue.p=p}}(sl&3)!==0&&gf(),bs(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===jm?Uu++:(Uu=0,jm=i):Uu=0,ju(0)}}function IE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,yu(r)))}function gf(i){return RE(),xE(),NE(),DE()}function DE(){if(gn!==5)return!1;var i=jr,r=Lm;Lm=0;var o=Ea(sl),c=Z.T,p=ue.p;try{ue.p=32>o?32:o,Z.T=null,o=Um,Um=null;var g=jr,S=sl;if(gn=0,il=jr=null,sl=0,(lt&6)!==0)throw Error(s(331));var T=lt;if(lt|=4,pE(g.current),hE(g,g.current,S,o),lt=T,ju(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(dn,g)}catch{}return!0}finally{ue.p=p,Z.T=c,IE(i,r)}}function ME(i,r,o){r=wi(o,r),r=gm(i.stateNode,r,2),i=xr(i,r,2),i!==null&&(Rt(i,2),bs(i))}function gt(i,r,o){if(i.tag===3)ME(i,i,o);else for(;r!==null;){if(r.tag===3){ME(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ur===null||!Ur.has(c))){i=wi(o,i),o=Lb(2),c=xr(r,o,2),c!==null&&(Ub(o,c,r,i),Rt(c,2),bs(c));break}}r=r.return}}function Fm(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new VI;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(Mm=!0,p.add(o),i=GI.bind(null,i,r,o),r.then(i,i))}function GI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Qe&o)===o&&(Pt===4||Pt===3&&(Qe&62914560)===Qe&&300>fn()-km?(lt&2)===0&&rl(i,0):Om|=o,nl===Qe&&(nl=0)),bs(i)}function OE(i,r){r===0&&(r=fs()),i=Bo(i,r),i!==null&&(Rt(i,r),bs(i))}function qI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),OE(i,o)}function YI(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),OE(i,o)}function $I(i,r){return ks(i,r)}var yf=null,ol=null,Hm=!1,vf=!1,Gm=!1,Xa=0;function bs(i){i!==ol&&i.next===null&&(ol===null?yf=ol=i:ol=ol.next=i),vf=!0,Hm||(Hm=!0,WI())}function ju(i,r){if(!Gm&&vf){Gm=!0;do for(var o=!1,c=yf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var S=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-Xt(42|i)+1)-1,g&=p&~(S&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,UE(c,g))}else g=Qe,g=Vn(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ni(c,g)||(o=!0,UE(c,g));c=c.next}while(o);Gm=!1}}function KI(){PE()}function PE(){vf=Hm=!1;var i=0;Xa!==0&&(iD()&&(i=Xa),Xa=0);for(var r=fn(),o=null,c=yf;c!==null;){var p=c.next,g=kE(c,r);g===0?(c.next=null,o===null?yf=p:o.next=p,p===null&&(ol=o)):(o=c,(i!==0||(g&3)!==0)&&(vf=!0)),c=p}ju(i)}function kE(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Xt(g),T=1<<S,L=p[S];L===-1?((T&o)===0||(T&c)!==0)&&(p[S]=yr(T,r)):L<=r&&(i.expiredLanes|=T),g&=~T}if(r=_t,o=Qe,o=Vn(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&jn(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ni(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&jn(c),Ea(o)){case 2:case 8:o=Ft;break;case 32:o=Bi;break;case 268435456:o=Hi;break;default:o=Bi}return c=LE.bind(null,i),o=ks(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&jn(c),i.callbackPriority=2,i.callbackNode=null,2}function LE(i,r){if(gn!==0&&gn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(gf()&&i.callbackNode!==o)return null;var c=Qe;return c=Vn(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(vE(i,c,r),kE(i,fn()),i.callbackNode!=null&&i.callbackNode===o?LE.bind(null,i):null)}function UE(i,r){if(gf())return null;vE(i,r,!0)}function WI(){rD(function(){(lt&6)!==0?ks(jt,KI):PE()})}function qm(){return Xa===0&&(Xa=Ls()),Xa}function jE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ki(""+i)}function VE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function XI(i,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=jE((p[ce]||null).action),S=c.submitter;S&&(r=(r=S[ce]||null)?jE(r.formAction):S.getAttribute("formAction"),r!==null&&(g=r,S=null));var T=new xa("action","action",null,c,p);i.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xa!==0){var L=S?VE(p,S):new FormData(p);hm(o,{pending:!0,data:L,method:p.method,action:g},null,L)}}else typeof g=="function"&&(T.preventDefault(),L=S?VE(p,S):new FormData(p),hm(o,{pending:!0,data:L,method:p.method,action:g},g,L))},currentTarget:p}]})}}for(var Ym=0;Ym<Ip.length;Ym++){var $m=Ip[Ym],QI=$m.toLowerCase(),ZI=$m[0].toUpperCase()+$m.slice(1);Qi(QI,"on"+ZI)}Qi(v0,"onAnimationEnd"),Qi(_0,"onAnimationIteration"),Qi(b0,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(mI,"onTransitionRun"),Qi(gI,"onTransitionStart"),Qi(yI,"onTransitionCancel"),Qi(E0,"onTransitionEnd"),Qt("onMouseEnter",["mouseout","mouseover"]),Qt("onMouseLeave",["mouseout","mouseover"]),Qt("onPointerEnter",["pointerout","pointerover"]),Qt("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function zE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var S=c.length-1;0<=S;S--){var T=c[S],L=T.instance,X=T.currentTarget;if(T=T.listener,L!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=X;try{g(p)}catch(se){rf(se)}p.currentTarget=null,g=L}else for(S=0;S<c.length;S++){if(T=c[S],L=T.instance,X=T.currentTarget,T=T.listener,L!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=X;try{g(p)}catch(se){rf(se)}p.currentTarget=null,g=L}}}}function $e(i,r){var o=r[Ee];o===void 0&&(o=r[Ee]=new Set);var c=i+"__bubble";o.has(c)||(BE(r,i,2,!1),o.add(c))}function Km(i,r,o){var c=0;r&&(c|=4),BE(o,i,c,r)}var _f="_reactListening"+Math.random().toString(36).slice(2);function Wm(i){if(!i[_f]){i[_f]=!0,ot.forEach(function(o){o!=="selectionchange"&&(JI.has(o)||Km(o,!1,i),Km(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[_f]||(r[_f]=!0,Km("selectionchange",!1,r))}}function BE(i,r,o,c){switch(hS(r)){case 2:var p=AD;break;case 8:p=RD;break;default:p=ug}o=p.bind(null,r,o,i),p=void 0,!zs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function Xm(i,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var T=c.stateNode.containerInfo;if(T===p)break;if(S===4)for(S=c.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;T!==null;){if(S=Ue(T),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){c=g=S;continue e}T=T.parentNode}}c=c.return}Ca(function(){var X=g,se=iu(o),le=[];e:{var J=S0.get(i);if(J!==void 0){var te=xa,Me=i;switch(i){case"keypress":if(Aa(o)===0)break e;case"keydown":case"keyup":te=Bn;break;case"focusin":Me="focus",te=ko;break;case"focusout":Me="blur",te=ko;break;case"beforeblur":case"afterblur":te=ko;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=f;break;case v0:case _0:case b0:te=ru;break;case E0:te=E;break;case"scroll":case"scrollend":te=Ia;break;case"wheel":te=K;break;case"copy":case"cut":case"paste":te=xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=lu;break;case"toggle":case"beforetoggle":te=de}var xe=(r&4)!==0,dt=!xe&&(i==="scroll"||i==="scrollend"),q=xe?J!==null?J+"Capture":null:J;xe=[];for(var B=X,$;B!==null;){var ae=B;if($=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||$===null||q===null||(ae=Sr(B,q),ae!=null&&xe.push(zu(B,ae,$))),dt)break;B=B.return}0<xe.length&&(J=new te(J,Me,null,o,se),le.push({event:J,listeners:xe}))}}if((r&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",J&&o!==nu&&(Me=o.relatedTarget||o.fromElement)&&(Ue(Me)||Me[ye]))break e;if((te||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Me=o.relatedTarget||o.toElement,te=X,Me=Me?Ue(Me):null,Me!==null&&(dt=l(Me),xe=Me.tag,Me!==dt||xe!==5&&xe!==27&&xe!==6)&&(Me=null)):(te=null,Me=X),te!==Me)){if(xe=Oa,ae="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(xe=lu,ae="onPointerLeave",q="onPointerEnter",B="pointer"),dt=te==null?J:mt(te),$=Me==null?J:mt(Me),J=new xe(ae,B+"leave",te,o,se),J.target=dt,J.relatedTarget=$,ae=null,Ue(se)===X&&(xe=new xe(q,B+"enter",Me,o,se),xe.target=$,xe.relatedTarget=dt,ae=xe),dt=ae,te&&Me)t:{for(xe=te,q=Me,B=0,$=xe;$;$=ll($))B++;for($=0,ae=q;ae;ae=ll(ae))$++;for(;0<B-$;)xe=ll(xe),B--;for(;0<$-B;)q=ll(q),$--;for(;B--;){if(xe===q||q!==null&&xe===q.alternate)break t;xe=ll(xe),q=ll(q)}xe=null}else xe=null;te!==null&&FE(le,J,te,xe,!1),Me!==null&&dt!==null&&FE(le,dt,Me,xe,!0)}}e:{if(J=X?mt(X):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var be=o0;else if(r0(J))if(l0)be=fI;else{be=cI;var He=uI}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Mo(X.elementType)&&(be=o0):be=hI;if(be&&(be=be(i,X))){a0(le,be,o,se);break e}He&&He(i,J,X),i==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Jl(J,"number",J.value)}switch(He=X?mt(X):window,i){case"focusin":(r0(He)||He.contentEditable==="true")&&(jo=He,Rp=X,fu=null);break;case"focusout":fu=Rp=jo=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,g0(le,o,se);break;case"selectionchange":if(pI)break;case"keydown":case"keyup":g0(le,o,se)}var Ce;if(Nt)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ms?Xi(i,o)&&(Ne="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(oi&&o.locale!=="ko"&&(ms||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ms&&(Ce=Ch()):(Si=se,St="value"in Si?Si.value:Si.textContent,ms=!0)),He=bf(X,Ne),0<He.length&&(Ne=new ou(Ne,i,null,o,se),le.push({event:Ne,listeners:He}),Ce?Ne.data=Ce:(Ce=ka(o),Ce!==null&&(Ne.data=Ce)))),(Ce=Ht?rI(i,o):aI(i,o))&&(Ne=bf(X,"onBeforeInput"),0<Ne.length&&(He=new ou("onBeforeInput","beforeinput",null,o,se),le.push({event:He,listeners:Ne}),He.data=Ce)),XI(le,i,X,o,se)}zE(le,r)})}function zu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function bf(i,r){for(var o=r+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Sr(i,o),p!=null&&c.unshift(zu(i,p,g)),p=Sr(i,r),p!=null&&c.push(zu(i,p,g))),i.tag===3)return c;i=i.return}return[]}function ll(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function FE(i,r,o,c,p){for(var g=r._reactName,S=[];o!==null&&o!==c;){var T=o,L=T.alternate,X=T.stateNode;if(T=T.tag,L!==null&&L===c)break;T!==5&&T!==26&&T!==27||X===null||(L=X,p?(X=Sr(o,g),X!=null&&S.unshift(zu(o,X,L))):p||(X=Sr(o,g),X!=null&&S.push(zu(o,X,L)))),o=o.return}S.length!==0&&i.push({event:r,listeners:S})}var eD=/\r\n?/g,tD=/\u0000|\uFFFD/g;function HE(i){return(typeof i=="string"?i:""+i).replace(eD,`
`).replace(tD,"")}function GE(i,r){return r=HE(r),HE(i)===r}function Ef(){}function ft(i,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Ei(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Ei(i,""+c);break;case"className":bi(i,"class",c);break;case"tabIndex":bi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(i,o,c);break;case"style":tu(i,c,g);break;case"data":if(r!=="object"){bi(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ki(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ft(i,r,"name",p.name,p,null),ft(i,r,"formEncType",p.formEncType,p,null),ft(i,r,"formMethod",p.formMethod,p,null),ft(i,r,"formTarget",p.formTarget,p,null)):(ft(i,r,"encType",p.encType,p,null),ft(i,r,"method",p.method,p,null),ft(i,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ki(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ef);break;case"onScroll":c!=null&&$e("scroll",i);break;case"onScrollEnd":c!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ki(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":$e("beforetoggle",i),$e("toggle",i),_i(i,"popover",c);break;case"xlinkActuate":Le(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Le(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Le(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Le(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Le(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Le(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Le(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Le(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Le(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_i(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sh.get(o)||o,_i(i,o,c))}}function Qm(i,r,o,c,p,g){switch(o){case"style":tu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Ei(i,c):(typeof c=="number"||typeof c=="bigint")&&Ei(i,""+c);break;case"onScroll":c!=null&&$e("scroll",i);break;case"onScrollEnd":c!=null&&$e("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=i[ce]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):_i(i,o,c)}}}function yn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(i,r,g,S,o,null)}}p&&ft(i,r,"srcSet",o.srcSet,o,null),c&&ft(i,r,"src",o.src,o,null);return;case"input":$e("invalid",i);var T=g=S=p=null,L=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":p=se;break;case"type":S=se;break;case"checked":L=se;break;case"defaultChecked":X=se;break;case"value":g=se;break;case"defaultValue":T=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:ft(i,r,c,se,o,null)}}Zl(i,g,T,L,X,S,p,!1),_r(i);return;case"select":$e("invalid",i),c=S=g=null;for(p in o)if(o.hasOwnProperty(p)&&(T=o[p],T!=null))switch(p){case"value":g=T;break;case"defaultValue":S=T;break;case"multiple":c=T;default:ft(i,r,p,T,o,null)}r=g,o=S,i.multiple=!!c,r!=null?br(i,!!c,r,!1):o!=null&&br(i,!!c,o,!0);return;case"textarea":$e("invalid",i),g=p=c=null;for(S in o)if(o.hasOwnProperty(S)&&(T=o[S],T!=null))switch(S){case"value":c=T;break;case"defaultValue":p=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ft(i,r,S,T,o,null)}Eh(i,c,p,g),_r(i);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(i,r,L,c,o,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(c=0;c<Vu.length;c++)$e(Vu[c],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(i,r,X,c,o,null)}return;default:if(Mo(r)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Qm(i,r,se,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&ft(i,r,T,c,o,null))}function nD(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,T=null,L=null,X=null,se=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=le;default:c.hasOwnProperty(te)||ft(i,r,te,null,c,le)}}for(var J in c){var te=c[J];if(le=o[J],c.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":g=te;break;case"name":p=te;break;case"checked":X=te;break;case"defaultChecked":se=te;break;case"value":S=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==le&&ft(i,r,J,te,c,le)}}Ql(i,S,T,L,X,se,g,p);return;case"select":te=S=T=J=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":te=L;default:c.hasOwnProperty(g)||ft(i,r,g,null,c,L)}for(p in c)if(g=c[p],L=o[p],c.hasOwnProperty(p)&&(g!=null||L!=null))switch(p){case"value":J=g;break;case"defaultValue":T=g;break;case"multiple":S=g;default:g!==L&&ft(i,r,p,g,c,L)}r=T,o=S,c=te,J!=null?br(i,!!o,J,!1):!!c!=!!o&&(r!=null?br(i,!!o,r,!0):br(i,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(T in o)if(p=o[T],o.hasOwnProperty(T)&&p!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(i,r,T,null,c,p)}for(S in c)if(p=c[S],g=o[S],c.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":J=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&ft(i,r,S,p,c,g)}bh(i,J,te);return;case"option":for(var Me in o)if(J=o[Me],o.hasOwnProperty(Me)&&J!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":i.selected=!1;break;default:ft(i,r,Me,null,c,J)}for(L in c)if(J=c[L],te=o[L],c.hasOwnProperty(L)&&J!==te&&(J!=null||te!=null))switch(L){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ft(i,r,L,J,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)J=o[xe],o.hasOwnProperty(xe)&&J!=null&&!c.hasOwnProperty(xe)&&ft(i,r,xe,null,c,J);for(X in c)if(J=c[X],te=o[X],c.hasOwnProperty(X)&&J!==te&&(J!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:ft(i,r,X,J,c,te)}return;default:if(Mo(r)){for(var dt in o)J=o[dt],o.hasOwnProperty(dt)&&J!==void 0&&!c.hasOwnProperty(dt)&&Qm(i,r,dt,void 0,c,J);for(se in c)J=c[se],te=o[se],!c.hasOwnProperty(se)||J===te||J===void 0&&te===void 0||Qm(i,r,se,J,c,te);return}}for(var q in o)J=o[q],o.hasOwnProperty(q)&&J!=null&&!c.hasOwnProperty(q)&&ft(i,r,q,null,c,J);for(le in c)J=c[le],te=o[le],!c.hasOwnProperty(le)||J===te||J==null&&te==null||ft(i,r,le,J,c,te)}var Zm=null,Jm=null;function Sf(i){return i.nodeType===9?i:i.ownerDocument}function qE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function eg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tg=null;function iD(){var i=window.event;return i&&i.type==="popstate"?i===tg?!1:(tg=i,!0):(tg=null,!1)}var $E=typeof setTimeout=="function"?setTimeout:void 0,sD=typeof clearTimeout=="function"?clearTimeout:void 0,KE=typeof Promise=="function"?Promise:void 0,rD=typeof queueMicrotask=="function"?queueMicrotask:typeof KE<"u"?function(i){return KE.resolve(null).then(i).catch(aD)}:$E;function aD(i){setTimeout(function(){throw i})}function zr(i){return i==="head"}function WE(i,r){var o=r,c=0,p=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var S=i.ownerDocument;if(o&1&&Bu(S.documentElement),o&2&&Bu(S.body),o&4)for(o=S.head,Bu(o),S=o.firstChild;S;){var T=S.nextSibling,L=S.nodeName;S[_e]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=T}}if(p===0){i.removeChild(g),Wu(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Wu(r)}function ng(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ng(o),Se(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function oD(i,r,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[_e])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ji(i.nextSibling),i===null)break}return null}function lD(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ji(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function uD(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ji(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var sg=null;function XE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function QE(i,r,o){switch(r=Sf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Bu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Se(i)}var Ni=new Map,ZE=new Set;function wf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var er=ue.d;ue.d={f:cD,r:hD,D:fD,C:dD,L:pD,m:mD,X:yD,S:gD,M:vD};function cD(){var i=er.f(),r=pf();return i||r}function hD(i){var r=Xe(i);r!==null&&r.tag===5&&r.type==="form"?vb(r):er.r(i)}var ul=typeof document>"u"?null:document;function JE(i,r,o){var c=ul;if(c&&typeof r=="string"&&r){var p=nn(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),ZE.has(p)||(ZE.add(p),i={rel:i,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),yn(r,"link",i),ke(r),c.head.appendChild(r)))}}function fD(i){er.D(i),JE("dns-prefetch",i,null)}function dD(i,r){er.C(i,r),JE("preconnect",i,r)}function pD(i,r,o){er.L(i,r,o);var c=ul;if(c&&i&&r){var p='link[rel="preload"][as="'+nn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+nn(o.imageSizes)+'"]')):p+='[href="'+nn(i)+'"]';var g=p;switch(r){case"style":g=cl(i);break;case"script":g=hl(i)}Ni.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Ni.set(g,i),c.querySelector(p)!==null||r==="style"&&c.querySelector(Fu(g))||r==="script"&&c.querySelector(Hu(g))||(r=c.createElement("link"),yn(r,"link",i),ke(r),c.head.appendChild(r)))}}function mD(i,r){er.m(i,r);var o=ul;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+nn(c)+'"][href="'+nn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=hl(i)}if(!Ni.has(g)&&(i=y({rel:"modulepreload",href:i},r),Ni.set(g,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hu(g)))return}c=o.createElement("link"),yn(c,"link",i),ke(c),o.head.appendChild(c)}}}function gD(i,r,o){er.S(i,r,o);var c=ul;if(c&&i){var p=wt(c).hoistableStyles,g=cl(i);r=r||"default";var S=p.get(g);if(!S){var T={loading:0,preload:null};if(S=c.querySelector(Fu(g)))T.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Ni.get(g))&&rg(i,o);var L=S=c.createElement("link");ke(L),yn(L,"link",i),L._p=new Promise(function(X,se){L.onload=X,L.onerror=se}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tf(S,r,c)}S={type:"stylesheet",instance:S,count:1,state:T},p.set(g,S)}}}function yD(i,r){er.X(i,r);var o=ul;if(o&&i){var c=wt(o).hoistableScripts,p=hl(i),g=c.get(p);g||(g=o.querySelector(Hu(p)),g||(i=y({src:i,async:!0},r),(r=Ni.get(p))&&ag(i,r),g=o.createElement("script"),ke(g),yn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function vD(i,r){er.M(i,r);var o=ul;if(o&&i){var c=wt(o).hoistableScripts,p=hl(i),g=c.get(p);g||(g=o.querySelector(Hu(p)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Ni.get(p))&&ag(i,r),g=o.createElement("script"),ke(g),yn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function eS(i,r,o,c){var p=(p=Ae.current)?wf(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=cl(o.href),o=wt(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=cl(o.href);var g=wt(p).hoistableStyles,S=g.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=p.querySelector(Fu(i)))&&!g._p&&(S.instance=g,S.state.loading=5),Ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ni.set(i,o),g||_D(p,i,o,S.state))),r&&c===null)throw Error(s(528,""));return S}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hl(o),o=wt(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function cl(i){return'href="'+nn(i)+'"'}function Fu(i){return'link[rel="stylesheet"]['+i+"]"}function tS(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function _D(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),yn(r,"link",o),ke(r),i.head.appendChild(r))}function hl(i){return'[src="'+nn(i)+'"]'}function Hu(i){return"script[async]"+i}function nS(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+nn(o.href)+'"]');if(c)return r.instance=c,ke(c),c;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ke(c),yn(c,"style",p),Tf(c,o.precedence,i),r.instance=c;case"stylesheet":p=cl(o.href);var g=i.querySelector(Fu(p));if(g)return r.state.loading|=4,r.instance=g,ke(g),g;c=tS(o),(p=Ni.get(p))&&rg(c,p),g=(i.ownerDocument||i).createElement("link"),ke(g);var S=g;return S._p=new Promise(function(T,L){S.onload=T,S.onerror=L}),yn(g,"link",c),r.state.loading|=4,Tf(g,o.precedence,i),r.instance=g;case"script":return g=hl(o.src),(p=i.querySelector(Hu(g)))?(r.instance=p,ke(p),p):(c=o,(p=Ni.get(g))&&(c=y({},o),ag(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),ke(p),yn(p,"link",c),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Tf(c,o.precedence,i));return r.instance}function Tf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,S=0;S<c.length;S++){var T=c[S];if(T.dataset.precedence===r)g=T;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function rg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ag(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Cf=null;function iS(i,r,o){if(Cf===null){var c=new Map,p=Cf=new Map;p.set(o,c)}else p=Cf,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var g=o[p];if(!(g[_e]||g[oe]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(r)||"";S=i+S;var T=c.get(S);T?T.push(g):c.set(S,[g])}}return c}function sS(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function bD(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function rS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Gu=null;function ED(){}function SD(i,r,o){if(Gu===null)throw Error(s(475));var c=Gu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=cl(o.href),g=i.querySelector(Fu(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Af.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=g,ke(g);return}g=i.ownerDocument||i,o=tS(o),(p=Ni.get(p))&&rg(o,p),g=g.createElement("link"),ke(g);var S=g;S._p=new Promise(function(T,L){S.onload=T,S.onerror=L}),yn(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Af.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function wD(){if(Gu===null)throw Error(s(475));var i=Gu;return i.stylesheets&&i.count===0&&og(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&og(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)og(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rf=null;function og(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rf=new Map,r.forEach(TD,i),Rf=null,Af.call(i))}function TD(i,r){if(!(r.state.loading&4)){var o=Rf.get(i);if(o)var c=o.get(null);else{o=new Map,Rf.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}p=r.instance,S=p.getAttribute("data-precedence"),g=o.get(S)||c,g===c&&o.set(null,p),o.set(S,p),this.count++,c=Af.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var qu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function CD(i,r,o,c,p,g,S,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function aS(i,r,o,c,p,g,S,T,L,X,se,le){return i=new CD(i,r,o,S,T,L,X,le),r=1,g===!0&&(r|=24),g=ui(3,null,null,r),i.current=g,g.stateNode=i,r=Fp(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Yp(g),i}function oS(i){return i?(i=Fo,i):Fo}function lS(i,r,o,c,p,g){p=oS(p),c.context===null?c.context=p:c.pendingContext=p,c=Rr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=xr(i,c,r),o!==null&&(pi(o,i,r),Eu(o,i,r))}function uS(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function lg(i,r){uS(i,r),(i=i.alternate)&&uS(i,r)}function cS(i){if(i.tag===13){var r=Bo(i,67108864);r!==null&&pi(r,i,67108864),lg(i,67108864)}}var xf=!0;function AD(i,r,o,c){var p=Z.T;Z.T=null;var g=ue.p;try{ue.p=2,ug(i,r,o,c)}finally{ue.p=g,Z.T=p}}function RD(i,r,o,c){var p=Z.T;Z.T=null;var g=ue.p;try{ue.p=8,ug(i,r,o,c)}finally{ue.p=g,Z.T=p}}function ug(i,r,o,c){if(xf){var p=cg(c);if(p===null)Xm(i,r,c,Nf,o),fS(i,c);else if(ND(p,i,r,o,c))c.stopPropagation();else if(fS(i,c),r&4&&-1<xD.indexOf(i)){for(;p!==null;){var g=Xe(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=ti(g.pendingLanes);if(S!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var L=1<<31-Xt(S);T.entanglements[1]|=L,S&=~L}bs(g),(lt&6)===0&&(ff=fn()+500,ju(0))}}break;case 13:T=Bo(g,2),T!==null&&pi(T,g,2),pf(),lg(g,2)}if(g=cg(c),g===null&&Xm(i,r,c,Nf,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Xm(i,r,c,null,o)}}function cg(i){return i=iu(i),hg(i)}var Nf=null;function hg(i){if(Nf=null,i=Ue(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Nf=i,null}function hS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xo()){case jt:return 2;case Ft:return 8;case Bi:case Fi:return 32;case Hi:return 268435456;default:return 32}default:return 32}}var fg=!1,Br=null,Fr=null,Hr=null,Yu=new Map,$u=new Map,Gr=[],xD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fS(i,r){switch(i){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Yu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(r.pointerId)}}function Ku(i,r,o,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=Xe(r),r!==null&&cS(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function ND(i,r,o,c,p){switch(r){case"focusin":return Br=Ku(Br,i,r,o,c,p),!0;case"dragenter":return Fr=Ku(Fr,i,r,o,c,p),!0;case"mouseover":return Hr=Ku(Hr,i,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return Yu.set(g,Ku(Yu.get(g)||null,i,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,$u.set(g,Ku($u.get(g)||null,i,r,o,c,p)),!0}return!1}function dS(i){var r=Ue(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Y(i.priority,function(){if(o.tag===13){var c=di();c=ba(c);var p=Bo(o,c);p!==null&&pi(p,o,c),lg(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function If(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=cg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);nu=c,o.target.dispatchEvent(c),nu=null}else return r=Xe(o),r!==null&&cS(r),i.blockedOn=o,!1;r.shift()}return!0}function pS(i,r,o){If(i)&&o.delete(r)}function ID(){fg=!1,Br!==null&&If(Br)&&(Br=null),Fr!==null&&If(Fr)&&(Fr=null),Hr!==null&&If(Hr)&&(Hr=null),Yu.forEach(pS),$u.forEach(pS)}function Df(i,r){i.blockedOn===r&&(i.blockedOn=null,fg||(fg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ID)))}var Mf=null;function mS(i){Mf!==i&&(Mf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mf===i&&(Mf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],p=i[r+2];if(typeof c!="function"){if(hg(c||o)===null)continue;break}var g=Xe(o);g!==null&&(i.splice(r,3),r-=3,hm(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Wu(i){function r(L){return Df(L,i)}Br!==null&&Df(Br,i),Fr!==null&&Df(Fr,i),Hr!==null&&Df(Hr,i),Yu.forEach(r),$u.forEach(r);for(var o=0;o<Gr.length;o++){var c=Gr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Gr.length&&(o=Gr[0],o.blockedOn===null);)dS(o),o.blockedOn===null&&Gr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],S=p[ce]||null;if(typeof g=="function")S||mS(o);else if(S){var T=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[ce]||null)T=S.formAction;else if(hg(p)!==null)continue}else T=S.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),mS(o)}}}function dg(i){this._internalRoot=i}Of.prototype.render=dg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=di();lS(o,c,i,r,null,null)},Of.prototype.unmount=dg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;lS(i.current,2,null,i,null,null),pf(),r[ye]=null}};function Of(i){this._internalRoot=i}Of.prototype.unstable_scheduleHydration=function(i){if(i){var r=j();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Gr.length&&r!==0&&r<Gr[o].priority;o++);Gr.splice(o,0,i),o===0&&dS(i)}};var gS=e.version;if(gS!=="19.1.1")throw Error(s(527,gS,"19.1.1"));ue.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(r),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var DD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{dn=Pf.inject(DD),yt=Pf}catch{}}return Qu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",p=Mb,g=Ob,S=Pb,T=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=aS(i,1,!1,null,null,o,c,p,g,S,T,null),i[ye]=r.current,Wm(i),new dg(r)},Qu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,p="",g=Mb,S=Ob,T=Pb,L=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),r=aS(i,1,!0,r,o??null,c,p,g,S,T,L,X),r.context=oS(null),o=r.current,c=di(),c=ba(c),p=Rr(c),p.callback=null,xr(o,p,c),o=c,r.current.lanes=o,Rt(r,o),bs(r),i[ye]=r.current,Wm(i),new Of(r)},Qu.version="19.1.1",Qu}var AS;function zD(){if(AS)return gg.exports;AS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gg.exports=VD(),gg.exports}var BD=zD();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tC=t=>{throw TypeError(t)},FD=(t,e,n)=>e.has(t)||tC("Cannot "+n),bg=(t,e,n)=>(FD(t,e,"read from private field"),n?n.call(t):e.get(t)),HD=(t,e,n)=>e.has(t)?tC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),RS="popstate";function GD(t={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return Ic("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:sa(a)}return YD(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qD(){return Math.random().toString(36).substring(2,10)}function xS(t,e){return{usr:t.state,key:t.key,idx:e}}function Ic(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||s||qD()}}function sa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function YD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let V=y(),F=V==null?null:V-m;m=V,d&&d({action:h,location:z.location,delta:F})}function b(V,F){h="PUSH";let W=Ic(z.location,V,F);m=y()+1;let Q=xS(W,m),ee=z.createHref(W);try{u.pushState(Q,"",ee)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(ee)}l&&d&&d({action:h,location:z.location,delta:1})}function w(V,F){h="REPLACE";let W=Ic(z.location,V,F);m=y();let Q=xS(W,m),ee=z.createHref(W);u.replaceState(Q,"",ee),l&&d&&d({action:h,location:z.location,delta:0})}function N(V){return nC(V)}let z={get action(){return h},get location(){return t(a,u)},listen(V){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(RS,v),d=V,()=>{a.removeEventListener(RS,v),d=null}},createHref(V){return e(a,V)},createURL:N,encodeLocation(V){let F=N(V);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:w,go(V){return u.go(V)}};return z}function nC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),We(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:sa(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var lc,NS=class{constructor(t){if(HD(this,lc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(bg(this,lc).has(t))return bg(this,lc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){bg(this,lc).set(t,e)}};lc=new WeakMap;var $D=new Set(["lazy","caseSensitive","path","id","index","children"]);function KD(t){return $D.has(t)}var WD=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function XD(t){return WD.has(t)}function QD(t){return t.index===!0}function Dc(t,e,n=[],s={},a=!1){return t.map((l,u)=>{let h=[...n,String(u)],d=typeof l.id=="string"?l.id:h.join("-");if(We(l.index!==!0||!l.children,"Cannot specify children on an index route"),We(a||!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),QD(l)){let m={...l,...e(l),id:d};return s[d]=m,m}else{let m={...l,...e(l),id:d,children:void 0};return s[d]=m,l.children&&(m.children=Dc(l.children,e,h,s,a)),m}})}function Wr(t,e,n="/"){return Kf(t,e,n,!1)}function Kf(t,e,n,s){let a=typeof e=="string"?ca(e):e,l=Ui(a.pathname||"/",n);if(l==null)return null;let u=iC(t);JD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=cM(l);h=lM(u[d],m,s)}return h}function ZD(t,e){let{route:n,pathname:s,params:a}=t;return{id:n.id,pathname:s,params:a,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function iC(t,e=[],n=[],s="",a=!1){let l=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;We(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=Cs([s,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(We(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),iC(u.children,e,b,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:aM(v,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of sC(u.path))l(u,h,!0,d)}),e}function sC(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=sC(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function JD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var eM=/^:[\w-]+$/,tM=3,nM=2,iM=1,sM=10,rM=-2,IS=t=>t==="*";function aM(t,e){let n=t.split("/"),s=n.length;return n.some(IS)&&(s+=rM),e&&(s+=nM),n.filter(a=>!IS(a)).reduce((a,l)=>a+(eM.test(l)?tM:l===""?iM:sM),s)}function oM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function lM(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=ud({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),b=d.route;if(!v&&m&&n&&!s[s.length-1].route.index&&(v=ud({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Cs([l,v.pathname]),pathnameBase:pM(Cs([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Cs([l,v.pathnameBase]))}return u}function ud(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=uM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let N=h[b]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const w=h[b];return v&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function uM(t,e=!1,n=!0){Kt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function cM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function hM({basename:t,pathname:e}){return e==="/"?t:Cs([t,e])}function fM(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:dM(n,e):e,search:mM(s),hash:gM(a)}}function dM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Eg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ov(t){let e=rC(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function lv(t,e,n,s=!1){let a;typeof t=="string"?a=ca(t):(a={...t},We(!a.pathname||!a.pathname.includes("?"),Eg("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),Eg("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),Eg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?e[v]:"/"}let d=fM(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),pM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,cd=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Mc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var aC=["POST","PUT","PATCH","DELETE"],yM=new Set(aC),vM=["GET",...aC],_M=new Set(vM),bM=new Set([301,302,303,307,308]),EM=new Set([307,308]),Sg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uv=t=>wM.test(t),TM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),oC="remix-router-transitions",lC=Symbol("ResetLoaderData");function CM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],a=t.mapRouteProperties||TM,l={},u=Dc(t.routes,a,void 0,l),h,d=t.basename||"/";d.startsWith("/")||(d=`/${d}`);let m=t.dataStrategy||IM,y={...t.future},v=null,b=new Set,w=null,N=null,z=null,V=t.hydrationData!=null,F=Wr(u,t.history.location,d),W=!1,Q=null,ee;if(F==null&&!t.patchRoutesOnNavigation){let j=Pi(404,{pathname:t.history.location.pathname}),{matches:Y,route:ne}=kf(u);ee=!0,F=Y,Q={[ne.id]:j}}else if(F&&!t.hydrationData&&ii(F,u,t.history.location.pathname).active&&(F=null),F)if(F.some(j=>j.route.lazy))ee=!1;else if(!F.some(j=>j.route.loader))ee=!0;else{let j=t.hydrationData?t.hydrationData.loaderData:null,Y=t.hydrationData?t.hydrationData.errors:null;if(Y){let ne=F.findIndex(oe=>Y[oe.route.id]!==void 0);ee=F.slice(0,ne+1).every(oe=>!oy(oe.route,j,Y))}else ee=F.every(ne=>!oy(ne.route,j,Y))}else{ee=!1,F=[];let j=ii(null,u,t.history.location.pathname);j.active&&j.matches&&(W=!0,F=j.matches)}let H,k={historyAction:t.history.action,location:t.history.location,matches:F,initialized:ee,navigation:Sg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},x="POP",C=!1,I,D=!1,P=new Map,G=null,M=!1,Ie=!1,Be=new Set,Z=new Map,ue=0,pe=-1,Re=new Map,U=new Set,re=new Map,me=new Map,fe=new Set,ve=new Map,Ve,Ae=null;function Wt(){if(v=t.history.listen(({action:j,location:Y,delta:ne})=>{if(Ve){Ve(),Ve=void 0;return}Kt(ve.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=yr({currentLocation:k.location,nextLocation:Y,historyAction:j});if(oe&&ne!=null){let ce=new Promise(ye=>{Ve=ye});t.history.go(ne*-1),ni(oe,{state:"blocked",location:Y,proceed(){ni(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ce.then(()=>t.history.go(ne))},reset(){let ye=new Map(k.blockers);ye.set(oe,Zu),Mt({blockers:ye})}});return}return jn(j,Y)}),n){qM(e,P);let j=()=>YM(e,P);e.addEventListener("pagehide",j),G=()=>e.removeEventListener("pagehide",j)}return k.initialized||jn("POP",k.location,{initialHydration:!0}),H}function at(){v&&v(),G&&G(),b.clear(),I&&I.abort(),k.fetchers.forEach((j,Y)=>Xt(Y)),k.blockers.forEach((j,Y)=>Vn(Y))}function Qn(j){return b.add(j),()=>b.delete(j)}function Mt(j,Y={}){j.matches&&(j.matches=j.matches.map(ce=>{let ye=l[ce.route.id],Ee=ce.route;return Ee.element!==ye.element||Ee.errorElement!==ye.errorElement||Ee.hydrateFallbackElement!==ye.hydrateFallbackElement?{...ce,route:ye}:ce})),k={...k,...j};let ne=[],oe=[];k.fetchers.forEach((ce,ye)=>{ce.state==="idle"&&(fe.has(ye)?ne.push(ye):oe.push(ye))}),fe.forEach(ce=>{!k.fetchers.has(ce)&&!Z.has(ce)&&ne.push(ce)}),[...b].forEach(ce=>ce(k,{deletedFetchers:ne,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),ne.forEach(ce=>Xt(ce)),oe.forEach(ce=>k.fetchers.delete(ce))}function Zn(j,Y,{flushSync:ne}={}){let oe=k.actionData!=null&&k.navigation.formMethod!=null&&qn(k.navigation.formMethod)&&k.navigation.state==="loading"&&j.state?._isRedirect!==!0,ce;Y.actionData?Object.keys(Y.actionData).length>0?ce=Y.actionData:ce=null:oe?ce=k.actionData:ce=null;let ye=Y.loaderData?zS(k.loaderData,Y.loaderData,Y.matches||[],Y.errors):k.loaderData,Ee=k.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((_e,Se)=>Ee.set(Se,Zu)));let ge=M?!1:_a(j,Y.matches||k.matches),Te=C===!0||k.navigation.formMethod!=null&&qn(k.navigation.formMethod)&&j.state?._isRedirect!==!0;h&&(u=h,h=void 0),M||x==="POP"||(x==="PUSH"?t.history.push(j,j.state):x==="REPLACE"&&t.history.replace(j,j.state));let we;if(x==="POP"){let _e=P.get(k.location.pathname);_e&&_e.has(j.pathname)?we={currentLocation:k.location,nextLocation:j}:P.has(j.pathname)&&(we={currentLocation:j,nextLocation:k.location})}else if(D){let _e=P.get(k.location.pathname);_e?_e.add(j.pathname):(_e=new Set([j.pathname]),P.set(k.location.pathname,_e)),we={currentLocation:k.location,nextLocation:j}}Mt({...Y,actionData:ce,loaderData:ye,historyAction:x,location:j,initialized:!0,navigation:Sg,revalidation:"idle",restoreScrollPosition:ge,preventScrollReset:Te,blockers:Ee},{viewTransitionOpts:we,flushSync:ne===!0}),x="POP",C=!1,D=!1,M=!1,Ie=!1,Ae?.resolve(),Ae=null}async function Ps(j,Y){if(typeof j=="number"){t.history.go(j);return}let ne=ay(k.location,k.matches,d,j,Y?.fromRouteId,Y?.relative),{path:oe,submission:ce,error:ye}=DS(!1,ne,Y),Ee=k.location,ge=Ic(k.location,oe,Y&&Y.state);ge={...ge,...t.history.encodeLocation(ge)};let Te=Y&&Y.replace!=null?Y.replace:void 0,we="PUSH";Te===!0?we="REPLACE":Te===!1||ce!=null&&qn(ce.formMethod)&&ce.formAction===k.location.pathname+k.location.search&&(we="REPLACE");let _e=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Se=(Y&&Y.flushSync)===!0,Ue=yr({currentLocation:Ee,nextLocation:ge,historyAction:we});if(Ue){ni(Ue,{state:"blocked",location:ge,proceed(){ni(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Ps(j,Y)},reset(){let Xe=new Map(k.blockers);Xe.set(Ue,Zu),Mt({blockers:Xe})}});return}await jn(we,ge,{submission:ce,pendingError:ye,preventScrollReset:_e,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Se})}function ks(){Ae||(Ae=$M()),Gi(),Mt({revalidation:"loading"});let j=Ae.promise;return k.navigation.state==="submitting"?j:k.navigation.state==="idle"?(jn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),j):(jn(x||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:D===!0}),j)}async function jn(j,Y,ne){I&&I.abort(),I=null,x=j,M=(ne&&ne.startUninterruptedRevalidation)===!0,Rt(k.location,k.matches),C=(ne&&ne.preventScrollReset)===!0,D=(ne&&ne.enableViewTransition)===!0;let oe=h||u,ce=ne&&ne.overrideNavigation,ye=ne?.initialHydration&&k.matches&&k.matches.length>0&&!W?k.matches:Wr(oe,Y,d),Ee=(ne&&ne.flushSync)===!0;if(ye&&k.initialized&&!Ie&&jM(k.location,Y)&&!(ne&&ne.submission&&qn(ne.submission.formMethod))){Zn(Y,{matches:ye},{flushSync:Ee});return}let ge=ii(ye,oe,Y.pathname);if(ge.active&&ge.matches&&(ye=ge.matches),!ye){let{error:wt,notFoundMatches:ke,route:ot}=Ls(Y.pathname);Zn(Y,{matches:ke,loaderData:{},errors:{[ot.id]:wt}},{flushSync:Ee});return}I=new AbortController;let Te=dl(t.history,Y,I.signal,ne&&ne.submission),we=t.getContext?await t.getContext():new NS,_e;if(ne&&ne.pendingError)_e=[Xr(ye).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&qn(ne.submission.formMethod)){let wt=await Wl(Te,Y,ne.submission,ye,we,ge.active,ne&&ne.initialHydration===!0,{replace:ne.replace,flushSync:Ee});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[ke,ot]=wt.pendingActionResult;if(mi(ot)&&Mc(ot.error)&&ot.error.status===404){I=null,Zn(Y,{matches:wt.matches,loaderData:{},errors:{[ke]:ot.error}});return}}ye=wt.matches||ye,_e=wt.pendingActionResult,ce=wg(Y,ne.submission),Ee=!1,ge.active=!1,Te=dl(t.history,Te.url,Te.signal)}let{shortCircuited:Se,matches:Ue,loaderData:Xe,errors:mt}=await va(Te,Y,ye,we,ge.active,ce,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,Ee,_e);Se||(I=null,Zn(Y,{matches:Ue||ye,...BS(_e),loaderData:Xe,errors:mt}))}async function Wl(j,Y,ne,oe,ce,ye,Ee,ge={}){Gi();let Te=HM(Y,ne);if(Mt({navigation:Te},{flushSync:ge.flushSync===!0}),ye){let Se=await si(oe,Y.pathname,j.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){if(Se.partialMatches.length===0){let{matches:Xe,route:mt}=kf(u);return{matches:Xe,pendingActionResult:[mt.id,{type:"error",error:Se.error}]}}let Ue=Xr(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[Ue,{type:"error",error:Se.error}]}}else if(Se.matches)oe=Se.matches;else{let{notFoundMatches:Ue,error:Xe,route:mt}=Ls(Y.pathname);return{matches:Ue,pendingActionResult:[mt.id,{type:"error",error:Xe}]}}}let we,_e=Wf(oe,Y);if(!_e.route.action&&!_e.route.lazy)we={type:"error",error:Pi(405,{method:j.method,pathname:Y.pathname,routeId:_e.route.id})};else{let Se=bl(a,l,j,oe,_e,Ee?[]:s,ce),Ue=await Hi(j,Se,ce,null);if(we=Ue[_e.route.id],!we){for(let Xe of oe)if(Ue[Xe.route.id]){we=Ue[Xe.route.id];break}}if(j.signal.aborted)return{shortCircuited:!0}}if(no(we)){let Se;return ge&&ge.replace!=null?Se=ge.replace:Se=US(we.response.headers.get("Location"),new URL(j.url),d)===k.location.pathname+k.location.search,await Fi(j,we,!0,{submission:ne,replace:Se}),{shortCircuited:!0}}if(mi(we)){let Se=Xr(oe,_e.route.id);return(ge&&ge.replace)!==!0&&(x="PUSH"),{matches:oe,pendingActionResult:[Se.route.id,we,_e.route.id]}}return{matches:oe,pendingActionResult:[_e.route.id,we]}}async function va(j,Y,ne,oe,ce,ye,Ee,ge,Te,we,_e,Se){let Ue=ye||wg(Y,Ee),Xe=Ee||ge||HS(Ue),mt=!M&&!we;if(ce){if(mt){let Tt=fn(Se);Mt({navigation:Ue,...Tt!==void 0?{actionData:Tt}:{}},{flushSync:_e})}let Le=await si(ne,Y.pathname,j.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){if(Le.partialMatches.length===0){let{matches:ri,route:pn}=kf(u);return{matches:ri,loaderData:{},errors:{[pn.id]:Le.error}}}let Tt=Xr(Le.partialMatches).route.id;return{matches:Le.partialMatches,loaderData:{},errors:{[Tt]:Le.error}}}else if(Le.matches)ne=Le.matches;else{let{error:Tt,notFoundMatches:ri,route:pn}=Ls(Y.pathname);return{matches:ri,loaderData:{},errors:{[pn.id]:Tt}}}}let wt=h||u,{dsMatches:ke,revalidatingFetchers:ot}=MS(j,oe,a,l,t.history,k,ne,Xe,Y,we?[]:s,we===!0,Ie,Be,fe,re,U,wt,d,t.patchRoutesOnNavigation!=null,Se);if(pe=++ue,!t.dataStrategy&&!ke.some(Le=>Le.shouldLoad)&&!ke.some(Le=>Le.route.middleware)&&ot.length===0){let Le=ei();return Zn(Y,{matches:ne,loaderData:{},errors:Se&&mi(Se[1])?{[Se[0]]:Se[1].error}:null,...BS(Se),...Le?{fetchers:new Map(k.fetchers)}:{}},{flushSync:_e}),{shortCircuited:!0}}if(mt){let Le={};if(!ce){Le.navigation=Ue;let Tt=fn(Se);Tt!==void 0&&(Le.actionData=Tt)}ot.length>0&&(Le.fetchers=xo(ot)),Mt(Le,{flushSync:_e})}ot.forEach(Le=>{Jn(Le.key),Le.controller&&Z.set(Le.key,Le.controller)});let xn=()=>ot.forEach(Le=>Jn(Le.key));I&&I.signal.addEventListener("abort",xn);let{loaderResults:En,fetcherResults:Qt}=await No(ke,ot,j,oe);if(j.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",xn),ot.forEach(Le=>Z.delete(Le.key));let tn=Lf(En);if(tn)return await Fi(j,tn.result,!0,{replace:Te}),{shortCircuited:!0};if(tn=Lf(Qt),tn)return U.add(tn.key),await Fi(j,tn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:zn,errors:vi}=VS(k,ne,En,Se,ot,Qt);we&&k.errors&&(vi={...k.errors,...vi});let Yi=ei(),_i=qi(pe),bi=Yi||_i||ot.length>0;return{matches:ne,loaderData:zn,errors:vi,...bi?{fetchers:new Map(k.fetchers)}:{}}}function fn(j){if(j&&!mi(j[1]))return{[j[0]]:j[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function xo(j){return j.forEach(Y=>{let ne=k.fetchers.get(Y.key),oe=Ju(void 0,ne?ne.data:void 0);k.fetchers.set(Y.key,oe)}),new Map(k.fetchers)}async function jt(j,Y,ne,oe){Jn(j);let ce=(oe&&oe.flushSync)===!0,ye=h||u,Ee=ay(k.location,k.matches,d,ne,Y,oe?.relative),ge=Wr(ye,Ee,d),Te=ii(ge,ye,Ee);if(Te.active&&Te.matches&&(ge=Te.matches),!ge){yt(j,Y,Pi(404,{pathname:Ee}),{flushSync:ce});return}let{path:we,submission:_e,error:Se}=DS(!0,Ee,oe);if(Se){yt(j,Y,Se,{flushSync:ce});return}let Ue=t.getContext?await t.getContext():new NS,Xe=(oe&&oe.preventScrollReset)===!0;if(_e&&qn(_e.formMethod)){await Ft(j,Y,we,ge,Ue,Te.active,ce,Xe,_e);return}re.set(j,{routeId:Y,path:we}),await Bi(j,Y,we,ge,Ue,Te.active,ce,Xe,_e)}async function Ft(j,Y,ne,oe,ce,ye,Ee,ge,Te){Gi(),re.delete(j);let we=k.fetchers.get(j);dn(j,GM(Te,we),{flushSync:Ee});let _e=new AbortController,Se=dl(t.history,ne,_e.signal,Te);if(ye){let vt=await si(oe,new URL(Se.url).pathname,Se.signal,j);if(vt.type==="aborted")return;if(vt.type==="error"){yt(j,Y,vt.error,{flushSync:Ee});return}else if(vt.matches)oe=vt.matches;else{yt(j,Y,Pi(404,{pathname:ne}),{flushSync:Ee});return}}let Ue=Wf(oe,ne);if(!Ue.route.action&&!Ue.route.lazy){let vt=Pi(405,{method:Te.formMethod,pathname:ne,routeId:Y});yt(j,Y,vt,{flushSync:Ee});return}Z.set(j,_e);let Xe=ue,mt=bl(a,l,Se,oe,Ue,s,ce),ke=(await Hi(Se,mt,ce,j))[Ue.route.id];if(Se.signal.aborted){Z.get(j)===_e&&Z.delete(j);return}if(fe.has(j)){if(no(ke)||mi(ke)){dn(j,$r(void 0));return}}else{if(no(ke))if(Z.delete(j),pe>Xe){dn(j,$r(void 0));return}else return U.add(j),dn(j,Ju(Te)),Fi(Se,ke,!1,{fetcherSubmission:Te,preventScrollReset:ge});if(mi(ke)){yt(j,Y,ke.error);return}}let ot=k.navigation.location||k.location,xn=dl(t.history,ot,_e.signal),En=h||u,Qt=k.navigation.state!=="idle"?Wr(En,k.navigation.location,d):k.matches;We(Qt,"Didn't find any matches after fetcher action");let tn=++ue;Re.set(j,tn);let zn=Ju(Te,ke.data);k.fetchers.set(j,zn);let{dsMatches:vi,revalidatingFetchers:Yi}=MS(xn,ce,a,l,t.history,k,Qt,Te,ot,s,!1,Ie,Be,fe,re,U,En,d,t.patchRoutesOnNavigation!=null,[Ue.route.id,ke]);Yi.filter(vt=>vt.key!==j).forEach(vt=>{let $i=vt.key,Do=k.fetchers.get($i),ai=Ju(void 0,Do?Do.data:void 0);k.fetchers.set($i,ai),Jn($i),vt.controller&&Z.set($i,vt.controller)}),Mt({fetchers:new Map(k.fetchers)});let _i=()=>Yi.forEach(vt=>Jn(vt.key));_e.signal.addEventListener("abort",_i);let{loaderResults:bi,fetcherResults:Le}=await No(vi,Yi,xn,ce);if(_e.signal.aborted)return;if(_e.signal.removeEventListener("abort",_i),Re.delete(j),Z.delete(j),Yi.forEach(vt=>Z.delete(vt.key)),k.fetchers.has(j)){let vt=$r(ke.data);k.fetchers.set(j,vt)}let Tt=Lf(bi);if(Tt)return Fi(xn,Tt.result,!1,{preventScrollReset:ge});if(Tt=Lf(Le),Tt)return U.add(Tt.key),Fi(xn,Tt.result,!1,{preventScrollReset:ge});let{loaderData:ri,errors:pn}=VS(k,Qt,bi,void 0,Yi,Le);qi(tn),k.navigation.state==="loading"&&tn>pe?(We(x,"Expected pending action"),I&&I.abort(),Zn(k.navigation.location,{matches:Qt,loaderData:ri,errors:pn,fetchers:new Map(k.fetchers)})):(Mt({errors:pn,loaderData:zS(k.loaderData,ri,Qt,pn),fetchers:new Map(k.fetchers)}),Ie=!1)}async function Bi(j,Y,ne,oe,ce,ye,Ee,ge,Te){let we=k.fetchers.get(j);dn(j,Ju(Te,we?we.data:void 0),{flushSync:Ee});let _e=new AbortController,Se=dl(t.history,ne,_e.signal);if(ye){let ot=await si(oe,new URL(Se.url).pathname,Se.signal,j);if(ot.type==="aborted")return;if(ot.type==="error"){yt(j,Y,ot.error,{flushSync:Ee});return}else if(ot.matches)oe=ot.matches;else{yt(j,Y,Pi(404,{pathname:ne}),{flushSync:Ee});return}}let Ue=Wf(oe,ne);Z.set(j,_e);let Xe=ue,mt=bl(a,l,Se,oe,Ue,s,ce),ke=(await Hi(Se,mt,ce,j))[Ue.route.id];if(Z.get(j)===_e&&Z.delete(j),!Se.signal.aborted){if(fe.has(j)){dn(j,$r(void 0));return}if(no(ke))if(pe>Xe){dn(j,$r(void 0));return}else{U.add(j),await Fi(Se,ke,!1,{preventScrollReset:ge});return}if(mi(ke)){yt(j,Y,ke.error);return}dn(j,$r(ke.data))}}async function Fi(j,Y,ne,{submission:oe,fetcherSubmission:ce,preventScrollReset:ye,replace:Ee}={}){Y.response.headers.has("X-Remix-Revalidate")&&(Ie=!0);let ge=Y.response.headers.get("Location");We(ge,"Expected a Location header on the redirect Response"),ge=US(ge,new URL(j.url),d);let Te=Ic(k.location,ge,{_isRedirect:!0});if(n){let mt=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(uv(ge)){const wt=nC(ge,!0);mt=wt.origin!==e.location.origin||Ui(wt.pathname,d)==null}if(mt){Ee?e.location.replace(ge):e.location.assign(ge);return}}I=null;let we=Ee===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:_e,formAction:Se,formEncType:Ue}=k.navigation;!oe&&!ce&&_e&&Se&&Ue&&(oe=HS(k.navigation));let Xe=oe||ce;if(EM.has(Y.response.status)&&Xe&&qn(Xe.formMethod))await jn(we,Te,{submission:{...Xe,formAction:ge},preventScrollReset:ye||C,enableViewTransition:ne?D:void 0});else{let mt=wg(Te,oe);await jn(we,Te,{overrideNavigation:mt,fetcherSubmission:ce,preventScrollReset:ye||C,enableViewTransition:ne?D:void 0})}}async function Hi(j,Y,ne,oe){let ce,ye={};try{ce=await MM(m,j,Y,oe,ne,!1)}catch(Ee){return Y.filter(ge=>ge.shouldLoad).forEach(ge=>{ye[ge.route.id]={type:"error",error:Ee}}),ye}if(j.signal.aborted)return ye;for(let[Ee,ge]of Object.entries(ce))if(BM(ge)){let Te=ge.result;ye[Ee]={type:"redirect",response:LM(Te,j,Ee,Y,d)}}else ye[Ee]=await kM(ge);return ye}async function No(j,Y,ne,oe){let ce=Hi(ne,j,oe,null),ye=Promise.all(Y.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let _e=(await Hi(Te.request,Te.matches,oe,Te.key))[Te.match.route.id];return{[Te.key]:_e}}else return Promise.resolve({[Te.key]:{type:"error",error:Pi(404,{pathname:Te.path})}})})),Ee=await ce,ge=(await ye).reduce((Te,we)=>Object.assign(Te,we),{});return{loaderResults:Ee,fetcherResults:ge}}function Gi(){Ie=!0,re.forEach((j,Y)=>{Z.has(Y)&&Be.add(Y),Jn(Y)})}function dn(j,Y,ne={}){k.fetchers.set(j,Y),Mt({fetchers:new Map(k.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function yt(j,Y,ne,oe={}){let ce=Xr(k.matches,Y);Xt(j),Mt({errors:{[ce.route.id]:ne},fetchers:new Map(k.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Rn(j){return me.set(j,(me.get(j)||0)+1),fe.has(j)&&fe.delete(j),k.fetchers.get(j)||SM}function Xt(j){let Y=k.fetchers.get(j);Z.has(j)&&!(Y&&Y.state==="loading"&&Re.has(j))&&Jn(j),re.delete(j),Re.delete(j),U.delete(j),fe.delete(j),Be.delete(j),k.fetchers.delete(j)}function Xl(j){let Y=(me.get(j)||0)-1;Y<=0?(me.delete(j),fe.add(j)):me.set(j,Y),Mt({fetchers:new Map(k.fetchers)})}function Jn(j){let Y=Z.get(j);Y&&(Y.abort(),Z.delete(j))}function Io(j){for(let Y of j){let ne=Rn(Y),oe=$r(ne.data);k.fetchers.set(Y,oe)}}function ei(){let j=[],Y=!1;for(let ne of U){let oe=k.fetchers.get(ne);We(oe,`Expected fetcher: ${ne}`),oe.state==="loading"&&(U.delete(ne),j.push(ne),Y=!0)}return Io(j),Y}function qi(j){let Y=[];for(let[ne,oe]of Re)if(oe<j){let ce=k.fetchers.get(ne);We(ce,`Expected fetcher: ${ne}`),ce.state==="loading"&&(Jn(ne),Re.delete(ne),Y.push(ne))}return Io(Y),Y.length>0}function ti(j,Y){let ne=k.blockers.get(j)||Zu;return ve.get(j)!==Y&&ve.set(j,Y),ne}function Vn(j){k.blockers.delete(j),ve.delete(j)}function ni(j,Y){let ne=k.blockers.get(j)||Zu;We(ne.state==="unblocked"&&Y.state==="blocked"||ne.state==="blocked"&&Y.state==="blocked"||ne.state==="blocked"&&Y.state==="proceeding"||ne.state==="blocked"&&Y.state==="unblocked"||ne.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${Y.state}`);let oe=new Map(k.blockers);oe.set(j,Y),Mt({blockers:oe})}function yr({currentLocation:j,nextLocation:Y,historyAction:ne}){if(ve.size===0)return;ve.size>1&&Kt(!1,"A router only supports one blocker at a time");let oe=Array.from(ve.entries()),[ce,ye]=oe[oe.length-1],Ee=k.blockers.get(ce);if(!(Ee&&Ee.state==="proceeding")&&ye({currentLocation:j,nextLocation:Y,historyAction:ne}))return ce}function Ls(j){let Y=Pi(404,{pathname:j}),ne=h||u,{matches:oe,route:ce}=kf(ne);return{notFoundMatches:oe,route:ce,error:Y}}function fs(j,Y,ne){if(w=j,z=Y,N=ne||null,!V&&k.navigation===Sg){V=!0;let oe=_a(k.location,k.matches);oe!=null&&Mt({restoreScrollPosition:oe})}return()=>{w=null,z=null,N=null}}function Us(j,Y){return N&&N(j,Y.map(oe=>ZD(oe,k.loaderData)))||j.key}function Rt(j,Y){if(w&&z){let ne=Us(j,Y);w[ne]=z()}}function _a(j,Y){if(w){let ne=Us(j,Y),oe=w[ne];if(typeof oe=="number")return oe}return null}function ii(j,Y,ne){if(t.patchRoutesOnNavigation)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Kf(Y,ne,d,!0)}}else return{active:!0,matches:Kf(Y,ne,d,!0)||[]};return{active:!1,matches:null}}async function si(j,Y,ne,oe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:j};let ce=j;for(;;){let ye=h==null,Ee=h||u,ge=l;try{await t.patchRoutesOnNavigation({signal:ne,path:Y,matches:ce,fetcherKey:oe,patch:(_e,Se)=>{ne.aborted||OS(_e,Se,Ee,ge,a,!1)}})}catch(_e){return{type:"error",error:_e,partialMatches:ce}}finally{ye&&!ne.aborted&&(u=[...u])}if(ne.aborted)return{type:"aborted"};let Te=Wr(Ee,Y,d);if(Te)return{type:"success",matches:Te};let we=Kf(Ee,Y,d,!0);if(!we||ce.length===we.length&&ce.every((_e,Se)=>_e.route.id===we[Se].route.id))return{type:"success",matches:null};ce=we}}function ba(j){l={},h=Dc(j,a,void 0,l)}function Ea(j,Y,ne=!1){let oe=h==null;OS(j,Y,h||u,l,a,ne),oe&&(u=[...u],Mt({}))}return H={get basename(){return d},get future(){return y},get state(){return k},get routes(){return u},get window(){return e},initialize:Wt,subscribe:Qn,enableScrollRestoration:fs,navigate:Ps,fetch:jt,revalidate:ks,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:Rn,deleteFetcher:Xl,dispose:at,getBlocker:ti,deleteBlocker:Vn,patchRoutes:Ea,_internalFetchControllers:Z,_internalSetRoutes:ba,_internalSetStateDoNotUseOrYouWillBreakYourApp(j){Mt(j)}},H}function AM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ay(t,e,n,s,a,l){let u,h;if(a){u=[];for(let m of e)if(u.push(m),m.route.id===a){h=m;break}}else u=e,h=e[e.length-1];let d=lv(s||".",ov(u),Ui(t.pathname,n)||t.pathname,l==="path");if(s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&h){let m=cv(d.search);if(h.route.index&&!m)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let y=new URLSearchParams(d.search),v=y.getAll("index");y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let b=y.toString();d.search=b?`?${b}`:""}}return n!=="/"&&(d.pathname=hM({basename:n,pathname:d.pathname})),sa(d)}function DS(t,e,n){if(!n||!AM(n))return{path:e};if(n.formMethod&&!FM(n.formMethod))return{path:e,error:Pi(405,{method:n.formMethod})};let s=()=>({path:e,error:Pi(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=pC(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!qn(l))return s();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((b,[w,N])=>`${b}${w}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!qn(l))return s();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let h,d;if(n.formData)h=uy(n.formData),d=n.formData;else if(n.body instanceof FormData)h=uy(n.body),d=n.body;else if(n.body instanceof URLSearchParams)h=n.body,d=jS(h);else if(n.body==null)h=new URLSearchParams,d=new FormData;else try{h=new URLSearchParams(n.body),d=jS(h)}catch{return s()}let m={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(qn(m.formMethod))return{path:e,submission:m};let y=ca(e);return t&&y.search&&cv(y.search)&&h.append("index",""),y.search=`?${h}`,{path:sa(y),submission:m}}function MS(t,e,n,s,a,l,u,h,d,m,y,v,b,w,N,z,V,F,W,Q){let ee=Q?mi(Q[1])?Q[1].error:Q[1].data:void 0,H=a.createURL(l.location),k=a.createURL(d),x;if(y&&l.errors){let M=Object.keys(l.errors)[0];x=u.findIndex(Ie=>Ie.route.id===M)}else if(Q&&mi(Q[1])){let M=Q[0];x=u.findIndex(Ie=>Ie.route.id===M)-1}let C=Q?Q[1].statusCode:void 0,I=C&&C>=400,D={currentUrl:H,currentParams:l.matches[0]?.params||{},nextUrl:k,nextParams:u[0].params,...h,actionResult:ee,actionStatus:C},P=u.map((M,Ie)=>{let{route:Be}=M,Z=null;if(x!=null&&Ie>x?Z=!1:Be.lazy?Z=!0:Be.loader==null?Z=!1:y?Z=oy(Be,l.loaderData,l.errors):RM(l.loaderData,l.matches[Ie],M)&&(Z=!0),Z!==null)return ly(n,s,t,M,m,e,Z);let ue=I?!1:v||H.pathname+H.search===k.pathname+k.search||H.search!==k.search||xM(l.matches[Ie],M),pe={...D,defaultShouldRevalidate:ue},Re=hd(M,pe);return ly(n,s,t,M,m,e,Re,pe)}),G=[];return N.forEach((M,Ie)=>{if(y||!u.some(me=>me.route.id===M.routeId)||w.has(Ie))return;let Be=l.fetchers.get(Ie),Z=Be&&Be.state!=="idle"&&Be.data===void 0,ue=Wr(V,M.path,F);if(!ue){if(W&&Z)return;G.push({key:Ie,routeId:M.routeId,path:M.path,matches:null,match:null,request:null,controller:null});return}if(z.has(Ie))return;let pe=Wf(ue,M.path),Re=new AbortController,U=dl(a,M.path,Re.signal),re=null;if(b.has(Ie))b.delete(Ie),re=bl(n,s,U,ue,pe,m,e);else if(Z)v&&(re=bl(n,s,U,ue,pe,m,e));else{let me={...D,defaultShouldRevalidate:I?!1:v};hd(pe,me)&&(re=bl(n,s,U,ue,pe,m,e,me))}re&&G.push({key:Ie,routeId:M.routeId,path:M.path,matches:re,match:pe,request:U,controller:Re})}),{dsMatches:P,revalidatingFetchers:G}}function oy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!s&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!a}function RM(t,e,n){let s=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return s||a}function xM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function hd(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function OS(t,e,n,s,a,l){let u;if(t){let m=s[t];We(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),u=m.children}else u=n;let h=[],d=[];if(e.forEach(m=>{let y=u.find(v=>uC(m,v));y?d.push({existingRoute:y,newRoute:m}):h.push(m)}),h.length>0){let m=Dc(h,a,[t||"_","patch",String(u?.length||"0")],s);u.push(...m)}if(l&&d.length>0)for(let m=0;m<d.length;m++){let{existingRoute:y,newRoute:v}=d[m],b=y,[w]=Dc([v],a,[],{},!0);Object.assign(b,{element:w.element?w.element:b.element,errorElement:w.errorElement?w.errorElement:b.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:b.hydrateFallbackElement})}}function uC(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>e.children?.some(a=>uC(n,a))):!1}var PS=new WeakMap,cC=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let a=n[e.id];if(We(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let u=PS.get(a);u||(u={},PS.set(a,u));let h=u[t];if(h)return h;let d=(async()=>{let m=KD(t),v=a[t]!==void 0&&t!=="hasErrorBoundary";if(m)Kt(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(v)Kt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let b=await l();b!=null&&(Object.assign(a,{[t]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))})();return u[t]=d,d},kS=new WeakMap;function NM(t,e,n,s,a){let l=n[t.id];if(We(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=kS.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let v=(async()=>{We(typeof t.lazy=="function","No lazy route function found");let b=await t.lazy(),w={};for(let N in b){let z=b[N];if(z===void 0)continue;let V=XD(N),W=l[N]!==void 0&&N!=="hasErrorBoundary";V?Kt(!V,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):W?Kt(!W,`Route "${l.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):w[N]=z}Object.assign(l,w),Object.assign(l,{...s(l),lazy:void 0})})();return kS.set(l,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(t.lazy),h=[],d;for(let y of u){if(a&&a.includes(y))continue;let v=cC({key:y,route:t,manifest:n,mapRouteProperties:s});v&&(h.push(v),y===e&&(d=v))}let m=h.length>0?Promise.all(h).then(()=>{}):void 0;return m?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:d}}async function LS(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function IM(t){return t.matches.some(e=>e.route.middleware)?hC(t,()=>LS(t)):LS(t)}function hC(t,e){return DM(t,e,s=>s,VM,n);function n(s,a,l){if(l)return Promise.resolve(Object.assign(l.value,{[a]:{type:"error",result:s}}));{let{matches:u}=t,h=Math.min(u.findIndex(m=>m.route.id===a)||0,u.findIndex(m=>m.unstable_shouldCallHandler())||0),d=Xr(u,u[h].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:s}})}}}async function DM(t,e,n,s,a){let{matches:l,request:u,params:h,context:d}=t,m=l.flatMap(v=>v.route.middleware?v.route.middleware.map(b=>[v.route.id,b]):[]);return await fC({request:u,params:h,context:d},m,e,n,s,a)}async function fC(t,e,n,s,a,l,u=0){let{request:h}=t;if(h.signal.aborted)throw h.signal.reason??new Error(`Request aborted: ${h.method} ${h.url}`);let d=e[u];if(!d)return await n();let[m,y]=d,v,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await fC(t,e,n,s,a,l,u+1)},v.value}catch(w){return v={value:await l(w,m,v)},v.value}};try{let w=await y(t,b),N=w!=null?s(w):void 0;return a(N)?N:v?N??v.value:(v={value:await b()},v.value)}catch(w){return await l(w,m,v)}}function dC(t,e,n,s,a){let l=cC({key:"middleware",route:s.route,manifest:e,mapRouteProperties:t}),u=NM(s.route,qn(n.method)?"action":"loader",e,t,a);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function ly(t,e,n,s,a,l,u,h=null){let d=!1,m=dC(t,e,n,s,a);return{...s,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return d=!0,h?typeof y=="boolean"?hd(s,{...h,defaultShouldRevalidate:y}):hd(s,h):u},resolve(y){return d||u||y&&!qn(n.method)&&(s.route.lazy||s.route.loader)?OM({request:n,match:s,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function bl(t,e,n,s,a,l,u,h=null){return s.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:dC(t,e,n,d,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ly(t,e,n,d,l,u,!0,h))}async function MM(t,e,n,s,a,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:a,matches:n},d=await t({...u,fetcherKey:s,runClientMiddleware:m=>{let y=u;return hC(y,()=>m({...y,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return d}async function OM({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let u,h,d=qn(t.method),m=d?"action":"loader",y=v=>{let b,w=new Promise((V,F)=>b=F);h=()=>b(),t.signal.addEventListener("abort",h);let N=V=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:l},...V!==void 0?[V]:[]),z=(async()=>{try{return{type:"data",result:await(a?a(F=>N(F)):N())}}catch(V){return{type:"error",result:V}}})();return Promise.race([z,w])};try{let v=d?e.route.action:e.route.loader;if(n||s)if(v){let b,[w]=await Promise.all([y(v).catch(N=>{b=N}),n,s]);if(b!==void 0)throw b;u=w}else{await n;let b=d?e.route.action:e.route.loader;if(b)[u]=await Promise.all([y(b),s]);else if(m==="action"){let w=new URL(t.url),N=w.pathname+w.search;throw Pi(405,{method:t.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)u=await y(v);else{let b=new URL(t.url),w=b.pathname+b.search;throw Pi(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{h&&t.signal.removeEventListener("abort",h)}return u}async function PM(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function kM(t){let{result:e,type:n}=t;if(mC(e)){let s;try{s=await PM(e)}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new cd(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return n==="error"?FS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new cd(e.init?.status||500,void 0,e.data),statusCode:Mc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Mc(e)?e.status:void 0}:FS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function LM(t,e,n,s,a){let l=t.headers.get("Location");if(We(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!uv(l)){let u=s.slice(0,s.findIndex(h=>h.route.id===n)+1);l=ay(new URL(e.url),u,a,l),t.headers.set("Location",l)}return t}function US(t,e,n){if(uv(t)){let s=t,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=Ui(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function dl(t,e,n,s){let a=t.createURL(pC(e)).toString(),l={signal:n};if(s&&qn(s.formMethod)){let{formMethod:u,formEncType:h}=s;l.method=u.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(s.json)):h==="text/plain"?l.body=s.text:h==="application/x-www-form-urlencoded"&&s.formData?l.body=uy(s.formData):l.body=s.formData}return new Request(a,l)}function uy(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function jS(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function UM(t,e,n,s=!1,a=!1){let l={},u=null,h,d=!1,m={},y=n&&mi(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let b=v.route.id,w=e[b];if(We(!no(w),"Cannot handle redirect results in processLoaderData"),mi(w)){let N=w.error;if(y!==void 0&&(N=y,y=void 0),u=u||{},a)u[b]=N;else{let z=Xr(t,b);u[z.route.id]==null&&(u[z.route.id]=N)}s||(l[b]=lC),d||(d=!0,h=Mc(w.error)?w.error.status:500),w.headers&&(m[b]=w.headers)}else l[b]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(h=w.statusCode),w.headers&&(m[b]=w.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:h||200,loaderHeaders:m}}function VS(t,e,n,s,a,l){let{loaderData:u,errors:h}=UM(e,n,s);return a.filter(d=>!d.matches||d.matches.some(m=>m.shouldLoad)).forEach(d=>{let{key:m,match:y,controller:v}=d;if(v&&v.signal.aborted)return;let b=l[m];if(We(b,"Did not find corresponding fetcher result"),mi(b)){let w=Xr(t.matches,y?.route.id);h&&h[w.route.id]||(h={...h,[w.route.id]:b.error}),t.fetchers.delete(m)}else if(no(b))We(!1,"Unhandled fetcher revalidation redirect");else{let w=$r(b.data);t.fetchers.set(m,w)}}),{loaderData:u,errors:h}}function zS(t,e,n,s){let a=Object.entries(e).filter(([,l])=>l!==lC).reduce((l,[u,h])=>(l[u]=h,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(a[u]=t[u]),s&&s.hasOwnProperty(u))break}return a}function BS(t){return t?mi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xr(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function kf(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Pi(t,{pathname:e,routeId:n,method:s,type:a,message:l}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",s&&e&&n?h=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",s&&e&&n?h=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(h=`Invalid request method "${s.toUpperCase()}"`)),new cd(t||500,u,new Error(h),!0)}function Lf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,a]=e[n];if(no(a))return{key:s,result:a}}}function pC(t){let e=typeof t=="string"?ca(t):t;return sa({...e,hash:""})}function jM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function VM(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&zM(n))}function zM(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function BM(t){return mC(t.result)&&bM.has(t.result.status)}function mi(t){return t.type==="error"}function no(t){return(t&&t.type)==="redirect"}function FS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function mC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function FM(t){return _M.has(t.toUpperCase())}function qn(t){return yM.has(t.toUpperCase())}function cv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wf(t,e){let n=typeof e=="string"?ca(e).search:e.search;if(t[t.length-1].route.index&&cv(n||""))return t[t.length-1];let s=rC(t);return s[s.length-1]}function HS(t){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:l,json:u}=t;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:u,text:void 0}}}function wg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ju(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function $r(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qM(t,e){try{let n=t.sessionStorage.getItem(oC);if(n){let s=JSON.parse(n);for(let[a,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function YM(t,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{t.sessionStorage.setItem(oC,JSON.stringify(n))}catch(s){Kt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function $M(){let t,e,n=new Promise((s,a)=>{t=async l=>{s(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var To=O.createContext(null);To.displayName="DataRouter";var Zc=O.createContext(null);Zc.displayName="DataRouterState";O.createContext(!1);var hv=O.createContext({isTransitioning:!1});hv.displayName="ViewTransition";var gC=O.createContext(new Map);gC.displayName="Fetchers";var KM=O.createContext(null);KM.displayName="Await";var Ds=O.createContext(null);Ds.displayName="Navigation";var qd=O.createContext(null);qd.displayName="Location";var hs=O.createContext({outlet:null,matches:[],isDataRoute:!1});hs.displayName="Route";var fv=O.createContext(null);fv.displayName="RouteError";function WM(t,{relative:e}={}){We(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Ds),{hash:a,pathname:l,search:u}=th(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Cs([n,l])),s.createHref({pathname:h,search:u,hash:a})}function Jc(){return O.useContext(qd)!=null}function ha(){return We(Jc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(qd).location}var yC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vC(t){O.useContext(Ds).static||O.useLayoutEffect(t)}function eh(){let{isDataRoute:t}=O.useContext(hs);return t?c2():XM()}function XM(){We(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(To),{basename:e,navigator:n}=O.useContext(Ds),{matches:s}=O.useContext(hs),{pathname:a}=ha(),l=JSON.stringify(ov(s)),u=O.useRef(!1);return vC(()=>{u.current=!0}),O.useCallback((d,m={})=>{if(Kt(u.current,yC),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=lv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Cs([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,a,t])}var QM=O.createContext(null);function ZM(t){let e=O.useContext(hs).outlet;return e&&O.createElement(QM.Provider,{value:t},e)}function dv(){let{matches:t}=O.useContext(hs),e=t[t.length-1];return e?e.params:{}}function th(t,{relative:e}={}){let{matches:n}=O.useContext(hs),{pathname:s}=ha(),a=JSON.stringify(ov(n));return O.useMemo(()=>lv(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function JM(t,e,n,s,a){We(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Ds),{matches:u}=O.useContext(hs),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let W=v&&v.path||"";_C(m,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let b=ha(),w;w=b;let N=w.pathname||"/",z=N;if(y!=="/"){let W=y.replace(/^\//,"").split("/");z="/"+N.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=Wr(t,{pathname:z});return Kt(v||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Kt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),s2(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},d,W.params),pathname:Cs([y,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:Cs([y,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s,a)}function e2(){let t=u2(),e=Mc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var t2=O.createElement(e2,null),n2=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(hs.Provider,{value:this.props.routeContext},O.createElement(fv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i2({routeContext:t,match:e,children:n}){let s=O.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(hs.Provider,{value:t},n)}function s2(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let m=l.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);We(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,d=-1;if(n)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:v,errors:b}=n,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,y,v)=>{let b,w=!1,N=null,z=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||t2,h&&(d<0&&v===0?(_C("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,z=null):d===v&&(w=!0,z=y.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,v+1)),F=()=>{let W;return b?W=N:w?W=z:y.route.Component?W=O.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=m,O.createElement(i2,{match:y,routeContext:{outlet:m,matches:V,isDataRoute:n!=null},children:W})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?O.createElement(n2,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):F()},null)}function pv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(t){let e=O.useContext(To);return We(e,pv(t)),e}function a2(t){let e=O.useContext(Zc);return We(e,pv(t)),e}function o2(t){let e=O.useContext(hs);return We(e,pv(t)),e}function mv(t){let e=o2(t),n=e.matches[e.matches.length-1];return We(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function l2(){return mv("useRouteId")}function u2(){let t=O.useContext(fv),e=a2("useRouteError"),n=mv("useRouteError");return t!==void 0?t:e.errors?.[n]}function c2(){let{router:t}=r2("useNavigate"),e=mv("useNavigate"),n=O.useRef(!1);return vC(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Kt(n.current,yC),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var GS={};function _C(t,e,n){!e&&!GS[t]&&(GS[t]=!0,Kt(!1,n))}var qS={};function YS(t,e){!t&&!qS[e]&&(qS[e]=!0,console.warn(e))}function h2(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var f2=["HydrateFallback","hydrateFallbackElement"],d2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function p2({router:t,flushSync:e,unstable_onError:n}){let[s,a]=O.useState(t.state),[l,u]=O.useState(),[h,d]=O.useState({isTransitioning:!1}),[m,y]=O.useState(),[v,b]=O.useState(),[w,N]=O.useState(),z=O.useRef(new Map),V=O.useCallback(H=>{a(k=>(H.errors&&n&&Object.entries(H.errors).forEach(([x,C])=>{k.errors?.[x]!==C&&n(C)}),H))},[n]),F=O.useCallback((H,{deletedFetchers:k,flushSync:x,viewTransitionOpts:C})=>{H.fetchers.forEach((D,P)=>{D.data!==void 0&&z.current.set(P,D.data)}),k.forEach(D=>z.current.delete(D)),YS(x===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(YS(C==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!I){e&&x?e(()=>V(H)):O.startTransition(()=>V(H));return}if(e&&x){e(()=>{v&&(m&&m.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let D=t.window.document.startViewTransition(()=>{e(()=>V(H))});D.finished.finally(()=>{e(()=>{y(void 0),b(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>b(D));return}v?(m&&m.resolve(),v.skipTransition(),N({state:H,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(u(H),d({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[t.window,e,v,m,V]);O.useLayoutEffect(()=>t.subscribe(F),[t,F]),O.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new d2)},[h]),O.useEffect(()=>{if(m&&l&&t.window){let H=l,k=m.promise,x=t.window.document.startViewTransition(async()=>{O.startTransition(()=>V(H)),await k});x.finished.finally(()=>{y(void 0),b(void 0),u(void 0),d({isTransitioning:!1})}),b(x)}},[l,m,t.window,V]),O.useEffect(()=>{m&&l&&s.location.key===l.location.key&&m.resolve()},[m,v,s.location,l]),O.useEffect(()=>{!h.isTransitioning&&w&&(u(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),N(void 0))},[h.isTransitioning,w]);let W=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,k,x)=>t.navigate(H,{state:k,preventScrollReset:x?.preventScrollReset}),replace:(H,k,x)=>t.navigate(H,{replace:!0,state:k,preventScrollReset:x?.preventScrollReset})}),[t]),Q=t.basename||"/",ee=O.useMemo(()=>({router:t,navigator:W,static:!1,basename:Q,unstable_onError:n}),[t,W,Q,n]);return O.createElement(O.Fragment,null,O.createElement(To.Provider,{value:ee},O.createElement(Zc.Provider,{value:s},O.createElement(gC.Provider,{value:z.current},O.createElement(hv.Provider,{value:h},O.createElement(v2,{basename:Q,location:s.location,navigationType:s.historyAction,navigator:W},O.createElement(m2,{routes:t.routes,future:t.future,state:s,unstable_onError:n})))))),null)}var m2=O.memo(g2);function g2({routes:t,future:e,state:n,unstable_onError:s}){return JM(t,void 0,n,s,e)}function y2(t){return ZM(t.context)}function v2({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){We(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=ca(n));let{pathname:d="/",search:m="",hash:y="",state:v=null,key:b="default"}=n,w=O.useMemo(()=>{let N=Ui(d,u);return N==null?null:{location:{pathname:N,search:m,hash:y,state:v,key:b},navigationType:s}},[u,d,m,y,v,b,s]);return Kt(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(Ds.Provider,{value:h},O.createElement(qd.Provider,{children:e,value:w}))}var Xf="get",Qf="application/x-www-form-urlencoded";function Yd(t){return t!=null&&typeof t.tagName=="string"}function _2(t){return Yd(t)&&t.tagName.toLowerCase()==="button"}function b2(t){return Yd(t)&&t.tagName.toLowerCase()==="form"}function E2(t){return Yd(t)&&t.tagName.toLowerCase()==="input"}function S2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w2(t,e){return t.button===0&&(!e||e==="_self")&&!S2(t)}var Uf=null;function T2(){if(Uf===null)try{new FormData(document.createElement("form"),0),Uf=!1}catch{Uf=!0}return Uf}var C2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(t){return t!=null&&!C2.has(t)?(Kt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qf}"`),null):t}function A2(t,e){let n,s,a,l,u;if(b2(t)){let h=t.getAttribute("action");s=h?Ui(h,e):null,n=t.getAttribute("method")||Xf,a=Tg(t.getAttribute("enctype"))||Qf,l=new FormData(t)}else if(_2(t)||E2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Ui(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Xf,a=Tg(t.getAttribute("formenctype"))||Tg(h.getAttribute("enctype"))||Qf,l=new FormData(h,t),!T2()){let{name:m,type:y,value:v}=t;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,v)}}else{if(Yd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xf,s=null,a=Qf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R2(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ui(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function x2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function I2(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await x2(l,n);return u.links?u.links():[]}return[]}));return P2(s.flat(1).filter(N2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $S(t,e,n,s,a,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function D2(t,e,{includeHydrateFallback:n}={}){return M2(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function M2(t){return[...new Set(t)]}function O2(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function P2(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(O2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function bC(){let t=O.useContext(To);return gv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function k2(){let t=O.useContext(Zc);return gv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yv=O.createContext(void 0);yv.displayName="FrameworkContext";function EC(){let t=O.useContext(yv);return gv(t,"You must render this element inside a <HydratedRouter> element"),t}function L2(t,e){let n=O.useContext(yv),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let z=F=>{F.forEach(W=>{u(W.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[t]),O.useEffect(()=>{if(s){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[s]);let w=()=>{a(!0)},N=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:ec(h,w),onBlur:ec(d,N),onMouseEnter:ec(m,w),onMouseLeave:ec(y,N),onTouchStart:ec(v,w)}]:[!1,b,{}]}function ec(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function U2({page:t,...e}){let{router:n}=bC(),s=O.useMemo(()=>Wr(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(V2,{page:t,matches:s,...e}):null}function j2(t){let{manifest:e,routeModules:n}=EC(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return I2(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function V2({page:t,matches:e,...n}){let s=ha(),{manifest:a,routeModules:l}=EC(),{basename:u}=bC(),{loaderData:h,matches:d}=k2(),m=O.useMemo(()=>$S(t,e,d,a,s,"data"),[t,e,d,a,s]),y=O.useMemo(()=>$S(t,e,d,a,s,"assets"),[t,e,d,a,s]),v=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,z=!1;if(e.forEach(F=>{let W=a.routes[F.route.id];!W||!W.hasLoader||(!m.some(Q=>Q.route.id===F.route.id)&&F.route.id in h&&l[F.route.id]?.shouldRevalidate||W.hasClientLoader?z=!0:N.add(F.route.id))}),N.size===0)return[];let V=R2(t,u,"data");return z&&N.size>0&&V.searchParams.set("_routes",e.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[V.pathname+V.search]},[u,h,s,a,m,e,t,l]),b=O.useMemo(()=>D2(y,a),[y,a]),w=j2(y);return O.createElement(O.Fragment,null,v.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),w.map(({key:N,link:z})=>O.createElement("link",{key:N,nonce:n.nonce,...z})))}function z2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SC&&(window.__reactRouterVersion="7.9.1")}catch{}function B2(t,e){return CM({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:GD({window:e?.window}),hydrationData:F2(),routes:t,mapRouteProperties:h2,hydrationRouteProperties:f2,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function F2(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:H2(t.errors)}),t}function H2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new cd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let u=new l(a.message);u.stack="",n[s]=u}catch{}}if(n[s]==null){let l=new Error(a.message);l.stack="",n[s]=l}}else n[s]=a;return n}var wC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fc=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:v,...b},w){let{basename:N}=O.useContext(Ds),z=typeof m=="string"&&wC.test(m),V,F=!1;if(typeof m=="string"&&z&&(V=m,SC))try{let I=new URL(window.location.href),D=m.startsWith("//")?new URL(I.protocol+m):new URL(m),P=Ui(D.pathname,N);D.origin===I.origin&&P!=null?m=P+D.search+D.hash:F=!0}catch{Kt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=WM(m,{relative:a}),[Q,ee,H]=L2(s,b),k=$2(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function x(I){e&&e(I),I.defaultPrevented||k(I)}let C=O.createElement("a",{...b,...H,href:V||W,onClick:F||l?e:x,ref:z2(w,ee),target:d,"data-discover":!z&&n==="render"?"true":void 0});return Q&&!z?O.createElement(O.Fragment,null,C,O.createElement(U2,{page:W})):C});fc.displayName="Link";var G2=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...m},y){let v=th(u,{relative:m.relative}),b=ha(),w=O.useContext(Zc),{navigator:N,basename:z}=O.useContext(Ds),V=w!=null&&Z2(v)&&h===!0,F=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,W=b.pathname,Q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(W=W.toLowerCase(),Q=Q?Q.toLowerCase():null,F=F.toLowerCase()),Q&&z&&(Q=Ui(Q,z)||Q);const ee=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let H=W===F||!a&&W.startsWith(F)&&W.charAt(ee)==="/",k=Q!=null&&(Q===F||!a&&Q.startsWith(F)&&Q.charAt(F.length)==="/"),x={isActive:H,isPending:k,isTransitioning:V},C=H?e:void 0,I;typeof s=="function"?I=s(x):I=[s,H?"active":null,k?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(x):l;return O.createElement(fc,{...m,"aria-current":C,className:I,ref:y,style:D,to:u,viewTransition:h},typeof d=="function"?d(x):d)});G2.displayName="NavLink";var q2=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Xf,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:v,...b},w)=>{let N=X2(),z=Q2(h,{relative:m}),V=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&wC.test(h),W=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,H=ee?.getAttribute("formmethod")||u;N(ee||Q.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v})};return O.createElement("form",{ref:w,method:V,action:z,onSubmit:s?d:W,...b,"data-discover":!F&&t==="render"?"true":void 0})});q2.displayName="Form";function Y2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(t){let e=O.useContext(To);return We(e,Y2(t)),e}function $2(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=eh(),d=ha(),m=th(t,{relative:l});return O.useCallback(y=>{if(w2(y,e)){y.preventDefault();let v=n!==void 0?n:sa(d)===sa(m);h(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,m,n,s,e,t,a,l,u])}var K2=0,W2=()=>`__${String(++K2)}__`;function X2(){let{router:t}=TC("useSubmit"),{basename:e}=O.useContext(Ds),n=l2();return O.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:d,body:m}=A2(s,e);if(a.navigate===!1){let y=a.fetcherKey||W2();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Q2(t,{relative:e}={}){let{basename:n}=O.useContext(Ds),s=O.useContext(hs);We(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...th(t||".",{relative:e})},u=ha();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Cs([n,l.pathname])),sa(l)}function Z2(t,{relative:e}={}){let n=O.useContext(hv);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=TC("useViewTransitionState"),a=th(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ui(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ui(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ud(a.pathname,u)!=null||ud(a.pathname,l)!=null}var J2=eC();function eO(t){return O.createElement(p2,{flushSync:J2.flushSync,...t})}const vv=O.createContext({});function _v(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const bv=typeof window<"u",CC=bv?O.useLayoutEffect:O.useEffect,$d=O.createContext(null);function Ev(t,e){t.indexOf(e)===-1&&t.push(e)}function Sv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const lr=(t,e,n)=>n>e?e:n<t?t:n;let wv=()=>{};const ur={},AC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function RC(t){return typeof t=="object"&&t!==null}const xC=t=>/^0[^.\s]+$/u.test(t);function Tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Li=t=>t,tO=(t,e)=>n=>e(t(n)),nh=(...t)=>t.reduce(tO),Oc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Cv{constructor(){this.subscriptions=[]}add(e){return Ev(this.subscriptions,e),()=>Sv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const As=t=>t*1e3,Rs=t=>t/1e3;function NC(t,e){return e?t*(1e3/e):0}const IC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nO=1e-7,iO=12;function sO(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=IC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>nO&&++h<iO);return u}function ih(t,e,n,s){if(t===e&&n===s)return Li;const a=l=>sO(l,0,1,t,n);return l=>l===0||l===1?l:IC(a(l),e,s)}const DC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MC=t=>e=>1-t(1-e),OC=ih(.33,1.53,.69,.99),Av=MC(OC),PC=DC(Av),kC=t=>(t*=2)<1?.5*Av(t):.5*(2-Math.pow(2,-10*(t-1))),Rv=t=>1-Math.sin(Math.acos(t)),LC=MC(Rv),UC=DC(Rv),rO=ih(.42,0,1,1),aO=ih(0,0,.58,1),jC=ih(.42,0,.58,1),oO=t=>Array.isArray(t)&&typeof t[0]!="number",VC=t=>Array.isArray(t)&&typeof t[0]=="number",lO={linear:Li,easeIn:rO,easeInOut:jC,easeOut:aO,circIn:Rv,circInOut:UC,circOut:LC,backIn:Av,backInOut:PC,backOut:OC,anticipate:kC},uO=t=>typeof t=="string",KS=t=>{if(VC(t)){wv(t.length===4);const[e,n,s,a]=t;return ih(e,n,s,a)}else if(uO(t))return lO[t];return t},jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(m.schedule(y),t()),y(h)}const m={schedule:(y,v=!1,b=!1)=>{const N=b&&a?n:s;return v&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const hO=40;function zC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=jf.reduce((Q,ee)=>(Q[ee]=cO(l),Q),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:v,preRender:b,render:w,postRender:N}=u,z=()=>{const Q=ur.useManualTiming?a.timestamp:performance.now();n=!1,ur.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Q-a.timestamp,hO),1)),a.timestamp=Q,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),y.process(a),v.process(a),b.process(a),w.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(z))},V=()=>{n=!0,s=!0,a.isProcessing||t(z)};return{schedule:jf.reduce((Q,ee)=>{const H=u[ee];return Q[ee]=(k,x=!1,C=!1)=>(n||V(),H.schedule(k,x,C)),Q},{}),cancel:Q=>{for(let ee=0;ee<jf.length;ee++)u[jf[ee]].cancel(Q)},state:a,steps:u}}const{schedule:At,cancel:ra,state:vn,steps:Cg}=zC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Li,!0);let Zf;function fO(){Zf=void 0}const $n={now:()=>(Zf===void 0&&$n.set(vn.isProcessing||ur.useManualTiming?vn.timestamp:performance.now()),Zf),set:t=>{Zf=t,queueMicrotask(fO)}},BC=t=>e=>typeof e=="string"&&e.startsWith(t),xv=BC("--"),dO=BC("var(--"),Nv=t=>dO(t)?pO.test(t.split("/*")[0].trim()):!1,pO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pc={...Vl,transform:t=>lr(0,1,t)},Vf={...Vl,default:1},dc=t=>Math.round(t*1e5)/1e5,Iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mO(t){return t==null}const gO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dv=(t,e)=>n=>!!(typeof n=="string"&&gO.test(n)&&n.startsWith(t)||e&&!mO(n)&&Object.prototype.hasOwnProperty.call(n,e)),FC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Iv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},yO=t=>lr(0,255,t),Ag={...Vl,transform:t=>Math.round(yO(t))},io={test:Dv("rgb","red"),parse:FC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ag.transform(t)+", "+Ag.transform(e)+", "+Ag.transform(n)+", "+dc(Pc.transform(s))+")"};function vO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const cy={test:Dv("#"),parse:vO,transform:io.transform},sh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Kr=sh("deg"),xs=sh("%"),Oe=sh("px"),_O=sh("vh"),bO=sh("vw"),WS={...xs,parse:t=>xs.parse(t)/100,transform:t=>xs.transform(t*100)},pl={test:Dv("hsl","hue"),parse:FC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+xs.transform(dc(e))+", "+xs.transform(dc(n))+", "+dc(Pc.transform(s))+")"},Yt={test:t=>io.test(t)||cy.test(t)||pl.test(t),parse:t=>io.test(t)?io.parse(t):pl.test(t)?pl.parse(t):cy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?io.transform(t):pl.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},EO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SO(t){return isNaN(t)&&typeof t=="string"&&(t.match(Iv)?.length||0)+(t.match(EO)?.length||0)>0}const HC="number",GC="color",wO="var",TO="var(",XS="${}",CO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(CO,d=>(Yt.test(d)?(s.color.push(l),a.push(GC),n.push(Yt.parse(d))):d.startsWith(TO)?(s.var.push(l),a.push(wO),n.push(d)):(s.number.push(l),a.push(HC),n.push(parseFloat(d))),++l,XS)).split(XS);return{values:n,split:h,indexes:s,types:a}}function qC(t){return kc(t).values}function YC(t){const{split:e,types:n}=kc(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===HC?l+=dc(a[u]):h===GC?l+=Yt.transform(a[u]):l+=a[u]}return l}}const AO=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function RO(t){const e=qC(t);return YC(t)(e.map(AO))}const aa={test:SO,parse:qC,createTransformer:YC,getAnimatableNone:RO};function Rg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Rg(d,h,t+1/3),l=Rg(d,h,t),u=Rg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function fd(t,e){return n=>n>0?e:t}const Dt=(t,e,n)=>t+(e-t)*n,xg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},NO=[cy,io,pl],IO=t=>NO.find(e=>e.test(t));function QS(t){const e=IO(t);if(!e)return!1;let n=e.parse(t);return e===pl&&(n=xO(n)),n}const ZS=(t,e)=>{const n=QS(t),s=QS(e);if(!n||!s)return fd(t,e);const a={...n};return l=>(a.red=xg(n.red,s.red,l),a.green=xg(n.green,s.green,l),a.blue=xg(n.blue,s.blue,l),a.alpha=Dt(n.alpha,s.alpha,l),io.transform(a))},hy=new Set(["none","hidden"]);function DO(t,e){return hy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MO(t,e){return n=>Dt(t,e,n)}function Mv(t){return typeof t=="number"?MO:typeof t=="string"?Nv(t)?fd:Yt.test(t)?ZS:kO:Array.isArray(t)?$C:typeof t=="object"?Yt.test(t)?ZS:OO:fd}function $C(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Mv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function OO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Mv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function PO(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const kO=(t,e)=>{const n=aa.createTransformer(e),s=kc(t),a=kc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?hy.has(t)&&!a.values.length||hy.has(e)&&!s.values.length?DO(t,e):nh($C(PO(s,a),a.values),n):fd(t,e)};function KC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dt(t,e,n):Mv(t)(t,e)}const LO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>At.update(e,n),stop:()=>ra(e),now:()=>vn.isProcessing?vn.timestamp:$n.now()}},WC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},dd=2e4;function Ov(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<dd;)e+=n,s=t.next(e);return e>=dd?1/0:e}function UO(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Ov(s),dd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Rs(a)}}const jO=5;function XC(t,e,n){const s=Math.max(e-jO,0);return NC(n-t(s),e-s)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ng=.001;function VO({duration:t=kt.duration,bounce:e=kt.bounce,velocity:n=kt.velocity,mass:s=kt.mass}){let a,l,u=1-e;u=lr(kt.minDamping,kt.maxDamping,u),t=lr(kt.minDuration,kt.maxDuration,Rs(t)),u<1?(a=m=>{const y=m*u,v=y*t,b=y-n,w=fy(m,u),N=Math.exp(-v);return Ng-b/w*N},l=m=>{const v=m*u*t,b=v*n+n,w=Math.pow(u,2)*Math.pow(m,2)*t,N=Math.exp(-v),z=fy(Math.pow(m,2),u);return(-a(m)+Ng>0?-1:1)*((b-w)*N)/z}):(a=m=>{const y=Math.exp(-m*t),v=(m-n)*t+1;return-Ng+y*v},l=m=>{const y=Math.exp(-m*t),v=(n-m)*(t*t);return y*v});const h=5/t,d=BO(a,l,h);if(t=As(t),isNaN(d))return{stiffness:kt.stiffness,damping:kt.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const zO=12;function BO(t,e,n){let s=n;for(let a=1;a<zO;a++)s=s-t(s)/e(s);return s}function fy(t,e){return t*Math.sqrt(1-e*e)}const FO=["duration","bounce"],HO=["stiffness","damping","mass"];function JS(t,e){return e.some(n=>t[n]!==void 0)}function GO(t){let e={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...t};if(!JS(t,HO)&&JS(t,FO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*lr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:kt.mass,stiffness:a,damping:l}}else{const n=VO(t);e={...e,...n,mass:kt.mass},e.isResolvedFromDuration=!0}return e}function pd(t=kt.visualDuration,e=kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:y,duration:v,velocity:b,isResolvedFromDuration:w}=GO({...n,velocity:-Rs(n.velocity||0)}),N=b||0,z=m/(2*Math.sqrt(d*y)),V=u-l,F=Rs(Math.sqrt(d/y)),W=Math.abs(V)<5;s||(s=W?kt.restSpeed.granular:kt.restSpeed.default),a||(a=W?kt.restDelta.granular:kt.restDelta.default);let Q;if(z<1){const H=fy(F,z);Q=k=>{const x=Math.exp(-z*F*k);return u-x*((N+z*F*V)/H*Math.sin(H*k)+V*Math.cos(H*k))}}else if(z===1)Q=H=>u-Math.exp(-F*H)*(V+(N+F*V)*H);else{const H=F*Math.sqrt(z*z-1);Q=k=>{const x=Math.exp(-z*F*k),C=Math.min(H*k,300);return u-x*((N+z*F*V)*Math.sinh(C)+H*V*Math.cosh(C))/H}}const ee={calculatedDuration:w&&v||null,next:H=>{const k=Q(H);if(w)h.done=H>=v;else{let x=H===0?N:0;z<1&&(x=H===0?As(N):XC(Q,H,k));const C=Math.abs(x)<=s,I=Math.abs(u-k)<=a;h.done=C&&I}return h.value=h.done?u:k,h},toString:()=>{const H=Math.min(Ov(ee),dd),k=WC(x=>ee.next(H*x).value,H,30);return H+"ms "+k},toTransition:()=>{}};return ee}pd.applyToOptions=t=>{const e=UO(t,100,pd);return t.ease=e.ease,t.duration=As(e.duration),t.type="keyframes",t};function dy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:y}){const v=t[0],b={done:!1,value:v},w=C=>h!==void 0&&C<h||d!==void 0&&C>d,N=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let z=n*e;const V=v+z,F=u===void 0?V:u(V);F!==V&&(z=F-v);const W=C=>-z*Math.exp(-C/s),Q=C=>F+W(C),ee=C=>{const I=W(C),D=Q(C);b.done=Math.abs(I)<=m,b.value=b.done?F:D};let H,k;const x=C=>{w(b.value)&&(H=C,k=pd({keyframes:[b.value,N(b.value)],velocity:XC(Q,C,b.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return x(0),{calculatedDuration:null,next:C=>{let I=!1;return!k&&H===void 0&&(I=!0,ee(C),x(C)),H!==void 0&&C>=H?k.next(C-H):(!I&&ee(C),b)}}}function qO(t,e,n){const s=[],a=n||ur.mix||KC,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Li:e;h=nh(d,h)}s.push(h)}return s}function YO(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(wv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=qO(e,s,a),d=h.length,m=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const b=Oc(t[v],t[v+1],y);return h[v](b)};return n?y=>m(lr(t[0],t[l-1],y)):m}function $O(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Oc(0,e,s);t.push(Dt(n,1,a))}}function KO(t){const e=[0];return $O(e,t.length-1),e}function WO(t,e){return t.map(n=>n*e)}function XO(t,e){return t.map(()=>e||jC).splice(0,t.length-1)}function pc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=oO(s)?s.map(KS):KS(s),l={done:!1,value:e[0]},u=WO(n&&n.length===e.length?n:KO(e),t),h=YO(u,e,{ease:Array.isArray(a)?a:XO(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const QO=t=>t!==null;function Pv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(QO),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const ZO={decay:dy,inertia:dy,tween:pc,keyframes:pc,spring:pd};function QC(t){typeof t.type=="string"&&(t.type=ZO[t.type])}class kv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const JO=t=>t/100;class Lv extends kv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==$n.now()&&this.tick($n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QC(e);const{type:n=pc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||pc;d!==pc&&typeof h[0]!="number"&&(this.mixKeyframes=nh(JO,KC(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Ov(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:w,type:N,onUpdate:z,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-m*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,ee=s;if(v){const C=Math.min(this.currentTime,a)/h;let I=Math.floor(C),D=C%1;!D&&C>=1&&(D=1),D===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(b==="reverse"?(D=1-D,w&&(D-=w/h)):b==="mirror"&&(ee=u)),Q=lr(0,1,D)*h}const H=W?{done:!1,value:y[0]}:ee.next(Q);l&&(H.value=l(H.value));let{done:k}=H;!W&&d!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return x&&N!==dy&&(H.value=Pv(y,this.options,V,this.speed)),z&&z(H.value),x&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return Rs(this.calculatedDuration)}get time(){return Rs(this.currentTime)}set time(e){e=As(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=LO,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function eP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const so=t=>t*180/Math.PI,py=t=>{const e=so(Math.atan2(t[1],t[0]));return my(e)},tP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:py,rotateZ:py,skewX:t=>so(Math.atan(t[1])),skewY:t=>so(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},my=t=>(t=t%360,t<0&&(t+=360),t),ew=py,tw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tw,scaleY:nw,scale:t=>(tw(t)+nw(t))/2,rotateX:t=>my(so(Math.atan2(t[6],t[5]))),rotateY:t=>my(so(Math.atan2(-t[2],t[0]))),rotateZ:ew,rotate:ew,skewX:t=>so(Math.atan(t[4])),skewY:t=>so(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gy(t){return t.includes("scale")?1:0}function yy(t,e){if(!t||t==="none")return gy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=nP,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=tP,a=h}if(!a)return gy(e);const l=s[e],u=a[1].split(",").map(sP);return typeof l=="function"?l(u):u[l]}const iP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return yy(n,e)};function sP(t){return parseFloat(t.trim())}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(zl),iw=t=>t===Vl||t===Oe,rP=new Set(["x","y","z"]),aP=zl.filter(t=>!rP.has(t));function oP(t){const e=[];return aP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yy(e,"x"),y:(t,{transform:e})=>yy(e,"y")};co.translateX=co.x;co.translateY=co.y;const ho=new Set;let vy=!1,_y=!1,by=!1;function ZC(){if(_y){const t=Array.from(ho).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=oP(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_y=!1,vy=!1,ho.forEach(t=>t.complete(by)),ho.clear()}function JC(){ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_y=!0)})}function lP(){by=!0,JC(),ZC(),by=!1}class Uv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ho.add(this),vy||(vy=!0,At.read(JC),At.resolveKeyframes(ZC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}eP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ho.delete(this)}cancel(){this.state==="scheduled"&&(ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uP=t=>t.startsWith("--");function cP(t,e,n){uP(e)?t.style.setProperty(e,n):t.style[e]=n}const hP=Tv(()=>window.ScrollTimeline!==void 0),fP={};function dP(t,e){const n=Tv(t);return()=>fP[e]??n()}const eA=dP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,sw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uc([0,.65,.55,1]),circOut:uc([.55,0,1,.45]),backIn:uc([.31,.01,.66,-.59]),backOut:uc([.33,1.53,.69,.99])};function tA(t,e){if(t)return typeof t=="function"?eA()?WC(t,e):"ease-out":VC(t)?uc(t):Array.isArray(t)?t.map(n=>tA(n,e)||sw.easeOut):sw[t]}function pP(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:n};d&&(y.offset=d);const v=tA(h,a);Array.isArray(v)&&(y.easing=v);const b={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(y,b)}function nA(t){return typeof t=="function"&&"applyToOptions"in t}function mP({type:t,...e}){return nA(t)&&eA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gP extends kv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,wv(typeof e.type!="string");const m=mP(e);this.animation=pP(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Pv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):cP(n,s,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Rs(Number(e))}get time(){return Rs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=As(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hP()?(this.animation.timeline=e,Li):n(this)}}const iA={anticipate:kC,backInOut:PC,circInOut:UC};function yP(t){return t in iA}function vP(t){typeof t.ease=="string"&&yP(t.ease)&&(t.ease=iA[t.ease])}const rw=10;class _P extends gP{constructor(e){vP(e),QC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Lv({...u,autoplay:!1}),d=As(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-rw).value,h.sample(d).value,rw),h.stop()}}const aw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(aa.test(t)||t==="0")&&!t.startsWith("url("));function bP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function EP(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=aw(a,e),h=aw(l,e);return!u||!h?!1:bP(t)||(n==="spring"||nA(n))&&s}function Ey(t){t.duration=0,t.type}const SP=new Set(["opacity","clipPath","filter","transform"]),wP=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TP(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return wP()&&n&&SP.has(n)&&(n!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const CP=40;class AP extends kv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$n.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:y,...v},w=y?.KeyframeResolver||Uv;this.keyframeResolver=new w(h,(N,z,V)=>this.onKeyframesResolved(N,z,b,!V),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:y}=s;this.resolvedAt=$n.now(),EP(e,l,u,h)||((ur.instantAnimations||!d)&&y?.(Pv(e,s,n)),e[0]=e[e.length-1],Ey(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>CP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!m&&TP(b)?new _P({...b,element:b.motionValue.owner.current}):new Lv(b);w.finished.then(()=>this.notifyFinished()).catch(Li),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),lP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const RP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xP(t){const e=RP.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function sA(t,e,n=1){const[s,a]=xP(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return AC(u)?parseFloat(u):u}return Nv(a)?sA(a,e,n+1):a}function jv(t,e){return t?.[e]??t?.default??t}const rA=new Set(["width","height","top","left","right","bottom",...zl]),NP={test:t=>t==="auto",parse:t=>t},aA=t=>e=>e.test(t),oA=[Vl,Oe,xs,Kr,bO,_O,NP],ow=t=>oA.find(aA(t));function IP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xC(t):!0}const DP=new Set(["brightness","contrast","saturate","opacity"]);function MP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Iv)||[];if(!s)return t;const a=n.replace(s,"");let l=DP.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const OP=/\b([a-z-]*)\(.*?\)/gu,Sy={...aa,getAnimatableNone:t=>{const e=t.match(OP);return e?e.map(MP).join(" "):t}},lw={...Vl,transform:Math.round},PP={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Vf,scaleX:Vf,scaleY:Vf,scaleZ:Vf,skew:Kr,skewX:Kr,skewY:Kr,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Pc,originX:WS,originY:WS,originZ:Oe},Vv={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...PP,zIndex:lw,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:lw},kP={...Vv,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Sy,WebkitFilter:Sy},lA=t=>kP[t];function uA(t,e){let n=lA(t);return n!==Sy&&(n=aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LP=new Set(["auto","none","0"]);function UP(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!LP.has(l)&&kc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=uA(n,a)}class jP extends Uv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),Nv(m))){const y=sA(m,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!rA.has(s)||e.length!==2)return;const[a,l]=e,u=ow(a),h=ow(l);if(u!==h)if(iw(u)&&iw(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else co[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||IP(e[a]))&&s.push(a);s.length&&UP(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=co[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=co[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function VP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const cA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function hA(t){return RC(t)&&"offsetHeight"in t}const uw=30,zP=t=>!isNaN(parseFloat(t));class BP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=$n.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cv);const s=this.events[e].add(n);return e==="change"?()=>{s(),At.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uw);return NC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nl(t,e){return new BP(t,e)}const{schedule:zv}=zC(queueMicrotask,!1),es={x:!1,y:!1};function fA(){return es.x||es.y}function FP(t){return t==="x"||t==="y"?es[t]?null:(es[t]=!0,()=>{es[t]=!1}):es.x||es.y?null:(es.x=es.y=!0,()=>{es.x=es.y=!1})}function dA(t,e){const n=VP(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function cw(t){return!(t.pointerType==="touch"||fA())}function HP(t,e,n={}){const[s,a,l]=dA(t,n),u=h=>{if(!cw(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const y=v=>{cw(v)&&(m(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const pA=(t,e)=>e?t===e?!0:pA(t,e.parentElement):!1,Bv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,GP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qP(t){return GP.has(t.tagName)||t.tabIndex!==-1}const Jf=new WeakSet;function hw(t){return e=>{e.key==="Enter"&&t(e)}}function Ig(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=hw(()=>{if(Jf.has(n))return;Ig(n,"down");const a=hw(()=>{Ig(n,"up")}),l=()=>Ig(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function fw(t){return Bv(t)&&!fA()}function $P(t,e,n={}){const[s,a,l]=dA(t,n),u=h=>{const d=h.currentTarget;if(!fw(h))return;Jf.add(d);const m=e(d,h),y=(w,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Jf.has(d)&&Jf.delete(d),fw(w)&&typeof m=="function"&&m(w,{success:N})},v=w=>{y(w,d===window||d===document||n.useGlobalTarget||pA(d,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),hA(h)&&(h.addEventListener("focus",m=>YP(m,a)),!qP(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function mA(t){return RC(t)&&"ownerSVGElement"in t}function KP(t){return mA(t)&&t.tagName==="svg"}const Cn=t=>!!(t&&t.getVelocity),WP=[...oA,Yt,aa],XP=t=>WP.find(aA(t)),Fv=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function dw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function QP(...t){return e=>{let n=!1;const s=t.map(a=>{const l=dw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():dw(t[a],null)}}}}function ZP(...t){return O.useCallback(QP(...t),t)}class JP extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=hA(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ek({children:t,isPresent:e,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=O.useContext(Fv),d=ZP(l,t?.ref);return O.useInsertionEffect(()=>{const{width:m,height:y,top:v,left:b,right:w}=u.current;if(e||!l.current||!m||!y)return;const N=n==="left"?`left: ${b}`:`right: ${w}`;l.current.dataset.motionPopId=a;const z=document.createElement("style");h&&(z.nonce=h);const V=s??document.head;return V.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${N}px !important;
            top: ${v}px !important;
          }
        `),()=>{V.contains(z)&&V.removeChild(z)}},[e]),R.jsx(JP,{isPresent:e,childRef:l,sizeRef:u,children:O.cloneElement(t,{ref:d})})}const tk=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const m=_v(nk),y=O.useId();let v=!0,b=O.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:w=>{m.set(w,!0);for(const N of m.values())if(!N)return;s&&s()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[n,m,s]);return l&&v&&(b={...b}),O.useMemo(()=>{m.forEach((w,N)=>m.set(N,!1))},[n]),O.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=R.jsx(ek,{isPresent:n,anchorX:h,root:d,children:t})),R.jsx($d.Provider,{value:b,children:t})};function nk(){return new Map}function gA(t=!0){const e=O.useContext($d);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const zf=t=>t.key||"";function pw(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const ik=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[m,y]=gA(u),v=O.useMemo(()=>pw(t),[t]),b=u&&!m?[]:v.map(zf),w=O.useRef(!0),N=O.useRef(v),z=_v(()=>new Map),[V,F]=O.useState(v),[W,Q]=O.useState(v);CC(()=>{w.current=!1,N.current=v;for(let k=0;k<W.length;k++){const x=zf(W[k]);b.includes(x)?z.delete(x):z.get(x)!==!0&&z.set(x,!1)}},[W,b.length,b.join("-")]);const ee=[];if(v!==V){let k=[...v];for(let x=0;x<W.length;x++){const C=W[x],I=zf(C);b.includes(I)||(k.splice(x,0,C),ee.push(C))}return l==="wait"&&ee.length&&(k=ee),Q(pw(k)),F(v),null}const{forceRender:H}=O.useContext(vv);return R.jsx(R.Fragment,{children:W.map(k=>{const x=zf(k),C=u&&!m?!1:v===W||b.includes(x),I=()=>{if(z.has(x))z.set(x,!0);else return;let D=!0;z.forEach(P=>{P||(D=!1)}),D&&(H?.(),Q(N.current),u&&y?.(),s&&s())};return R.jsx(tk,{isPresent:C,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:C?void 0:I,anchorX:h,children:k},x)})})},yA=O.createContext({strict:!1}),mw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Il={};for(const t in mw)Il[t]={isEnabled:e=>mw[t].some(n=>!!e[n])};function sk(t){for(const e in t)Il[e]={...Il[e],...t[e]}}const rk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function md(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rk.has(t)}let vA=t=>!md(t);function ak(t){typeof t=="function"&&(vA=e=>e.startsWith("on")?!md(e):t(e))}try{ak(require("@emotion/is-prop-valid").default)}catch{}function ok(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(vA(a)||n===!0&&md(a)||!e&&!md(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Kd=O.createContext({});function Wd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lc(t){return typeof t=="string"||Array.isArray(t)}const Hv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gv=["initial",...Hv];function Xd(t){return Wd(t.animate)||Gv.some(e=>Lc(t[e]))}function _A(t){return!!(Xd(t)||t.variants)}function lk(t,e){if(Xd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Lc(n)?n:void 0,animate:Lc(s)?s:void 0}}return t.inherit!==!1?e:{}}function uk(t){const{initial:e,animate:n}=lk(t,O.useContext(Kd));return O.useMemo(()=>({initial:e,animate:n}),[gw(e),gw(n)])}function gw(t){return Array.isArray(t)?t.join(" "):t}const Uc={};function ck(t){for(const e in t)Uc[e]=t[e],xv(e)&&(Uc[e].isCSSVariable=!0)}function bA(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uc[t]||t==="opacity")}const hk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fk=zl.length;function dk(t,e,n){let s="",a=!0;for(let l=0;l<fk;l++){const u=zl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=cA(h,Vv[u]);if(!d){a=!1;const y=hk[u]||u;s+=`${y}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function qv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const m=e[d];if(Bl.has(d)){u=!0;continue}else if(xv(d)){a[d]=m;continue}else{const y=cA(m,Vv[d]);d.startsWith("origin")?(h=!0,l[d]=y):s[d]=y}}if(e.transform||(u||n?s.transform=dk(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${d} ${m} ${y}`}}const Yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EA(t,e,n){for(const s in e)!Cn(e[s])&&!bA(s,n)&&(t[s]=e[s])}function pk({transformTemplate:t},e){return O.useMemo(()=>{const n=Yv();return qv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mk(t,e){const n=t.style||{},s={};return EA(s,n,t),Object.assign(s,pk(t,e)),s}function gk(t,e){const n={},s=mk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const yk={offset:"stroke-dashoffset",array:"stroke-dasharray"},vk={offset:"strokeDashoffset",array:"strokeDasharray"};function _k(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?yk:vk;t[l.offset]=Oe.transform(-s);const u=Oe.transform(e),h=Oe.transform(n);t[l.array]=`${u} ${h}`}function SA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,m,y){if(qv(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&_k(v,a,l,u,!1)}const wA=()=>({...Yv(),attrs:{}}),TA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bk(t,e,n,s){const a=O.useMemo(()=>{const l=wA();return SA(l,e,TA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};EA(l,t.style,t),a.style={...l,...a.style}}return a}const Ek=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $v(t){return typeof t!="string"||t.includes("-")?!1:!!(Ek.indexOf(t)>-1||/[A-Z]/u.test(t))}function Sk(t,e,n,{latestValues:s},a,l=!1){const h=($v(t)?bk:gk)(e,s,a,t),d=ok(e,typeof t=="string",l),m=t!==O.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=O.useMemo(()=>Cn(y)?y.get():y,[y]);return O.createElement(t,{...m,children:v})}function yw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Kv(t,e,n,s){if(typeof e=="function"){const[a,l]=yw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=yw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function ed(t){return Cn(t)?t.get():t}function wk({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Tk(n,s,a,t),renderState:e()}}function Tk(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=ed(l[b]);let{initial:u,animate:h}=t;const d=Xd(t),m=_A(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!Wd(v)){const b=Array.isArray(v)?v:[v];for(let w=0;w<b.length;w++){const N=Kv(t,b[w]);if(N){const{transitionEnd:z,transition:V,...F}=N;for(const W in F){let Q=F[W];if(Array.isArray(Q)){const ee=y?Q.length-1:0;Q=Q[ee]}Q!==null&&(a[W]=Q)}for(const W in z)a[W]=z[W]}}}return a}const CA=t=>(e,n)=>{const s=O.useContext(Kd),a=O.useContext($d),l=()=>wk(t,e,s,a);return n?l():_v(l)};function Wv(t,e,n){const{style:s}=t,a={};for(const l in s)(Cn(s[l])||e.style&&Cn(e.style[l])||bA(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const Ck=CA({scrapeMotionValuesFromProps:Wv,createRenderState:Yv});function AA(t,e,n){const s=Wv(t,e,n);for(const a in t)if(Cn(t[a])||Cn(e[a])){const l=zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const Ak=CA({scrapeMotionValuesFromProps:AA,createRenderState:wA}),Rk=Symbol.for("motionComponentSymbol");function ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xk(t,e,n){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ml(n)&&(n.current=s))},[e])}const Xv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nk="framerAppearId",RA="data-"+Xv(Nk),xA=O.createContext({});function Ik(t,e,n,s,a){const{visualElement:l}=O.useContext(Kd),u=O.useContext(yA),h=O.useContext($d),d=O.useContext(Fv).reducedMotion,m=O.useRef(null);s=s||u.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=m.current,v=O.useContext(xA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Dk(m.current,n,a,v);const b=O.useRef(!1);O.useInsertionEffect(()=>{y&&b.current&&y.update(n,h)});const w=n[RA],N=O.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return CC(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),N.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!N.current&&y.animationState&&y.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),N.current=!1),y.enteringChildren=void 0)}),y}function Dk(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&ml(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:d,layoutRoot:m})}function NA(t){if(t)return t.options.allowProjection!==!1?t.projection:NA(t.parent)}function Dg(t,{forwardMotionProps:e=!1}={},n,s){n&&sk(n);const a=$v(t)?Ak:Ck;function l(h,d){let m;const y={...O.useContext(Fv),...h,layoutId:Mk(h)},{isStatic:v}=y,b=uk(h),w=a(h,v);if(!v&&bv){Ok();const N=Pk(y);m=N.MeasureLayout,b.visualElement=Ik(t,w,y,s,N.ProjectionNode)}return R.jsxs(Kd.Provider,{value:b,children:[m&&b.visualElement?R.jsx(m,{visualElement:b.visualElement,...y}):null,Sk(t,h,xk(w,b.visualElement,d),w,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(l);return u[Rk]=t,u}function Mk({layoutId:t}){const e=O.useContext(vv).id;return e&&t!==void 0?e+"-"+t:t}function Ok(t,e){O.useContext(yA).strict}function Pk(t){const{drag:e,layout:n}=Il;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function kk(t,e){if(typeof Proxy>"u")return Dg;const n=new Map,s=(l,u)=>Dg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Dg(u,void 0,t,e)),n.get(u))})}function IA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Lk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Uk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mg(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!Mg(t)||!Mg(e)||!Mg(n)}function Za(t){return wy(t)||DA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DA(t){return vw(t.x)||vw(t.y)}function vw(t){return t&&t!=="0%"}function gd(t,e,n){const s=t-n,a=e*s;return n+a}function _w(t,e,n,s,a){return a!==void 0&&(t=gd(t,a,s)),gd(t,n,s)+e}function Ty(t,e=0,n=1,s,a){t.min=_w(t.min,e,n,s,a),t.max=_w(t.max,e,n,s,a)}function MA(t,{x:e,y:n}){Ty(t.x,e.translate,e.scale,e.originPoint),Ty(t.y,n.translate,n.scale,n.originPoint)}const bw=.999999999999,Ew=1.0000000000001;function jk(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&yl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,MA(t,u)),s&&Za(l.latestValues)&&yl(t,l.latestValues))}e.x<Ew&&e.x>bw&&(e.x=1),e.y<Ew&&e.y>bw&&(e.y=1)}function gl(t,e){t.min=t.min+e,t.max=t.max+e}function Sw(t,e,n,s,a=.5){const l=Dt(t.min,t.max,a);Ty(t,e,n,l,s)}function yl(t,e){Sw(t.x,e.x,e.scaleX,e.scale,e.originX),Sw(t.y,e.y,e.scaleY,e.scale,e.originY)}function OA(t,e){return IA(Uk(t.getBoundingClientRect(),e))}function Vk(t,e,n){const s=OA(t,n),{scroll:a}=e;return a&&(gl(s.x,a.offset.x),gl(s.y,a.offset.y)),s}const ww=()=>({translate:0,scale:1,origin:0,originPoint:0}),vl=()=>({x:ww(),y:ww()}),Tw=()=>({min:0,max:0}),Bt=()=>({x:Tw(),y:Tw()}),Cy={current:null},PA={current:!1};function zk(){if(PA.current=!0,!!bv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cy.current=t.matches;t.addEventListener("change",e),e()}else Cy.current=!1}const Bk=new WeakMap;function Fk(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Cn(a))t.addValue(s,a);else if(Cn(l))t.addValue(s,Nl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Nl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hk{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=$n.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,At.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Xd(n),this.isVariantNode=_A(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const w=v[b];d[b]!==void 0&&Cn(w)&&w.set(d[b])}}mount(e){this.current=e,Bk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),PA.current||zk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ra(this.notifyUpdate),ra(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Bl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&At.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Il){const n=Il[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Cw.length;s++){const a=Cw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Fk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Nl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(AC(s)||xC(s))?s=parseFloat(s):!XP(s)&&aa.test(n)&&(s=uA(e,n)),this.setBaseTarget(e,Cn(s)?s.get():s)),Cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Kv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zv.render(this.render)}}class kA extends Hk{constructor(){super(...arguments),this.KeyframeResolver=jP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LA(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function Gk(t){return window.getComputedStyle(t)}class qk extends kA{constructor(){super(...arguments),this.type="html",this.renderInstance=LA}readValueFromInstance(e,n){if(Bl.has(n))return this.projection?.isProjecting?gy(n):iP(e,n);{const s=Gk(e),a=(xv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return OA(e,n)}build(e,n,s){qv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Wv(e,n,s)}}const UA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Yk(t,e,n,s){LA(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(UA.has(a)?a:Xv(a),e.attrs[a])}class $k extends kA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const s=lA(n);return s&&s.default||0}return n=UA.has(n)?n:Xv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return AA(e,n,s)}build(e,n,s){SA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){Yk(e,n,s,a)}mount(e){this.isSVGTag=TA(e.tagName),super.mount(e)}}const Kk=(t,e)=>$v(t)?new $k(e):new qk(e,{allowProjection:t!==O.Fragment});function El(t,e,n){const s=t.getProps();return Kv(s,e,n!==void 0?n:s.custom,t)}const Ay=t=>Array.isArray(t);function Wk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nl(n))}function Xk(t){return Ay(t)?t[t.length-1]||0:t}function Qk(t,e){const n=El(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=Xk(l[u]);Wk(t,u,h)}}function Zk(t){return!!(Cn(t)&&t.add)}function Ry(t,e){const n=t.getValue("willChange");if(Zk(n))return n.add(e);if(!n&&ur.WillChange){const s=new ur.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function jA(t){return t.props[RA]}const Jk=t=>t!==null;function eL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(Jk),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const tL={type:"spring",stiffness:500,damping:25,restSpeed:10},nL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iL={type:"keyframes",duration:.8},sL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rL=(t,{keyframes:e})=>e.length>2?iL:Bl.has(t)?t.startsWith("scale")?nL(e[1]):tL:sL;function aL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const Qv=(t,e,n,s={},a,l)=>u=>{const h=jv(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-As(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};aL(h)||Object.assign(y,rL(t,y)),y.duration&&(y.duration=As(y.duration)),y.repeatDelay&&(y.repeatDelay=As(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ey(y),y.delay===0&&(v=!0)),(ur.instantAnimations||ur.skipAnimations)&&(v=!0,Ey(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const b=eL(y.keyframes,h);if(b!==void 0){At.update(()=>{y.onUpdate(b),y.onComplete()});return}}return h.isSync?new Lv(y):new AP(y)};function oL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function VA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),b=h[y];if(b===void 0||m&&oL(m,y))continue;const w={delay:n,...jv(l||{},y)},N=v.get();if(N!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===N&&!w.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const F=jA(t);if(F){const W=window.MotionHandoffAnimation(F,y,At);W!==null&&(w.startTime=W,z=!0)}}Ry(t,y),v.start(Qv(y,v,b,t.shouldReduceMotion&&rA.has(y)?{type:!1}:w,t,z));const V=v.animation;V&&d.push(V)}return u&&Promise.all(d).then(()=>{At.update(()=>{u&&Qk(t,u)})}),d}function zA(t,e,n,s=0,a=1){const l=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function xy(t,e,n={}){const s=El(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(VA(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return lL(t,e,d,m,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function lL(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(xy(d,e,{...u,delay:n+(typeof s=="function"?0:s)+zA(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function uL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>xy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=xy(t,e,n);else{const a=typeof e=="function"?El(t,e,n.custom):e;s=Promise.all(VA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function BA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const cL=Gv.length;function FA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?FA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cL;n++){const s=Gv[n],a=t.props[s];(Lc(a)||a===!1)&&(e[s]=a)}return e}const hL=[...Hv].reverse(),fL=Hv.length;function dL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>uL(t,n,s)))}function pL(t){let e=dL(t),n=Aw(),s=!0;const a=d=>(m,y)=>{const v=El(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:w,...N}=v;m={...m,...N,...w}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,y=FA(t.parent)||{},v=[],b=new Set;let w={},N=1/0;for(let V=0;V<fL;V++){const F=hL[V],W=n[F],Q=m[F]!==void 0?m[F]:y[F],ee=Lc(Q),H=F===d?W.isActive:null;H===!1&&(N=V);let k=Q===y[F]&&Q!==m[F]&&ee;if(k&&s&&t.manuallyAnimateOnMount&&(k=!1),W.protectedKeys={...w},!W.isActive&&H===null||!Q&&!W.prevProp||Wd(Q)||typeof Q=="boolean")continue;const x=mL(W.prevProp,Q);let C=x||F===d&&W.isActive&&!k&&ee||V>N&&ee,I=!1;const D=Array.isArray(Q)?Q:[Q];let P=D.reduce(a(F),{});H===!1&&(P={});const{prevResolvedValues:G={}}=W,M={...G,...P},Ie=ue=>{C=!0,b.has(ue)&&(I=!0,b.delete(ue)),W.needsAnimating[ue]=!0;const pe=t.getValue(ue);pe&&(pe.liveStyle=!1)};for(const ue in M){const pe=P[ue],Re=G[ue];if(w.hasOwnProperty(ue))continue;let U=!1;Ay(pe)&&Ay(Re)?U=!BA(pe,Re):U=pe!==Re,U?pe!=null?Ie(ue):b.add(ue):pe!==void 0&&b.has(ue)?Ie(ue):W.protectedKeys[ue]=!0}W.prevProp=Q,W.prevResolvedValues=P,W.isActive&&(w={...w,...P}),s&&t.blockInitialAnimation&&(C=!1);const Be=k&&x;C&&(!Be||I)&&v.push(...D.map(ue=>{const pe={type:F};if(typeof ue=="string"&&s&&!Be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Re}=t,U=El(Re,ue);if(Re.enteringChildren&&U){const{delayChildren:re}=U.transition||{};pe.delay=zA(Re.enteringChildren,t,re)}}return{animation:ue,options:pe}}))}if(b.size){const V={};if(typeof m.initial!="boolean"){const F=El(t,Array.isArray(m.initial)?m.initial[0]:m.initial);F&&F.transition&&(V.transition=F.transition)}b.forEach(F=>{const W=t.getBaseTarget(F),Q=t.getValue(F);Q&&(Q.liveStyle=!0),V[F]=W??null}),v.push({animation:V})}let z=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(z=!1),s=!1,z?e(v):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Aw(),s=!0}}}function mL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BA(e,t):!1}function Qa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Aw(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gL extends fa{constructor(e){super(e),e.animationState||(e.animationState=pL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yL=0;class vL extends fa{constructor(){super(...arguments),this.id=yL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _L={animation:{Feature:gL},exit:{Feature:vL}};function jc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function rh(t){return{point:{x:t.pageX,y:t.pageY}}}const bL=t=>e=>Bv(e)&&t(e,rh(e));function mc(t,e,n,s){return jc(t,e,bL(n),s)}const HA=1e-4,EL=1-HA,SL=1+HA,GA=.01,wL=0-GA,TL=0+GA;function kn(t){return t.max-t.min}function CL(t,e,n){return Math.abs(t-e)<=n}function Rw(t,e,n,s=.5){t.origin=s,t.originPoint=Dt(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=Dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=EL&&t.scale<=SL||isNaN(t.scale))&&(t.scale=1),(t.translate>=wL&&t.translate<=TL||isNaN(t.translate))&&(t.translate=0)}function gc(t,e,n,s){Rw(t.x,e.x,n.x,s?s.originX:void 0),Rw(t.y,e.y,n.y,s?s.originY:void 0)}function xw(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function AL(t,e,n){xw(t.x,e.x,n.x),xw(t.y,e.y,n.y)}function Nw(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function yc(t,e,n){Nw(t.x,e.x,n.x),Nw(t.y,e.y,n.y)}function Oi(t){return[t("x"),t("y")]}const qA=({current:t})=>t?t.ownerDocument.defaultView:null,Iw=(t,e)=>Math.abs(t-e);function RL(t,e){const n=Iw(t.x,e.x),s=Iw(t.y,e.y);return Math.sqrt(n**2+s**2)}class YA{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Pg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,N=RL(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!N)return;const{point:z}=b,{timestamp:V}=vn;this.history.push({...z,timestamp:V});const{onStart:F,onMove:W}=this.handlers;w||(F&&F(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Og(w,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:N,onSessionEnd:z,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Pg(b.type==="pointercancel"?this.lastMoveEventInfo:Og(w,this.transformPagePoint),this.history);this.startEvent&&N&&N(b,F),z&&z(b,F)},!Bv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=rh(e),d=Og(h,this.transformPagePoint),{point:m}=d,{timestamp:y}=vn;this.history=[{...m,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,Pg(d,this.history)),this.removeListeners=nh(mc(this.contextWindow,"pointermove",this.handlePointerMove),mc(this.contextWindow,"pointerup",this.handlePointerUp),mc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ra(this.updatePoint)}}function Og(t,e){return e?{point:e(t.point)}:t}function Dw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pg({point:t},e){return{point:t,delta:Dw(t,$A(e)),offset:Dw(t,xL(e)),velocity:NL(e,.1)}}function xL(t){return t[0]}function $A(t){return t[t.length-1]}function NL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=$A(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>As(e)));)n--;if(!s)return{x:0,y:0};const l=Rs(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function IL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Dt(n,t,s.max):Math.min(t,n)),t}function Mw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DL(t,{top:e,left:n,bottom:s,right:a}){return{x:Mw(t.x,n,a),y:Mw(t.y,e,s)}}function Ow(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function ML(t,e){return{x:Ow(t.x,e.x),y:Ow(t.y,e.y)}}function OL(t,e){let n=.5;const s=kn(t),a=kn(e);return a>s?n=Oc(e.min,e.max-s,t.min):s>a&&(n=Oc(t.min,t.max-a,e.min)),lr(0,1,n)}function PL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ny=.35;function kL(t=Ny){return t===!1?t=0:t===!0&&(t=Ny),{x:Pw(t,"left","right"),y:Pw(t,"top","bottom")}}function Pw(t,e,n){return{min:kw(t,e),max:kw(t,n)}}function kw(t,e){return typeof t=="number"?t:t[e]||0}const LL=new WeakMap;class UL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rh(v).point)},u=(v,b)=>{const{drag:w,dragPropagation:N,onDragStart:z}=this.getProps();if(w&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FP(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(F=>{let W=this.getAxisMotionValue(F).get()||0;if(xs.test(W)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ee=Q.layout.layoutBox[F];ee&&(W=kn(ee)*(parseFloat(W)/100))}}this.originPoint[F]=W}),z&&At.postRender(()=>z(v,b)),Ry(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:N,onDirectionLock:z,onDrag:V}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:F}=b;if(N&&this.currentDirection===null){this.currentDirection=jL(F),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),V&&V(v,b)},d=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Oi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new YA(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:qA(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&At.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=IL(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ml(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=DL(s.layoutBox,e):this.constraints=!1,this.elastic=kL(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Oi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=PL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ml(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Vk(s,a.root,this.visualElement.getTransformPagePoint());let u=ML(a.layout.layoutBox,l);if(n){const h=n(Lk(u));this.hasMutatedConstraints=!!h,h&&(u=IA(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=Oi(y=>{if(!Bf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,N={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ry(this.visualElement,e),s.start(Qv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Oi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Oi(n=>{const{drag:s}=this.getProps();if(!Bf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-Dt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ml(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Oi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=OL({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Oi(u=>{if(!Bf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(Dt(d,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;LL.set(this.visualElement,this);const e=this.visualElement.current,n=mc(e,"pointerdown",d=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();ml(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),At.read(s);const u=jc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Oi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Ny,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VL extends fa{constructor(e){super(e),this.removeGroupControls=Li,this.removeListeners=Li,this.controls=new UL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Li}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lw=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class zL extends fa{constructor(){super(...arguments),this.removePointerDownListener=Li}onPointerDown(e){this.session=new YA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Lw(e),onStart:Lw(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&At.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=mc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const td={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=Uw(t,e.target.x),s=Uw(t,e.target.y);return`${n}% ${s}%`}},BL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=aa.parse(t);if(a.length>5)return s;const l=aa.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const m=Dt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}};let kg=!1;class FL extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;ck(HL),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),kg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,kg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||At.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;kg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KA(t){const[e,n]=gA(),s=O.useContext(vv);return R.jsx(FL,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(xA),isPresent:e,safeToRemove:n})}const HL={borderRadius:{...tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tc,borderTopRightRadius:tc,borderBottomLeftRadius:tc,borderBottomRightRadius:tc,boxShadow:BL};function GL(t,e,n){const s=Cn(t)?t:Nl(t);return s.start(Qv("",s,e,n)),s.animation}const qL=(t,e)=>t.depth-e.depth;class YL{constructor(){this.children=[],this.isDirty=!1}add(e){Ev(this.children,e),this.isDirty=!0}remove(e){Sv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qL),this.isDirty=!1,this.children.forEach(e)}}function $L(t,e){const n=$n.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ra(s),t(l-e))};return At.setup(s,!0),()=>ra(s)}const WA=["TopLeft","TopRight","BottomLeft","BottomRight"],KL=WA.length,jw=t=>typeof t=="string"?parseFloat(t):t,Vw=t=>typeof t=="number"||Oe.test(t);function WL(t,e,n,s,a,l){a?(t.opacity=Dt(0,n.opacity??1,XL(s)),t.opacityExit=Dt(e.opacity??1,0,QL(s))):l&&(t.opacity=Dt(e.opacity??1,n.opacity??1,s));for(let u=0;u<KL;u++){const h=`border${WA[u]}Radius`;let d=zw(e,h),m=zw(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Vw(d)===Vw(m)?(t[h]=Math.max(Dt(jw(d),jw(m),s),0),(xs.test(m)||xs.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Dt(e.rotate||0,n.rotate||0,s))}function zw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XL=XA(0,.5,LC),QL=XA(.5,.95,Li);function XA(t,e,n){return s=>s<t?0:s>e?1:n(Oc(t,e,s))}function Bw(t,e){t.min=e.min,t.max=e.max}function Ii(t,e){Bw(t.x,e.x),Bw(t.y,e.y)}function Fw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Hw(t,e,n,s,a){return t-=e,t=gd(t,1/n,s),a!==void 0&&(t=gd(t,1/a,s)),t}function ZL(t,e=0,n=1,s=.5,a,l=t,u=t){if(xs.test(e)&&(e=parseFloat(e),e=Dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Dt(l.min,l.max,s);t===l&&(h-=e),t.min=Hw(t.min,e,n,h,a),t.max=Hw(t.max,e,n,h,a)}function Gw(t,e,[n,s,a],l,u){ZL(t,e[n],e[s],e[a],e.scale,l,u)}const JL=["x","scaleX","originX"],e4=["y","scaleY","originY"];function qw(t,e,n,s){Gw(t.x,e,JL,n?n.x:void 0,s?s.x:void 0),Gw(t.y,e,e4,n?n.y:void 0,s?s.y:void 0)}function Yw(t){return t.translate===0&&t.scale===1}function QA(t){return Yw(t.x)&&Yw(t.y)}function $w(t,e){return t.min===e.min&&t.max===e.max}function t4(t,e){return $w(t.x,e.x)&&$w(t.y,e.y)}function Kw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ZA(t,e){return Kw(t.x,e.x)&&Kw(t.y,e.y)}function Ww(t){return kn(t.x)/kn(t.y)}function Xw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class n4{constructor(){this.members=[]}add(e){Ev(this.members,e),e.scheduleRender()}remove(e){if(Sv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i4(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:b,skewX:w,skewY:N}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),b&&(s+=`rotateY(${b}deg) `),w&&(s+=`skewX(${w}deg) `),N&&(s+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const Lg=["","X","Y","Z"],s4=1e3;let r4=0;function Ug(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function JA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&JA(s)}function eR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=r4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l4),this.nodes.forEach(f4),this.nodes.forEach(d4),this.nodes.forEach(u4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new YL)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Cv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=mA(u)&&!KP(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;At.read(()=>{v=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=$L(b,250),td.hasAnimatedSinceResize&&(td.hasAnimatedSinceResize=!1,this.nodes.forEach(Jw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||v4,{onLayoutAnimationStart:z,onLayoutAnimationComplete:V}=m.getProps(),F=!this.targetLayout||!ZA(this.targetLayout,w),W=!v&&b;if(this.options.layoutRoot||this.resumeFrom||W||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...jv(N,"layout"),onPlay:z,onComplete:V};(m.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(y,W)}else v||Jw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(h4),this.nodes.forEach(a4),this.nodes.forEach(o4)):this.nodes.forEach(Zw),this.clearAllSnapshots();const h=$n.now();vn.delta=lr(0,1e3/60,h-vn.timestamp),vn.timestamp=h,vn.isProcessing=!0,Cg.update.process(vn),Cg.preRender.process(vn),Cg.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c4),this.sharedNodes.forEach(m4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!QA(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Za(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),_4(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Bt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(b4))){const{scroll:m}=this.root;m&&(gl(h.x,m.offset.x),gl(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Bt();if(Ii(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ii(h,u),gl(h.x,y.offset.x),gl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Bt();Ii(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&yl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Za(y.latestValues)&&yl(d,y.latestValues)}return Za(this.latestValues)&&yl(d,this.latestValues),d}removeTransform(u){const h=Bt();Ii(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Za(m.latestValues))continue;wy(m.latestValues)&&m.updateSnapshot();const y=Bt(),v=m.measurePageBox();Ii(y,v),qw(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Za(this.latestValues)&&qw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),yc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ii(this.target,this.layout.layoutBox),MA(this.target,this.targetDelta)):Ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),yc(this.relativeTargetOrigin,this.target,b.target),Ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||DA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Ii(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;jk(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Bt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fw(this.prevProjectionDelta.x,this.projectionDelta.x),Fw(this.prevProjectionDelta.y,this.projectionDelta.y)),gc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!Xw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vl(),this.projectionDelta=vl(),this.projectionDeltaWithTransform=vl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},v=vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Bt(),w=d?d.source:void 0,N=this.layout?this.layout.source:void 0,z=w!==N,V=this.getStack(),F=!V||V.members.length<=1,W=!!(z&&!F&&this.options.crossfade===!0&&!this.path.some(y4));this.animationProgress=0;let Q;this.mixTargetDelta=ee=>{const H=ee/1e3;eT(v.x,u.x,H),eT(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g4(this.relativeTarget,this.relativeTargetOrigin,b,H),Q&&t4(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=Bt()),Ii(Q,this.relativeTarget)),z&&(this.animationValues=y,WL(y,m,this.latestValues,H,W,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nl(0)),this.currentAnimation=GL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&tR(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Bt();const v=kn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const b=kn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+b}Ii(h,d),yl(h,y),gc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new n4),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Ug("z",u,m,this.animationValues);for(let y=0;y<Lg.length;y++)Ug(`rotate${Lg[y]}`,u,m,this.animationValues),Ug(`skew${Lg[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ed(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ed(h?.pointerEvents)||""),this.hasProjected&&!Za(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=i4(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:b,y:w}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in Uc){if(y[N]===void 0)continue;const{correct:z,applyTo:V,isCSSVariable:F}=Uc[N],W=v==="none"?y[N]:z(y[N],m);if(V){const Q=V.length;for(let ee=0;ee<Q;ee++)u[V[ee]]=W}else F?this.options.visualElement.renderState.vars[N]=W:u[N]=W}this.options.layoutId&&(u.pointerEvents=m===this?ed(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Qw),this.root.sharedNodes.clear()}}}function a4(t){t.updateLayout()}function o4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Oi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=kn(v);v.min=n[y].min,v.max=v.min+b}):tR(a,e.layoutBox,n)&&Oi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=kn(n[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const u=vl();gc(u,n,e.layoutBox);const h=vl();l?gc(h,t.applyTransform(s,!0),e.measuredBox):gc(h,n,e.layoutBox);const d=!QA(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const w=Bt();yc(w,e.layoutBox,v.layoutBox);const N=Bt();yc(N,n,b.layoutBox),ZA(w,N)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=w,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function l4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function u4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function c4(t){t.clearSnapshot()}function Qw(t){t.clearMeasurements()}function Zw(t){t.isLayoutDirty=!1}function h4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f4(t){t.resolveTargetDelta()}function d4(t){t.calcProjection()}function p4(t){t.resetSkewAndRotation()}function m4(t){t.removeLeadSnapshot()}function eT(t,e,n){t.translate=Dt(e.translate,0,n),t.scale=Dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tT(t,e,n,s){t.min=Dt(e.min,n.min,s),t.max=Dt(e.max,n.max,s)}function g4(t,e,n,s){tT(t.x,e.x,n.x,s),tT(t.y,e.y,n.y,s)}function y4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const v4={duration:.45,ease:[.4,0,.1,1]},nT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iT=nT("applewebkit/")&&!nT("chrome/")?Math.round:Li;function sT(t){t.min=iT(t.min),t.max=iT(t.max)}function _4(t){sT(t.x),sT(t.y)}function tR(t,e,n){return t==="position"||t==="preserve-aspect"&&!CL(Ww(e),Ww(n),.2)}function b4(t){return t!==t.root&&t.scroll?.wasRoot}const E4=eR({attachResizeListener:(t,e)=>jc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jg={current:void 0},nR=eR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jg.current){const t=new E4({});t.mount(window),t.setOptions({layoutScroll:!0}),jg.current=t}return jg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),S4={pan:{Feature:zL},drag:{Feature:VL,ProjectionNode:nR,MeasureLayout:KA}};function rT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&At.postRender(()=>l(e,rh(e)))}class w4 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=HP(e,(n,s)=>(rT(this.node,s,"Start"),a=>rT(this.node,a,"End"))))}unmount(){}}class T4 extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nh(jc(this.node.current,"focus",()=>this.onFocus()),jc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&At.postRender(()=>l(e,rh(e)))}class C4 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=$P(e,(n,s)=>(aT(this.node,s,"Start"),(a,{success:l})=>aT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Iy=new WeakMap,Vg=new WeakMap,A4=t=>{const e=Iy.get(t.target);e&&e(t)},R4=t=>{t.forEach(A4)};function x4({root:t,...e}){const n=t||document;Vg.has(n)||Vg.set(n,{});const s=Vg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(R4,{root:t,...e})),s[a]}function N4(t,e,n){const s=x4(e);return Iy.set(t,n),s.observe(t),()=>{Iy.delete(t),s.unobserve(t)}}const I4={some:0,all:1};class D4 extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:I4[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=m?y:v;b&&b(d)};return N4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(M4(e,n))&&this.startObserver()}unmount(){}}function M4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const O4={inView:{Feature:D4},tap:{Feature:C4},focus:{Feature:T4},hover:{Feature:w4}},P4={layout:{ProjectionNode:nR,MeasureLayout:KA}},k4={..._L,...O4,...S4,...P4},yd=kk(k4,Kk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),oT=t=>{const e=U4(t);return e.charAt(0).toUpperCase()+e.slice(1)},iR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),j4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},d)=>O.createElement("svg",{ref:d,...V4,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:iR("lucide",a),...!l&&!j4(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>O.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=(t,e)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(z4,{ref:l,iconNode:e,className:iR(`lucide-${L4(oT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=oT(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],F4=pr("calculator",B4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],G4=pr("log-in",H4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Y4=pr("log-out",q4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M5 12h14",key:"1ays0h"}]],K4=pr("minus",$4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],X4=pr("pizza",W4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Z4=pr("refresh-cw",Q4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dy=pr("trash-2",J4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lT=pr("user-plus",e6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],n6=pr("users",t6),i6=()=>{};var uT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw Fl(e)},Fl=function(t){return new Error("Firebase Database ("+sR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},s6=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let b=(h&15)<<2|m>>6,w=m&63;d||(w=64,u||(b=64)),s.push(n[y],n[v],n[b],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new r6;const b=l<<2|h>>4;if(s.push(b),m!==64){const w=h<<4&240|m>>2;if(s.push(w),v!==64){const N=m<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=rR(t);return Zv.encodeByteArray(e,!0)},vd=function(t){return aR(t).replace(/\./g,"")},_d=function(t){try{return Zv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){return oR(void 0,t)}function oR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!o6(n)||(t[n]=oR(t[n],e[n]));return t}function o6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=()=>l6().__FIREBASE_DEFAULTS__,c6=()=>{if(typeof process>"u"||typeof uT>"u")return;const t=uT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_d(t[1]);return e&&JSON.parse(e)},Jv=()=>{try{return i6()||u6()||c6()||h6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lR=t=>Jv()?.emulatorHosts?.[t],e_=t=>{const e=lR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uR=()=>Jv()?.config,cR=t=>Jv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qd(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vd(JSON.stringify(n)),vd(JSON.stringify(u)),""].join(".")}const vc={};function f6(){const t={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?t.emulator.push(e):t.prod.push(e);return t}function d6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cT=!1;function Zd(t,e){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||vc[t]===e||vc[t]||cT)return;vc[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=f6().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{cT=!0,u()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=d6(s),w=n("text"),N=document.getElementById(w)||document.createElement("span"),z=n("learnmore"),V=document.getElementById(z)||document.createElement("a"),F=n("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;h(Q),y(V,z);const ee=m();d(W,F),Q.append(W,N,V,ee),document.body.appendChild(Q)}l?(N.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function p6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m6(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g6(){return sR.NODE_ADMIN===!0}function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function y6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="FirebaseError";class zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=v6,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?_6(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new zi(a,h,s)}}function _6(t,e){return t.replace(b6,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const b6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){return JSON.parse(t)}function cn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=function(t){let e={},n={},s={},a="";try{const l=t.split(".");e=Vc(_d(l[0])||""),n=Vc(_d(l[1])||""),a=l[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:a}},E6=function(t){const e=mR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},S6=function(t){const e=mR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Dl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function My(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bd(t,e,n){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=e.call(n,t[a],a,t));return s}function cr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(hT(l)&&hT(u)){if(!cr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function hT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)s[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const b=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(b<<1|b>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,y;for(let v=0;v<80;v++){v<40?v<20?(m=h^l&(u^h),y=1518500249):(m=l^u^h,y=1859775393):v<60?(m=l&u|h&(l|u),y=2400959708):(m=l^u^h,y=3395469782);const b=(a<<5|a>>>27)+m+d+y+s[v]&4294967295;d=h,h=u,u=(l<<30|l>>>2)&4294967295,l=a,a=b}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<n;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[a]>>l&255,++s;return e}}function T6(t,e){const n=new C6(t,e);return n.subscribe.bind(n)}class C6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");A6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=zg),a.error===void 0&&(a.error=zg),a.complete===void 0&&(a.complete=zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zg(){}function Jd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);if(a>=55296&&a<=56319){const l=a-55296;s++,he(s<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(s)-56320;a=65536+(l<<10)+u}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},ep=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=1e3,N6=2,I6=14400*1e3,D6=.5;function fT(t,e=x6,n=N6){const s=e*Math.pow(n,t),a=Math.round(D6*s*(Math.random()-.5)*2);return Math.min(I6,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ah;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P6(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:O6(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O6(t){return t===Ja?void 0:t}function P6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const L6={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},U6=st.INFO,j6={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},V6=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=j6[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oh{constructor(e){this.name=e,this._logLevel=U6,this._logHandler=V6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const z6=(t,e)=>e.some(n=>t instanceof n);let dT,pT;function B6(){return dT||(dT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F6(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gR=new WeakMap,Oy=new WeakMap,yR=new WeakMap,Bg=new WeakMap,i_=new WeakMap;function H6(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ta(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&gR.set(n,t)}).catch(()=>{}),i_.set(e,t),e}function G6(t){if(Oy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Oy.set(t,e)}let Py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q6(t){Py=t(Py)}function Y6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Fg(this),e,...n);return yR.set(s,e.sort?e.sort():[e]),ta(s)}:F6().includes(t)?function(...e){return t.apply(Fg(this),e),ta(gR.get(this))}:function(...e){return ta(t.apply(Fg(this),e))}}function $6(t){return typeof t=="function"?Y6(t):(t instanceof IDBTransaction&&G6(t),z6(t,B6())?new Proxy(t,Py):t)}function ta(t){if(t instanceof IDBRequest)return H6(t);if(Bg.has(t))return Bg.get(t);const e=$6(t);return e!==t&&(Bg.set(t,e),i_.set(e,t)),e}const Fg=t=>i_.get(t);function vR(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=ta(u);return s&&u.addEventListener("upgradeneeded",d=>{s(ta(u.result),d.oldVersion,d.newVersion,ta(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const K6=["get","getKey","getAll","getAllKeys","count"],W6=["put","add","delete","clear"],Hg=new Map;function mT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=W6.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||K6.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Hg.set(e,l),l}q6(t=>({...t,get:(e,n,s)=>mT(e,n)||t.get(e,n,s),has:(e,n)=>!!mT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q6(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Q6(t){return t.getComponent()?.type==="VERSION"}const ky="@firebase/app",gT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new oh("@firebase/app"),Z6="@firebase/app-compat",J6="@firebase/analytics-compat",e3="@firebase/analytics",t3="@firebase/app-check-compat",n3="@firebase/app-check",i3="@firebase/auth",s3="@firebase/auth-compat",r3="@firebase/database",a3="@firebase/data-connect",o3="@firebase/database-compat",l3="@firebase/functions",u3="@firebase/functions-compat",c3="@firebase/installations",h3="@firebase/installations-compat",f3="@firebase/messaging",d3="@firebase/messaging-compat",p3="@firebase/performance",m3="@firebase/performance-compat",g3="@firebase/remote-config",y3="@firebase/remote-config-compat",v3="@firebase/storage",_3="@firebase/storage-compat",b3="@firebase/firestore",E3="@firebase/ai",S3="@firebase/firestore-compat",w3="firebase",T3="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="[DEFAULT]",C3={[ky]:"fire-core",[Z6]:"fire-core-compat",[e3]:"fire-analytics",[J6]:"fire-analytics-compat",[n3]:"fire-app-check",[t3]:"fire-app-check-compat",[i3]:"fire-auth",[s3]:"fire-auth-compat",[r3]:"fire-rtdb",[a3]:"fire-data-connect",[o3]:"fire-rtdb-compat",[l3]:"fire-fn",[u3]:"fire-fn-compat",[c3]:"fire-iid",[h3]:"fire-iid-compat",[f3]:"fire-fcm",[d3]:"fire-fcm-compat",[p3]:"fire-perf",[m3]:"fire-perf-compat",[g3]:"fire-rc",[y3]:"fire-rc-compat",[v3]:"fire-gcs",[_3]:"fire-gcs-compat",[b3]:"fire-fst",[S3]:"fire-fst-compat",[E3]:"fire-vertex","fire-js":"fire-js",[w3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,A3=new Map,Uy=new Map;function yT(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ji(t){const e=t.name;if(Uy.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Uy.set(e,t);for(const n of Ed.values())yT(n,t);for(const n of A3.values())yT(n,t);return!0}function mr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Co("app","Firebase",R3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=T3;function _R(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Ly,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw na.create("bad-app-name",{appName:String(a)});if(n||(n=uR()),!n)throw na.create("no-options");const l=Ed.get(a);if(l){if(cr(n,l.options)&&cr(s,l.config))return l;throw na.create("duplicate-app",{appName:a})}const u=new k6(a);for(const d of Uy.values())u.addComponent(d);const h=new x3(n,s,u);return Ed.set(a,h),h}function lh(t=Ly){const e=Ed.get(t);if(!e&&t===Ly&&uR())return _R();if(!e)throw na.create("no-app",{appName:t});return e}function An(t,e,n){let s=C3[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(u.join(" "));return}ji(new yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="firebase-heartbeat-database",I3=1,zc="firebase-heartbeat-store";let Gg=null;function bR(){return Gg||(Gg=vR(N3,I3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function D3(t){try{const n=(await bR()).transaction(zc),s=await n.objectStore(zc).get(ER(t));return await n.done,s}catch(e){if(e instanceof zi)hr.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function vT(t,e){try{const s=(await bR()).transaction(zc,"readwrite");await s.objectStore(zc).put(e,ER(t)),await s.done}catch(n){if(n instanceof zi)hr.warn(n.message);else{const s=na.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function ER(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=1024,O3=30;class P3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_T();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>O3){const a=U3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_T(),{heartbeatsToSend:n,unsentEntries:s}=k3(this._heartbeatsCache.heartbeats),a=vd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return hr.warn(e),""}}}function _T(){return new Date().toISOString().substring(0,10)}function k3(t,e=M3){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),bT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),bT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class L3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await D3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bT(t){return vd(JSON.stringify({version:2,heartbeats:t})).length}function U3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){ji(new yi("platform-logger",e=>new X6(e),"PRIVATE")),ji(new yi("heartbeat",e=>new P3(e),"PRIVATE")),An(ky,gT,t),An(ky,gT,"esm2020"),An("fire-js","")}j3("");function SR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V3=SR,wR=new Co("auth","Firebase",SR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new oh("@firebase/auth");function z3(t,...e){Sd.logLevel<=st.WARN&&Sd.warn(`Auth (${pa}): ${t}`,...e)}function nd(t,...e){Sd.logLevel<=st.ERROR&&Sd.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,...e){throw r_(t,...e)}function ls(t,...e){return r_(t,...e)}function s_(t,e,n){const s={...V3(),[e]:n};return new Co("auth","Firebase",s).create(e,{appName:t.name})}function ar(t){return s_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B3(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Vi(t,"argument-error"),s_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function r_(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return wR.create(t,...e)}function De(t,e,...n){if(!t)throw r_(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nd(e),new Error(e)}function fr(t,e){t||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(){return typeof self<"u"&&self.location?.href||""}function F3(){return ET()==="http:"||ET()==="https:"}function ET(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F3()||hR()||"connection"in navigator)?navigator.onLine:!0}function G3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=n_()||fR()}get(){return H3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$3=new uh(3e4,6e4);function ma(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ga(t,e,n,s,a={}){return CR(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=Hl({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return p6()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&da(t.emulatorConfig.host)&&(m.credentials="include"),TR.fetch()(await AR(t,t.config.apiHost,n,h),m)})}async function CR(t,e,n){t._canInitEmulator=!1;const s={...q3,...e};try{const a=new W3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ff(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Ff(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Ff(t,"user-disabled",u);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw s_(t,y,m);Vi(t,y)}}catch(a){if(a instanceof zi)throw a;Vi(t,"network-request-failed",{message:String(a)})}}async function ch(t,e,n,s,a={}){const l=await ga(t,e,n,s,a);return"mfaPendingCredential"in l&&Vi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function AR(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?a_(t.config,a):`${t.config.apiScheme}://${a}`;return Y3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function K3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ls(this.auth,"network-request-failed")),$3.get())})}}function Ff(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ls(t,e,s);return a.customData._tokenResponse=n,a}function ST(t){return t!==void 0&&t.enterprise!==void 0}class X3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q3(t,e){return ga(t,"GET","/v2/recaptchaConfig",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e){return ga(t,"POST","/v1/accounts:delete",e)}async function wd(t,e){return ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J3(t,e=!1){const n=hn(t),s=await n.getIdToken(e),a=o_(s);De(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:_c(qg(a.auth_time)),issuedAtTime:_c(qg(a.iat)),expirationTime:_c(qg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function qg(t){return Number(t)*1e3}function o_(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{const a=_d(n);return a?JSON.parse(a):(nd("Failed to decode base64 JWT payload"),null)}catch(a){return nd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function wT(t){const e=o_(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zi&&eU(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function eU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){const e=t.auth,n=await t.getIdToken(),s=await Bc(t,wd(e,{idToken:n}));De(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?RR(a.providerUserInfo):[],u=iU(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function nU(t){const e=hn(t);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iU(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function RR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e){const n=await CR(t,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await AR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&da(t.emulatorConfig.host)&&(d.credentials="include"),TR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rU(t,e){return ga(t,"POST","/v2/accounts:revokeToken",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=wT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await sU(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Sl;return s&&(De(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(De(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(De(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new tU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J3(this,e)}reload(){return nU(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ss({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await Bc(this,Z3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:N,stsTokenManager:z}=n;De(v&&z,e,"internal-error");const V=Sl.fromJSON(this.name,z);De(typeof v=="string",e,"internal-error"),Yr(s,e.name),Yr(a,e.name),De(typeof b=="boolean",e,"internal-error"),De(typeof w=="boolean",e,"internal-error"),Yr(l,e.name),Yr(u,e.name),Yr(h,e.name),Yr(d,e.name),Yr(m,e.name),Yr(y,e.name);const F=new ss({uid:v,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:V,createdAt:m,lastLoginAt:y});return N&&Array.isArray(N)&&(F.providerData=N.map(W=>({...W}))),d&&(F._redirectEventId=d),F}static async _fromIdTokenResponse(e,n,s=!1){const a=new Sl;a.updateFromServerResponse(n);const l=new ss({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Td(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];De(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?RR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Sl;h.updateFromIdToken(s);const d=new ss({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;function sr(t){fr(t instanceof Function,"Expected a class definition");let e=TT.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xR.type="NONE";const CT=xR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=id(this.userKey,a.apiKey,l),this.fullPersistenceKey=id("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wd(this.auth,{idToken:e}).catch(()=>{});return n?ss._fromGetAccountInfoResponse(this.auth,n,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new wl(sr(CT),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||sr(CT);const u=id(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const b=await wd(e,{idToken:y}).catch(()=>{});if(!b)break;v=await ss._fromGetAccountInfoResponse(e,b,y)}else v=ss._fromJSON(e,y);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new wl(l,e,s):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new wl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PR(e))return"Blackberry";if(kR(e))return"Webos";if(IR(e))return"Safari";if((e.includes("chrome/")||DR(e))&&!e.includes("edge/"))return"Chrome";if(OR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function NR(t=Un()){return/firefox\//i.test(t)}function IR(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DR(t=Un()){return/crios\//i.test(t)}function MR(t=Un()){return/iemobile/i.test(t)}function OR(t=Un()){return/android/i.test(t)}function PR(t=Un()){return/blackberry/i.test(t)}function kR(t=Un()){return/webos/i.test(t)}function l_(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aU(t=Un()){return l_(t)&&!!window.navigator?.standalone}function oU(){return m6()&&document.documentMode===10}function LR(t=Un()){return l_(t)||OR(t)||kR(t)||PR(t)||/windows phone/i.test(t)||MR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e=[]){let n;switch(t){case"Browser":n=AT(Un());break;case"Worker":n=`${AT(Un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e={}){return ga(t,"GET","/v2/passwordPolicy",ma(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=6;class hU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new lU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wd(this,{idToken:e}),s=await ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ar(this));const n=e?hn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uU(this),n=new hU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rU(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&z3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ya(t){return hn(t)}class RT{constructor(e){this.auth=e,this.observer=null,this.addObserver=T6(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dU(t){tp=t}function jR(t){return tp.loadJS(t)}function pU(){return tp.recaptchaEnterpriseScript}function mU(){return tp.gapiScript}function gU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yU{constructor(){this.enterprise=new vU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _U="recaptcha-enterprise",VR="NO_RECAPTCHA";class bU{constructor(e){this.type=_U,this.auth=ya(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{Q3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new X3(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;ST(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(VR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&ST(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=pU();d.length!==0&&(d+=h),jR(d).then(()=>{a(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function xT(t,e,n,s=!1,a=!1){const l=new bU(t);let u;if(a)u=VR;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function zy(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await xT(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await xT(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t,e){const n=mr(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(cr(l,e??{}))return a;Vi(a,"already-initialized")}return n.initialize({options:e})}function SU(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function wU(t,e,n){const s=ya(t);De(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=zR(e),{host:u,port:h}=TU(e),d=h===null?"":`:${h}`,m={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){De(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),De(cr(m,s.config.emulator)&&cr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,da(u)?(Qd(`${l}//${u}${d}`),Zd("Auth",!0)):CU()}function zR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TU(t){const e=zR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:NT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:NT(u)}}}function NT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function AU(t,e){return ga(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e){return ch(t,"POST","/v1/accounts:signInWithPassword",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e){return ch(t,"POST","/v1/accounts:signInWithEmailLink",ma(t,e))}async function NU(t,e){return ch(t,"POST","/v1/accounts:signInWithEmailLink",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends u_{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Fc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Fc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,n,"signInWithPassword",RU);case"emailLink":return xU(e,{email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,s,"signUpPassword",AU);case"emailLink":return NU(e,{idToken:n,email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t,e){return ch(t,"POST","/v1/accounts:signInWithIdp",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="http://localhost";class mo extends u_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new mo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:IU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MU(t){const e=cc(hc(t)).link,n=e?cc(hc(e)).deep_link_id:null,s=cc(hc(t)).deep_link_id;return(s?cc(hc(s)).link:null)||s||n||e||t}class c_{constructor(e){const n=cc(hc(e)),s=n.apiKey??null,a=n.oobCode??null,l=DU(n.mode??null);De(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MU(e);try{return new c_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(e,n){return Fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=c_.parseLink(n);return De(s,"argument-error"),Fc._fromEmailAndCode(e,s.code,s.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends h_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends hh{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return tr.credential(n,s)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends hh{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends hh{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(t,e){return ch(t,"POST","/v1/accounts:signUp",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await ss._fromIdTokenResponse(e,s,a),u=IT(s);return new go({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=IT(s);return new go({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function IT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends zi{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Cd(e,n,s,a)}}function BR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(t,l,e,s):l})}async function PU(t,e,n=!1){const s=await Bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return go._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e,n=!1){const{auth:s}=t;if(Pn(s.app))return Promise.reject(ar(s));const a="reauthenticate";try{const l=await Bc(t,BR(s,a,e,t),n);De(l.idToken,s,"internal-error");const u=o_(l.idToken);De(u,s,"internal-error");const{sub:h}=u;return De(t.uid===h,s,"user-mismatch"),go._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Vi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e,n=!1){if(Pn(t.app))return Promise.reject(ar(t));const s="signIn",a=await BR(t,s,e),l=await go._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function LU(t,e){return FR(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UU(t,e,n){if(Pn(t.app))return Promise.reject(ar(t));const s=ya(t),u=await zy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&HR(t),d}),h=await go._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function jU(t,e,n){return Pn(t.app)?Promise.reject(ar(t)):LU(hn(t),Gl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HR(t),s})}function VU(t,e,n,s){return hn(t).onIdTokenChanged(e,n,s)}function zU(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function BU(t,e,n,s){return hn(t).onAuthStateChanged(e,n,s)}function FU(t){return hn(t).signOut()}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1e3,GU=10;class qR extends GR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);oU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,GU):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qR.type="LOCAL";const qU=qR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends GR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YR.type="SESSION";const $R=YR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new np(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,l)),d=await YU(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const m=f_("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(b.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function KU(t){Ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function WU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XU(){return navigator?.serviceWorker?.controller||null}function QU(){return KR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebaseLocalStorageDb",ZU=1,Rd="firebaseLocalStorage",XR="fbase_key";class fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ip(t,e){return t.transaction([Rd],e?"readwrite":"readonly").objectStore(Rd)}function JU(){const t=indexedDB.deleteDatabase(WR);return new fh(t).toPromise()}function By(){const t=indexedDB.open(WR,ZU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Rd,{keyPath:XR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Rd)?e(s):(s.close(),await JU(),e(await By()))})})}async function DT(t,e,n){const s=ip(t,!0).put({[XR]:e,value:n});return new fh(s).toPromise()}async function ej(t,e){const n=ip(t,!1).get(e),s=await new fh(n).toPromise();return s===void 0?null:s.value}function MT(t,e){const n=ip(t,!0).delete(e);return new fh(n).toPromise()}const tj=800,nj=3;class QR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await By(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>nj)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(QU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WU(),!this.activeServiceWorker)return;this.sender=new $U(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await By();return await DT(e,Ad,"1"),await MT(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>DT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ej(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ip(a,!1).getAll();return new fh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QR.type="LOCAL";const ij=QR;new uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e){return e?sr(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends u_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sj(t){return FR(t.auth,new d_(t),t.bypassAuthState)}function rj(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),kU(n,new d_(t),t.bypassAuthState)}async function aj(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),PU(n,new d_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sj;case"linkViaPopup":case"linkViaRedirect":return aj;case"reauthViaPopup":case"reauthViaRedirect":return rj;default:Vi(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new uh(2e3,1e4);async function lj(t,e,n){if(Pn(t.app))return Promise.reject(ls(t,"operation-not-supported-in-this-environment"));const s=ya(t);B3(t,e,h_);const a=ZR(s,n);return new ro(s,"signInViaPopup",e,a).executeNotNull()}class ro extends JR{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=f_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oj.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="pendingRedirect",sd=new Map;class cj extends JR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sd.get(this.auth._key());if(!e){try{const s=await hj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sd.set(this.auth._key(),e)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hj(t,e){const n=pj(e),s=dj(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function fj(t,e){sd.set(t._key(),e)}function dj(t){return sr(t._redirectPersistence)}function pj(t){return id(uj,t.config.apiKey,t.name)}async function mj(t,e,n=!1){if(Pn(t.app))return Promise.reject(ar(t));const s=ya(t),a=ZR(s,e),u=await new cj(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=600*1e3;class yj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ex(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ls(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gj&&this.cachedEventUids.clear(),this.cachedEventUids.has(OT(e))}saveEventToCache(e){this.cachedEventUids.add(OT(e)),this.lastProcessedEventTime=Date.now()}}function OT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ex({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ex(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e={}){return ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ej=/^https?/;async function Sj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _j(t);for(const n of e)try{if(wj(n))return}catch{}Vi(t,"unauthorized-domain")}function wj(t){const e=jy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!Ej.test(n))return!1;if(bj.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new uh(3e4,6e4);function PT(){const t=Ns().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cj(t){return new Promise((e,n)=>{function s(){PT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PT(),n(ls(t,"network-request-failed"))},timeout:Tj.get()})}if(Ns().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ns().gapi?.load)s();else{const a=gU("iframefcb");return Ns()[a]=()=>{gapi.load?s():n(ls(t,"network-request-failed"))},jR(`${mU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rd=null,e})}let rd=null;function Aj(t){return rd=rd||Cj(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new uh(5e3,15e3),xj="__/auth/iframe",Nj="emulator/auth/iframe",Ij={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mj(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a_(e,Nj):`https://${t.config.authDomain}/${xj}`,s={apiKey:e.apiKey,appName:t.name,v:pa},a=Dj.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Hl(s).slice(1)}`}async function Oj(t){const e=await Aj(t),n=Ns().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:Mj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ij,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ls(t,"network-request-failed"),h=Ns().setTimeout(()=>{l(u)},Rj.get());function d(){Ns().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kj=500,Lj=600,Uj="_blank",jj="http://localhost";class kT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vj(t,e,n,s=kj,a=Lj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...Pj,width:s.toString(),height:a.toString(),top:l,left:u},m=Un().toLowerCase();n&&(h=DR(m)?Uj:n),NR(m)&&(e=e||jj,d.scrollbars="yes");const y=Object.entries(d).reduce((b,[w,N])=>`${b}${w}=${N},`,"");if(aU(m)&&h!=="_self")return zj(e||"",h),new kT(null);const v=window.open(e||"",h,y);De(v,t,"popup-blocked");try{v.focus()}catch{}return new kT(v)}function zj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="__/auth/handler",Fj="emulator/auth/handler",Hj=encodeURIComponent("fac");async function LT(t,e,n,s,a,l){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:pa,eventId:a};if(e instanceof h_){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",My(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof hh){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),m=d?`#${Hj}=${encodeURIComponent(d)}`:"";return`${Gj(t)}?${Hl(h).slice(1)}${m}`}function Gj({config:t}){return t.emulator?a_(t,Fj):`https://${t.authDomain}/${Bj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class qj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$R,this._completeRedirectFn=mj,this._overrideRedirectResult=fj}async _openPopup(e,n,s,a){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await LT(e,n,s,jy(),a);return Vj(e,l,f_())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await LT(e,n,s,jy(),a);return KU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(fr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Oj(e),s=new yj(e);return n.register("authEvent",a=>(De(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},a=>{const l=a?.[0]?.[Yg];l!==void 0&&n(!!l),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LR()||IR()||l_()}}const Yj=qj;var UT="@firebase/auth",jT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wj(t){ji(new yi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UR(t)},m=new fU(s,a,l,d);return SU(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ji(new yi("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(s=>new $j(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(UT,jT,Kj(t)),An(UT,jT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=300,Qj=cR("authIdTokenMaxAge")||Xj;let VT=null;const Zj=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qj)return;const a=n?.token;VT!==a&&(VT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Jj(t=lh()){const e=mr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EU(t,{popupRedirectResolver:Yj,persistence:[ij,qU,$R]}),s=cR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=Zj(l.toString());zU(n,u,()=>u(n.currentUser)),VU(n,h=>u(h))}}const a=lR("auth");return a&&wU(n,`http://${a}`),n}function e9(){return document.getElementsByTagName("head")?.[0]??document}dU({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ls("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",e9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wj("Browser");var t9="firebase",n9="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(t9,n9,"app");const tx="@firebase/installations",p_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=1e4,ix=`w:${p_}`,sx="FIS_v2",i9="https://firebaseinstallations.googleapis.com/v1",s9=3600*1e3,r9="installations",a9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yo=new Co(r9,a9,o9);function rx(t){return t instanceof zi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax({projectId:t}){return`${i9}/projects/${t}/installations`}function ox(t){return{token:t.token,requestStatus:2,expiresIn:u9(t.expiresIn),creationTime:Date.now()}}async function lx(t,e){const s=(await e.json()).error;return yo.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ux({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function l9(t,{refreshToken:e}){const n=ux(t);return n.append("Authorization",c9(e)),n}async function cx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function u9(t){return Number(t.replace("s","000"))}function c9(t){return`${sx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=ax(t),a=ux(t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={fid:n,authVersion:sx,appId:t.appId,sdkVersion:ix},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await cx(()=>fetch(s,h));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:ox(m.authToken)}}else throw await lx("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=/^[cdef][\w-]{21}$/,Fy="";function p9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=m9(t);return d9.test(n)?n:Fy}catch{return Fy}}function m9(t){return f9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new Map;function dx(t,e){const n=sp(t);px(n,e),g9(n,e)}function px(t,e){const n=fx.get(t);if(n)for(const s of n)s(e)}function g9(t,e){const n=y9();n&&n.postMessage({key:t,fid:e}),v9()}let ao=null;function y9(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=t=>{px(t.data.key,t.data.fid)}),ao}function v9(){fx.size===0&&ao&&(ao.close(),ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="firebase-installations-database",b9=1,vo="firebase-installations-store";let $g=null;function m_(){return $g||($g=vR(_9,b9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vo)}}})),$g}async function xd(t,e){const n=sp(t),a=(await m_()).transaction(vo,"readwrite"),l=a.objectStore(vo),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&dx(t,e.fid),e}async function mx(t){const e=sp(t),s=(await m_()).transaction(vo,"readwrite");await s.objectStore(vo).delete(e),await s.done}async function rp(t,e){const n=sp(t),a=(await m_()).transaction(vo,"readwrite"),l=a.objectStore(vo),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&dx(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_(t){let e;const n=await rp(t.appConfig,s=>{const a=E9(s),l=S9(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Fy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function E9(t){const e=t||{fid:p9(),registrationStatus:0};return gx(e)}function S9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(yo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=w9(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:T9(t)}:{installationEntry:e}}async function w9(t,e){try{const n=await h9(t,e);return xd(t.appConfig,n)}catch(n){throw rx(n)&&n.customData.serverCode===409?await mx(t.appConfig):await xd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function T9(t){let e=await zT(t.appConfig);for(;e.registrationStatus===1;)await hx(100),e=await zT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await g_(t);return s||n}return e}function zT(t){return rp(t,e=>{if(!e)throw yo.create("installation-not-found");return gx(e)})}function gx(t){return C9(t)?{fid:t.fid,registrationStatus:0}:t}function C9(t){return t.registrationStatus===1&&t.registrationTime+nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9({appConfig:t,heartbeatServiceProvider:e},n){const s=R9(t,n),a=l9(t,n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={installation:{sdkVersion:ix,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await cx(()=>fetch(s,h));if(d.ok){const m=await d.json();return ox(m)}else throw await lx("Generate Auth Token",d)}function R9(t,{fid:e}){return`${ax(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(t,e=!1){let n;const s=await rp(t.appConfig,l=>{if(!yx(l))throw yo.create("not-registered");const u=l.authToken;if(!e&&I9(u))return l;if(u.requestStatus===1)return n=x9(t,e),l;{if(!navigator.onLine)throw yo.create("app-offline");const h=M9(l);return n=N9(t,h),h}});return n?await n:s.authToken}async function x9(t,e){let n=await BT(t.appConfig);for(;n.authToken.requestStatus===1;)await hx(100),n=await BT(t.appConfig);const s=n.authToken;return s.requestStatus===0?y_(t,e):s}function BT(t){return rp(t,e=>{if(!yx(e))throw yo.create("not-registered");const n=e.authToken;return O9(n)?{...e,authToken:{requestStatus:0}}:e})}async function N9(t,e){try{const n=await A9(t,e),s={...e,authToken:n};return await xd(t.appConfig,s),n}catch(n){if(rx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await mx(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await xd(t.appConfig,s)}throw n}}function yx(t){return t!==void 0&&t.registrationStatus===2}function I9(t){return t.requestStatus===2&&!D9(t)}function D9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+s9}function M9(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function O9(t){return t.requestStatus===1&&t.requestTime+nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t){const e=t,{installationEntry:n,registrationPromise:s}=await g_(e);return s?s.catch(console.error):y_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,e=!1){const n=t;return await L9(n),(await y_(n,e)).token}async function L9(t){const{registrationPromise:e}=await g_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){if(!t||!t.options)throw Kg("App Configuration");if(!t.name)throw Kg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Kg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Kg(t){return yo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="installations",j9="installations-internal",V9=t=>{const e=t.getProvider("app").getImmediate(),n=U9(e),s=mr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},z9=t=>{const e=t.getProvider("app").getImmediate(),n=mr(e,vx).getImmediate();return{getId:()=>P9(n),getToken:a=>k9(n,a)}};function B9(){ji(new yi(vx,V9,"PUBLIC")),ji(new yi(j9,z9,"PRIVATE"))}B9();An(tx,p_);An(tx,p_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="analytics",F9="firebase_id",H9="origin",G9=60*1e3,q9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",v_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gi=new Co("analytics","Analytics",Y9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){if(!t.startsWith(v_)){const e=gi.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function _x(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function K9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function W9(t,e){const n=K9("firebase-js-sdk-policy",{createScriptURL:$9}),s=document.createElement("script"),a=`${v_}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function X9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Q9(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const d=(await _x(n)).find(m=>m.measurementId===a);d&&await e[d.appId]}}catch(h){Xn.error(h)}t("config",a,l)}async function Z9(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await _x(n);for(const d of u){const m=h.find(v=>v.measurementId===d),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Xn.error(l)}}function J9(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await Z9(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await Q9(t,e,n,s,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,m]=u;t("get",h,d,m)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){Xn.error(h)}}return a}function e5(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=J9(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function t5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(v_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=30,i5=1e3;class s5{constructor(e={},n=i5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const bx=new s5;function r5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function a5(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:r5(n)},a=q9.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw gi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function o5(t,e=bx,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw gi.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw gi.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new c5;return setTimeout(async()=>{h.abort()},G9),Ex({appId:s,apiKey:a,measurementId:l},u,h,e)}async function Ex(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=bx){const{appId:l,measurementId:u}=t;try{await l5(s,e)}catch(h){if(u)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await a5(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!u5(d)){if(a.deleteThrottleMetadata(l),u)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const m=Number(d?.customData?.httpStatus)===503?fT(n,a.intervalMillis,n5):fT(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return a.setThrottleMetadata(l,y),Xn.debug(`Calling attemptFetch again in ${m} millis`),Ex(t,y,s,a)}}function l5(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function u5(t){if(!(t instanceof zi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class c5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function h5(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(){if(dR())try{await pR()}catch(t){return Xn.warn(gi.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Xn.warn(gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function d5(t,e,n,s,a,l,u){const h=o5(t);h.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Xn.error(b)),e.push(h);const d=f5().then(b=>{if(b)return s.getId()}),[m,y]=await Promise.all([h,d]);t5(l)||W9(l,m.measurementId),a("js",new Date);const v=u?.config??{};return v[H9]="firebase",v.update=!0,y!=null&&(v[F9]=y),a("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.app=e}_delete(){return delete bc[this.app.options.appId],Promise.resolve()}}let bc={},FT=[];const HT={};let Wg="dataLayer",m5="gtag",GT,Sx,qT=!1;function g5(){const t=[];if(hR()&&t.push("This is a browser extension environment."),y6()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=gi.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function y5(t,e,n){g5();const s=t.options.appId;if(!s)throw gi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gi.create("no-api-key");if(bc[s]!=null)throw gi.create("already-exists",{id:s});if(!qT){X9(Wg);const{wrappedGtag:l,gtagCore:u}=e5(bc,FT,HT,Wg,m5);Sx=l,GT=u,qT=!0}return bc[s]=d5(t,FT,HT,e,GT,Wg,n),new p5(t)}function v5(t=lh()){t=hn(t);const e=mr(t,Nd);return e.isInitialized()?e.getImmediate():_5(t)}function _5(t,e={}){const n=mr(t,Nd);if(n.isInitialized()){const a=n.getImmediate();if(cr(e,n.getOptions()))return a;throw gi.create("already-initialized")}return n.initialize({options:e})}function b5(t,e,n,s){t=hn(t),h5(Sx,bc[t.app.options.appId],e,n,s).catch(a=>Xn.error(a))}const YT="@firebase/analytics",$T="0.10.18";function E5(){ji(new yi(Nd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return y5(s,a,n)},"PUBLIC")),ji(new yi("analytics-internal",t,"PRIVATE")),An(YT,$T),An(YT,$T,"esm2020");function t(e){try{const n=e.getProvider(Nd).getImmediate();return{logEvent:(s,a,l)=>b5(n,s,a,l)}}catch(n){throw gi.create("interop-component-reg-failed",{reason:n})}}}E5();var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var __;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function I(){}I.prototype=C.prototype,x.F=C.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(D,P,G){for(var M=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)M[Ie-2]=arguments[Ie];return C.prototype[P].apply(D,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,C,I){I||(I=0);const D=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)D[P]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(P=0;P<16;++P)D[P]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=x.g[0],I=x.g[1],P=x.g[2];let G=x.g[3],M;M=C+(G^I&(P^G))+D[0]+3614090360&4294967295,C=I+(M<<7&4294967295|M>>>25),M=G+(P^C&(I^P))+D[1]+3905402710&4294967295,G=C+(M<<12&4294967295|M>>>20),M=P+(I^G&(C^I))+D[2]+606105819&4294967295,P=G+(M<<17&4294967295|M>>>15),M=I+(C^P&(G^C))+D[3]+3250441966&4294967295,I=P+(M<<22&4294967295|M>>>10),M=C+(G^I&(P^G))+D[4]+4118548399&4294967295,C=I+(M<<7&4294967295|M>>>25),M=G+(P^C&(I^P))+D[5]+1200080426&4294967295,G=C+(M<<12&4294967295|M>>>20),M=P+(I^G&(C^I))+D[6]+2821735955&4294967295,P=G+(M<<17&4294967295|M>>>15),M=I+(C^P&(G^C))+D[7]+4249261313&4294967295,I=P+(M<<22&4294967295|M>>>10),M=C+(G^I&(P^G))+D[8]+1770035416&4294967295,C=I+(M<<7&4294967295|M>>>25),M=G+(P^C&(I^P))+D[9]+2336552879&4294967295,G=C+(M<<12&4294967295|M>>>20),M=P+(I^G&(C^I))+D[10]+4294925233&4294967295,P=G+(M<<17&4294967295|M>>>15),M=I+(C^P&(G^C))+D[11]+2304563134&4294967295,I=P+(M<<22&4294967295|M>>>10),M=C+(G^I&(P^G))+D[12]+1804603682&4294967295,C=I+(M<<7&4294967295|M>>>25),M=G+(P^C&(I^P))+D[13]+4254626195&4294967295,G=C+(M<<12&4294967295|M>>>20),M=P+(I^G&(C^I))+D[14]+2792965006&4294967295,P=G+(M<<17&4294967295|M>>>15),M=I+(C^P&(G^C))+D[15]+1236535329&4294967295,I=P+(M<<22&4294967295|M>>>10),M=C+(P^G&(I^P))+D[1]+4129170786&4294967295,C=I+(M<<5&4294967295|M>>>27),M=G+(I^P&(C^I))+D[6]+3225465664&4294967295,G=C+(M<<9&4294967295|M>>>23),M=P+(C^I&(G^C))+D[11]+643717713&4294967295,P=G+(M<<14&4294967295|M>>>18),M=I+(G^C&(P^G))+D[0]+3921069994&4294967295,I=P+(M<<20&4294967295|M>>>12),M=C+(P^G&(I^P))+D[5]+3593408605&4294967295,C=I+(M<<5&4294967295|M>>>27),M=G+(I^P&(C^I))+D[10]+38016083&4294967295,G=C+(M<<9&4294967295|M>>>23),M=P+(C^I&(G^C))+D[15]+3634488961&4294967295,P=G+(M<<14&4294967295|M>>>18),M=I+(G^C&(P^G))+D[4]+3889429448&4294967295,I=P+(M<<20&4294967295|M>>>12),M=C+(P^G&(I^P))+D[9]+568446438&4294967295,C=I+(M<<5&4294967295|M>>>27),M=G+(I^P&(C^I))+D[14]+3275163606&4294967295,G=C+(M<<9&4294967295|M>>>23),M=P+(C^I&(G^C))+D[3]+4107603335&4294967295,P=G+(M<<14&4294967295|M>>>18),M=I+(G^C&(P^G))+D[8]+1163531501&4294967295,I=P+(M<<20&4294967295|M>>>12),M=C+(P^G&(I^P))+D[13]+2850285829&4294967295,C=I+(M<<5&4294967295|M>>>27),M=G+(I^P&(C^I))+D[2]+4243563512&4294967295,G=C+(M<<9&4294967295|M>>>23),M=P+(C^I&(G^C))+D[7]+1735328473&4294967295,P=G+(M<<14&4294967295|M>>>18),M=I+(G^C&(P^G))+D[12]+2368359562&4294967295,I=P+(M<<20&4294967295|M>>>12),M=C+(I^P^G)+D[5]+4294588738&4294967295,C=I+(M<<4&4294967295|M>>>28),M=G+(C^I^P)+D[8]+2272392833&4294967295,G=C+(M<<11&4294967295|M>>>21),M=P+(G^C^I)+D[11]+1839030562&4294967295,P=G+(M<<16&4294967295|M>>>16),M=I+(P^G^C)+D[14]+4259657740&4294967295,I=P+(M<<23&4294967295|M>>>9),M=C+(I^P^G)+D[1]+2763975236&4294967295,C=I+(M<<4&4294967295|M>>>28),M=G+(C^I^P)+D[4]+1272893353&4294967295,G=C+(M<<11&4294967295|M>>>21),M=P+(G^C^I)+D[7]+4139469664&4294967295,P=G+(M<<16&4294967295|M>>>16),M=I+(P^G^C)+D[10]+3200236656&4294967295,I=P+(M<<23&4294967295|M>>>9),M=C+(I^P^G)+D[13]+681279174&4294967295,C=I+(M<<4&4294967295|M>>>28),M=G+(C^I^P)+D[0]+3936430074&4294967295,G=C+(M<<11&4294967295|M>>>21),M=P+(G^C^I)+D[3]+3572445317&4294967295,P=G+(M<<16&4294967295|M>>>16),M=I+(P^G^C)+D[6]+76029189&4294967295,I=P+(M<<23&4294967295|M>>>9),M=C+(I^P^G)+D[9]+3654602809&4294967295,C=I+(M<<4&4294967295|M>>>28),M=G+(C^I^P)+D[12]+3873151461&4294967295,G=C+(M<<11&4294967295|M>>>21),M=P+(G^C^I)+D[15]+530742520&4294967295,P=G+(M<<16&4294967295|M>>>16),M=I+(P^G^C)+D[2]+3299628645&4294967295,I=P+(M<<23&4294967295|M>>>9),M=C+(P^(I|~G))+D[0]+4096336452&4294967295,C=I+(M<<6&4294967295|M>>>26),M=G+(I^(C|~P))+D[7]+1126891415&4294967295,G=C+(M<<10&4294967295|M>>>22),M=P+(C^(G|~I))+D[14]+2878612391&4294967295,P=G+(M<<15&4294967295|M>>>17),M=I+(G^(P|~C))+D[5]+4237533241&4294967295,I=P+(M<<21&4294967295|M>>>11),M=C+(P^(I|~G))+D[12]+1700485571&4294967295,C=I+(M<<6&4294967295|M>>>26),M=G+(I^(C|~P))+D[3]+2399980690&4294967295,G=C+(M<<10&4294967295|M>>>22),M=P+(C^(G|~I))+D[10]+4293915773&4294967295,P=G+(M<<15&4294967295|M>>>17),M=I+(G^(P|~C))+D[1]+2240044497&4294967295,I=P+(M<<21&4294967295|M>>>11),M=C+(P^(I|~G))+D[8]+1873313359&4294967295,C=I+(M<<6&4294967295|M>>>26),M=G+(I^(C|~P))+D[15]+4264355552&4294967295,G=C+(M<<10&4294967295|M>>>22),M=P+(C^(G|~I))+D[6]+2734768916&4294967295,P=G+(M<<15&4294967295|M>>>17),M=I+(G^(P|~C))+D[13]+1309151649&4294967295,I=P+(M<<21&4294967295|M>>>11),M=C+(P^(I|~G))+D[4]+4149444226&4294967295,C=I+(M<<6&4294967295|M>>>26),M=G+(I^(C|~P))+D[11]+3174756917&4294967295,G=C+(M<<10&4294967295|M>>>22),M=P+(C^(G|~I))+D[2]+718787259&4294967295,P=G+(M<<15&4294967295|M>>>17),M=I+(G^(P|~C))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+G&4294967295}s.prototype.v=function(x,C){C===void 0&&(C=x.length);const I=C-this.blockSize,D=this.C;let P=this.h,G=0;for(;G<C;){if(P==0)for(;G<=I;)a(this,x,G),G+=this.blockSize;if(typeof x=="string"){for(;G<C;)if(D[P++]=x.charCodeAt(G++),P==this.blockSize){a(this,D),P=0;break}}else for(;G<C;)if(D[P++]=x[G++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=C},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;C=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=C&255,C/=256;for(this.v(x),x=Array(16),C=0,I=0;I<4;++I)for(let D=0;D<32;D+=8)x[C++]=this.g[I]>>>D&255;return x};function l(x,C){var I=h;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=C(x)}function u(x,C){this.h=C;const I=[];let D=!0;for(let P=x.length-1;P>=0;P--){const G=x[P]|0;D&&G==C||(I[P]=G,D=!1)}this.g=I}var h={};function d(x){return-128<=x&&x<128?l(x,function(C){return new u([C|0],C<0?-1:0)}):new u([x|0],x<0?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return v;if(x<0)return V(m(-x));const C=[];let I=1;for(let D=0;x>=I;D++)C[D]=x/I|0,I*=4294967296;return new u(C,0)}function y(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return V(y(x.substring(1),C));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(C,8));let D=v;for(let G=0;G<x.length;G+=8){var P=Math.min(8,x.length-G);const M=parseInt(x.substring(G,G+P),C);P<8?(P=m(Math.pow(C,P)),D=D.j(P).add(m(M))):(D=D.j(I),D=D.add(m(M)))}return D}var v=d(0),b=d(1),w=d(16777216);t=u.prototype,t.m=function(){if(z(this))return-V(this).m();let x=0,C=1;for(let I=0;I<this.g.length;I++){const D=this.i(I);x+=(D>=0?D:4294967296+D)*C,C*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N(this))return"0";if(z(this))return"-"+V(this).toString(x);const C=m(Math.pow(x,6));var I=this;let D="";for(;;){const P=ee(I,C).g;I=F(I,P.j(C));let G=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=P,N(I))return G+D;for(;G.length<6;)G="0"+G;D=G+D}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function N(x){if(x.h!=0)return!1;for(let C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function z(x){return x.h==-1}t.l=function(x){return x=F(this,x),z(x)?-1:N(x)?0:1};function V(x){const C=x.g.length,I=[];for(let D=0;D<C;D++)I[D]=~x.g[D];return new u(I,~x.h).add(b)}t.abs=function(){return z(this)?V(this):this},t.add=function(x){const C=Math.max(this.g.length,x.g.length),I=[];let D=0;for(let P=0;P<=C;P++){let G=D+(this.i(P)&65535)+(x.i(P)&65535),M=(G>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);D=M>>>16,G&=65535,M&=65535,I[P]=M<<16|G}return new u(I,I[I.length-1]&-2147483648?-1:0)};function F(x,C){return x.add(V(C))}t.j=function(x){if(N(this)||N(x))return v;if(z(this))return z(x)?V(this).j(V(x)):V(V(this).j(x));if(z(x))return V(this.j(V(x)));if(this.l(w)<0&&x.l(w)<0)return m(this.m()*x.m());const C=this.g.length+x.g.length,I=[];for(var D=0;D<2*C;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(let P=0;P<x.g.length;P++){const G=this.i(D)>>>16,M=this.i(D)&65535,Ie=x.i(P)>>>16,Be=x.i(P)&65535;I[2*D+2*P]+=M*Be,W(I,2*D+2*P),I[2*D+2*P+1]+=G*Be,W(I,2*D+2*P+1),I[2*D+2*P+1]+=M*Ie,W(I,2*D+2*P+1),I[2*D+2*P+2]+=G*Ie,W(I,2*D+2*P+2)}for(x=0;x<C;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=C;x<2*C;x++)I[x]=0;return new u(I,0)};function W(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function Q(x,C){this.g=x,this.h=C}function ee(x,C){if(N(C))throw Error("division by zero");if(N(x))return new Q(v,v);if(z(x))return C=ee(V(x),C),new Q(V(C.g),V(C.h));if(z(C))return C=ee(x,V(C)),new Q(V(C.g),C.h);if(x.g.length>30){if(z(x)||z(C))throw Error("slowDivide_ only works with positive integers.");for(var I=b,D=C;D.l(x)<=0;)I=H(I),D=H(D);var P=k(I,1),G=k(D,1);for(D=k(D,2),I=k(I,2);!N(D);){var M=G.add(D);M.l(x)<=0&&(P=P.add(I),G=M),D=k(D,1),I=k(I,1)}return C=F(x,P.j(C)),new Q(P,C)}for(P=v;x.l(C)>=0;){for(I=Math.max(1,Math.floor(x.m()/C.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),G=m(I),M=G.j(C);z(M)||M.l(x)>0;)I-=D,G=m(I),M=G.j(C);N(G)&&(G=b),P=P.add(G),x=F(x,M)}return new Q(P,x)}t.B=function(x){return ee(this,x).h},t.and=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let D=0;D<C;D++)I[D]=this.i(D)&x.i(D);return new u(I,this.h&x.h)},t.or=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let D=0;D<C;D++)I[D]=this.i(D)|x.i(D);return new u(I,this.h|x.h)},t.xor=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let D=0;D<C;D++)I[D]=this.i(D)^x.i(D);return new u(I,this.h^x.h)};function H(x){const C=x.g.length+1,I=[];for(let D=0;D<C;D++)I[D]=x.i(D)<<1|x.i(D-1)>>>31;return new u(I,x.h)}function k(x,C){const I=C>>5;C%=32;const D=x.g.length-I,P=[];for(let G=0;G<D;G++)P[G]=C>0?x.i(G+I)>>>C|x.i(G+I+1)<<32-C:x.i(G+I);return new u(P,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,__=u}).apply(typeof KT<"u"?KT:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)e:{var E=s;f=f.split(".");for(var A=0;A<f.length-1;A++){var K=f[A];if(!(K in E))break e;E=E[K]}f=f[f.length-1],A=E[f],_=_(A),_!=A&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function m(f,_,E){return m=d,m.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(A,K,ie){for(var de=Array(arguments.length-2),je=2;je<arguments.length;je++)de[je-2]=arguments[je];return _.prototype[K].apply(A,de)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function w(f){const _=f.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=f[A];return E}return[]}function N(f,_){for(let A=1;A<arguments.length;A++){const K=arguments[A];var E=typeof K;if(E=E!="object"?E:K?Array.isArray(K)?"array":E:"null",E=="array"||E=="object"&&typeof K.length=="number"){E=f.length||0;const ie=K.length||0;f.length=E+ie;for(let de=0;de<ie;de++)f[E+de]=K[de]}else f.push(K)}}class z{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(f){u.setTimeout(()=>{throw f},0)}function F(){var f=x;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,E){const A=Q.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Q=new z(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let H,k=!1,x=new W,C=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(I)}};function I(){for(var f;f=F();){try{f.h.call(f.g)}catch(E){V(E)}var _=Q;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}k=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function Ie(f,_){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Ie,P),Ie.prototype.init=function(f,_){const E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(f,_,E,A,K){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=K,this.key=++Z,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Re(f,_,E){for(const A in f)_.call(E,f[A],A,f)}function U(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function re(f){const _={};for(const E in f)_[E]=f[E];return _}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(f,_){let E,A;for(let K=1;K<arguments.length;K++){A=arguments[K];for(E in A)f[E]=A[E];for(let ie=0;ie<me.length;ie++)E=me[ie],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,_,E,A,K){const ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);const de=Ae(f,_,A,K);return de>-1?(_=f[de],E||(_.fa=!1)):(_=new ue(_,this.src,ie,!!A,K),_.fa=E,f.push(_)),_};function Ve(f,_){const E=_.type;if(E in f.g){var A=f.g[E],K=Array.prototype.indexOf.call(A,_,void 0),ie;(ie=K>=0)&&Array.prototype.splice.call(A,K,1),ie&&(pe(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ae(f,_,E,A){for(let K=0;K<f.length;++K){const ie=f[K];if(!ie.da&&ie.listener==_&&ie.capture==!!E&&ie.ha==A)return K}return-1}var Wt="closure_lm_"+(Math.random()*1e6|0),at={};function Qn(f,_,E,A,K){if(Array.isArray(_)){for(let ie=0;ie<_.length;ie++)Qn(f,_[ie],E,A,K);return null}return E=xo(E),f&&f[Be]?f.J(_,E,h(A)?!!A.capture:!1,K):Mt(f,_,E,!1,A,K)}function Mt(f,_,E,A,K,ie){if(!_)throw Error("Invalid event type");const de=h(K)?!!K.capture:!!K;let je=va(f);if(je||(f[Wt]=je=new ve(f)),E=je.add(_,E,A,de,ie),E.proxy)return E;if(A=Zn(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)G||(K=de),K===void 0&&(K=!1),f.addEventListener(_.toString(),A,K);else if(f.attachEvent)f.attachEvent(jn(_.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Zn(){function f(E){return _.call(f.src,f.listener,E)}const _=Wl;return f}function Ps(f,_,E,A,K){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Ps(f,_[ie],E,A,K);else A=h(A)?!!A.capture:!!A,E=xo(E),f&&f[Be]?(f=f.i,ie=String(_).toString(),ie in f.g&&(_=f.g[ie],E=Ae(_,E,A,K),E>-1&&(pe(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[ie],f.h--)))):f&&(f=va(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ae(_,E,A,K)),(E=f>-1?_[f]:null)&&ks(E))}function ks(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Be])Ve(_.i,f);else{var E=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(E,A,f.capture):_.detachEvent?_.detachEvent(jn(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=va(_))?(Ve(E,f),E.h==0&&(E.src=null,_[Wt]=null)):pe(f)}}}function jn(f){return f in at?at[f]:at[f]="on"+f}function Wl(f,_){if(f.da)f=!0;else{_=new Ie(_,this);const E=f.listener,A=f.ha||f.src;f.fa&&ks(f),f=E.call(A,_)}return f}function va(f){return f=f[Wt],f instanceof ve?f:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(f){return typeof f=="function"?f:(f[fn]||(f[fn]=function(_){return f.handleEvent(_)}),f[fn])}function jt(){D.call(this),this.i=new ve(this),this.M=this,this.G=null}v(jt,D),jt.prototype[Be]=!0,jt.prototype.removeEventListener=function(f,_,E,A){Ps(this,f,_,E,A)};function Ft(f,_){var E,A=f.G;if(A)for(E=[];A;A=A.G)E.push(A);if(f=f.M,A=_.type||_,typeof _=="string")_=new P(_,f);else if(_ instanceof P)_.target=_.target||f;else{var K=_;_=new P(A,f),fe(_,K)}K=!0;let ie,de;if(E)for(de=E.length-1;de>=0;de--)ie=_.g=E[de],K=Bi(ie,A,!0,_)&&K;if(ie=_.g=f,K=Bi(ie,A,!0,_)&&K,K=Bi(ie,A,!1,_)&&K,E)for(de=0;de<E.length;de++)ie=_.g=E[de],K=Bi(ie,A,!1,_)&&K}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let A=0;A<E.length;A++)pe(E[A]);delete f.g[_],f.h--}}this.G=null},jt.prototype.J=function(f,_,E,A){return this.i.add(String(f),_,!1,E,A)},jt.prototype.K=function(f,_,E,A){return this.i.add(String(f),_,!0,E,A)};function Bi(f,_,E,A){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let ie=0;ie<_.length;++ie){const de=_[ie];if(de&&!de.da&&de.capture==E){const je=de.listener,Nt=de.ha||de.src;de.fa&&Ve(f.i,de),K=je.call(Nt,A)!==!1&&K}}return K&&!A.defaultPrevented}function Fi(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Hi(f){f.g=Fi(()=>{f.g=null,f.i&&(f.i=!1,Hi(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class No extends D{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(f){D.call(this),this.h=f,this.g={}}v(Gi,D);var dn=[];function yt(f){Re(f.g,function(_,E){this.g.hasOwnProperty(E)&&ks(_)},f),f.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),yt(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=u.JSON.stringify,Xt=u.JSON.parse,Xl=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Jn(){}function Io(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){P.call(this,"d")}v(qi,P);function ti(){P.call(this,"c")}v(ti,P);var Vn={},ni=null;function yr(){return ni=ni||new jt}Vn.Ia="serverreachability";function Ls(f){P.call(this,Vn.Ia,f)}v(Ls,P);function fs(f){const _=yr();Ft(_,new Ls(_))}Vn.STAT_EVENT="statevent";function Us(f,_){P.call(this,Vn.STAT_EVENT,f),this.stat=_}v(Us,P);function Rt(f){const _=yr();Ft(_,new Us(_,f))}Vn.Ja="timingevent";function _a(f,_){P.call(this,Vn.Ja,f),this.size=_}v(_a,P);function ii(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function ba(f,_,E,A,K,ie){f.info(function(){if(f.g)if(ie){var de="",je=ie.split("&");for(let tt=0;tt<je.length;tt++){var Nt=je[tt].split("=");if(Nt.length>1){const Ht=Nt[0];Nt=Nt[1];const oi=Ht.split("_");de=oi.length>=2&&oi[1]=="type"?de+(Ht+"="+Nt+"&"):de+(Ht+"=redacted&")}}}else de=null;else de=ie;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+_+`
`+E+`
`+de})}function Ea(f,_,E,A,K,ie,de){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+_+`
`+E+`
`+ie+" "+de})}function j(f,_,E,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ne(f,E)+(A?" "+A:"")})}function Y(f,_){f.info(function(){return"TIMEOUT: "+_})}si.prototype.info=function(){};function ne(f,_){if(!f.g)return _;if(!_)return null;try{const ie=JSON.parse(_);if(ie){for(f=0;f<ie.length;f++)if(Array.isArray(ie[f])){var E=ie[f];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var K=A[0];if(K!="noop"&&K!="stop"&&K!="close")for(let de=1;de<A.length;de++)A[de]=""}}}}return Rn(ie)}catch{return _}}var oe={NO_ERROR:0,TIMEOUT:8},ce={},ye;function Ee(){}v(Ee,Jn),Ee.prototype.g=function(){return new XMLHttpRequest},ye=new Ee;function ge(f){return encodeURIComponent(String(f))}function Te(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function we(f,_,E,A){this.j=f,this.i=_,this.l=E,this.S=A||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var Se={},Ue={};function Xe(f,_,E){f.M=1,f.A=js(xt(_)),f.u=E,f.R=!0,mt(f,null)}function mt(f,_){f.F=Date.now(),xn(f),f.B=xt(f.A);var E=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),Sh(E.i,"t",A),f.C=0,E=f.j.L,f.h=new _e,f.g=Uo(f.j,E?_:null,!f.u),f.P>0&&(f.O=new No(m(f.Y,f,f.g),f.P)),_=f.V,E=f.g,A=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(dn[0]=K.toString()),K=dn);for(let ie=0;ie<K.length;ie++){const de=Qn(E,K[ie],A||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=f.J?re(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),fs(),ba(f.i,f.v,f.B,f.l,f.S,f.u)}we.prototype.ba=function(f){f=f.target;const _=this.O;_&&Sn(f)==3?_.j():this.Y(f)},we.prototype.Y=function(f){try{if(f==this.g)e:{const je=Sn(this.g),Nt=this.g.ya(),tt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||xa(this.g)))){this.K||je!=4||Nt==7||(Nt==8||tt<=0?fs(3):fs(2)),Qt(this);var _=this.g.ca();this.X=_;var E=wt(this);if(this.o=_==200,Ea(this.i,this.v,this.B,this.l,this.S,je,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,K=this.g;if((A=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(A)){var ie=A;break t}}ie=null}if(f=ie)j(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,f);else{this.o=!1,this.m=3,Rt(12),zn(this),tn(this);break e}}if(this.R){f=!0;let Ht;for(;!this.K&&this.C<E.length;)if(Ht=ot(this,E),Ht==Ue){je==4&&(this.m=4,Rt(14),f=!1),j(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Se){this.m=4,Rt(15),j(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else j(this.i,this.l,Ht,null),vi(this,Ht);if(ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||E.length!=0||this.h.h||(this.m=1,Rt(16),f=!1),this.o=this.o&&f,!f)j(this.i,this.l,E,"[Invalid Chunked Response]"),zn(this),tn(this);else if(E.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),au(de),de.P=!0,Rt(11))}}else j(this.i,this.l,E,null),vi(this,E);je==4&&zn(this),this.o&&!this.K&&(je==4?ou(this.j,this):(this.o=!1,xn(this)))}else Na(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),zn(this),tn(this)}}}catch{}finally{}};function wt(f){if(!ke(f))return f.g.la();const _=xa(f.g);if(_==="")return"";let E="";const A=_.length,K=Sn(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return zn(f),tn(f),"";f.h.i=new u.TextDecoder}for(let ie=0;ie<A;ie++)f.h.h=!0,E+=f.h.i.decode(_[ie],{stream:!(K&&ie==A-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function ke(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ot(f,_){var E=f.C,A=_.indexOf(`
`,E);return A==-1?Ue:(E=Number(_.substring(E,A)),isNaN(E)?Se:(A+=1,A+E>_.length?Ue:(_=_.slice(A,A+E),f.C=A+E,_)))}we.prototype.cancel=function(){this.K=!0,zn(this)};function xn(f){f.T=Date.now()+f.H,En(f,f.H)}function En(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ii(m(f.aa,f),_)}function Qt(f){f.D&&(u.clearTimeout(f.D),f.D=null)}we.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Y(this.i,this.B),this.M!=2&&(fs(),Rt(17)),zn(this),this.m=2,tn(this)):En(this,this.T-f)};function tn(f){f.j.I==0||f.K||ou(f.j,f)}function zn(f){Qt(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,yt(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function vi(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Tt(E.h,f))){if(!f.L&&Tt(E.h,f)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var K=A;if(K[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Lo(E),ds(E);else break e;ru(E),Rt(18)}}else E.xa=K[1],0<E.xa-E.K&&K[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ii(m(E.Va,E),6e3));Le(E.h)<=1&&E.ta&&(E.ta=void 0)}else Bs(E,11)}else if((f.L||E.g==f)&&Lo(E),!M(_))for(K=E.Ba.g.parse(_),_=0;_<K.length;_++){let tt=K[_];const Ht=tt[0];if(!(Ht<=E.K))if(E.K=Ht,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const oi=tt[3];oi!=null&&(E.ka=oi,E.j.info("VER="+E.ka));const ps=tt[4];ps!=null&&(E.za=ps,E.j.info("SVER="+E.za));const Wi=tt[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(A=1.5*Wi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Xi=f.g;if(Xi){const ka=Xi.g?Xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var ie=A.h;ie.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ri(ie,ie.h),ie.h=null))}if(A.G){const ms=Xi.g?Xi.g.getResponseHeader("X-HTTP-Session-Id"):null;ms&&(A.wa=ms,ct(A.J,A.G,ms))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var de=f;if(A.na=Dh(A,A.L?A.ba:null,A.W),de.L){pn(A.h,de);var je=de,Nt=A.O;Nt&&(je.H=Nt),je.D&&(Qt(je),xn(je)),A.g=de}else Rh(A);E.i.length>0&&Oa(E)}else tt[0]!="stop"&&tt[0]!="close"||Bs(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Bs(E,7):Da(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}fs(4)}catch{}}var Yi=class{constructor(f,_){this.g=f,this.map=_}};function _i(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bi(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Le(f){return f.h?1:f.g?f.g.size:0}function Tt(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ri(f,_){f.g?f.g.add(_):f.h=_}function pn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}_i.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function vt(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return w(f.i)}var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const A=f[E].indexOf("=");let K,ie=null;A>=0?(K=f[E].substring(0,A),ie=f[E].substring(A+1)):K=f[E],_(K,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function ai(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof ai?(this.l=f.l,vr(this,f.j),this.o=f.o,this.g=f.g,Sa(this,f.u),this.h=f.h,_r(this,wh(f.i)),this.m=f.m):f&&(_=String(f).match($i))?(this.l=!1,vr(this,_[1]||"",!0),this.o=wa(_[2]||""),this.g=wa(_[3]||"",!0),Sa(this,_[4]),this.h=wa(_[5]||"",!0),_r(this,_[6]||"",!0),this.m=wa(_[7]||"")):(this.l=!1,this.i=new Ei(null,this.l))}ai.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(nn(_,Zl,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(nn(_,Zl,!0),"@"),f.push(ge(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(nn(E,E.charAt(0)=="/"?br:Jl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",nn(E,Eh)),f.join("")},ai.prototype.resolve=function(f){const _=xt(this);let E=!!f.j;E?vr(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var A=f.h;if(E)Sa(_,f.u);else if(E=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var K=_.h.lastIndexOf("/");K!=-1&&(A=_.h.slice(0,K+1)+A)}if(K=A,K==".."||K==".")A="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){A=K.lastIndexOf("/",0)==0,K=K.split("/");const ie=[];for(let de=0;de<K.length;){const je=K[de++];je=="."?A&&de==K.length&&ie.push(""):je==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),A&&de==K.length&&ie.push("")):(ie.push(je),A=!0)}A=ie.join("/")}else A=K}return E?_.h=A:E=f.i.toString()!=="",E?_r(_,wh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function xt(f){return new ai(f)}function vr(f,_,E){f.j=E?wa(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Sa(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function _r(f,_,E){_ instanceof Ei?(f.i=_,nu(f.i,f.l)):(E||(_=nn(_,bh)),f.i=new Ei(_,f.l))}function ct(f,_,E){f.i.set(_,E)}function js(f){return ct(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function wa(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function nn(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Ql),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ql(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Zl=/[#\/\?@]/g,Jl=/[#\?:]/g,br=/[#\?]/g,bh=/[#\?@]/g,Eh=/#/g;function Ei(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Vs(f){f.g||(f.g=new Map,f.h=0,f.i&&Do(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Ei.prototype,t.add=function(f,_){Vs(this),this.i=null,f=Ki(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function eu(f,_){Vs(f),_=Ki(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function tu(f,_){return Vs(f),_=Ki(f,_),f.g.has(_)}t.forEach=function(f,_){Vs(this),this.g.forEach(function(E,A){E.forEach(function(K){f.call(_,K,A,this)},this)},this)};function Mo(f,_){Vs(f);let E=[];if(typeof _=="string")tu(f,_)&&(E=E.concat(f.g.get(Ki(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return Vs(this),this.i=null,f=Ki(this,f),tu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Mo(this,f),f.length>0?String(f[0]):_):_};function Sh(f,_,E){eu(f,_),E.length>0&&(f.i=null,f.g.set(Ki(f,_),w(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const K=ge(E);E=Mo(this,E);for(let ie=0;ie<E.length;ie++){let de=K;E[ie]!==""&&(de+="="+ge(E[ie])),f.push(de)}}return this.i=f.join("&")};function wh(f){const _=new Ei;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Ki(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function nu(f,_){_&&!f.j&&(Vs(f),f.i=null,f.g.forEach(function(E,A){const K=A.toLowerCase();A!=K&&(eu(this,A),Sh(this,K,E))},f)),f.j=_}function iu(f,_){const E=new si;if(u.Image){const A=new Image;A.onload=y(Nn,E,"TestLoadImage: loaded",!0,_,A),A.onerror=y(Nn,E,"TestLoadImage: error",!1,_,A),A.onabort=y(Nn,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(Nn,E,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}function Er(f,_){const E=new si,A=new AbortController,K=setTimeout(()=>{A.abort(),Nn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:A.signal}).then(ie=>{clearTimeout(K),ie.ok?Nn(E,"TestPingServer: ok",!0,_):Nn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Nn(E,"TestPingServer: error",!1,_)})}function Nn(f,_,E,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(E)}catch{}}function Th(){this.g=new Xl}function Ta(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ta,Jn),Ta.prototype.g=function(){return new Ca(this.i,this.h)};function Ca(f,_){jt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ca,jt),t=Ca.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,zs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sr(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sr(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?In(this):zs(this),this.readyState==3&&Sr(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,In(this))},t.Na=function(f){this.g&&(this.response=f,In(this))},t.ga=function(){this.g&&In(this)};function In(f){f.readyState=4,f.l=null,f.j=null,f.B=null,zs(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function zs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wr(f){let _="";return Re(f,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function Si(f,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=wr(E),typeof f=="string"?E!=null&&ge(E):ct(f,_,E))}function St(f){jt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(St,jt);var Oo=/^https?$/i,Ch=["POST","PUT"];t=St.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ye.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ie){Aa(this,ie);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)E.set(K,A[K]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ie of A.keys())E.set(ie,A.get(ie));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),K=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Ch,_,void 0)>=0)||A||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,de]of E)this.g.setRequestHeader(ie,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ie){Aa(this,ie)}};function Aa(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Ra(f),Zt(f)}function Ra(f){f.A||(f.A=!0,Ft(f,"complete"),Ft(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ft(this,"complete"),Ft(this,"abort"),Zt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),St.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?su(this):this.Xa())},t.Xa=function(){su(this)};function su(f){if(f.h&&typeof l<"u"){if(f.v&&Sn(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ft(f,"readystatechange"),Sn(f)==4){f.h=!1;try{const ie=f.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=ie===0){let de=String(f.D).match($i)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),A=!Oo.test(de?de.toLowerCase():"")}E=A}if(E)Ft(f,"complete"),Ft(f,"success");else{f.o=6;try{var K=Sn(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Ra(f)}}finally{Zt(f)}}}}function Zt(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Ft(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Sn(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Sn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Xt(_)}};function xa(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Na(f){const _={};f=(f.g&&Sn(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(M(f[A]))continue;var E=Te(f[A]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=_[K]||[];_[K]=ie,ie.push(E)}U(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Po(f){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ia("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ia("baseRetryDelayMs",5e3,f),this.Za=Ia("retryDelaySeedMs",1e4,f),this.Ta=Ia("forwardChannelMaxRetries",2,f),this.va=Ia("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new _i(f&&f.concurrentRequestLimit),this.Ba=new Th,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Po.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,A){Rt(0),this.W=f,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Dh(this,null,this.W),Oa(this)};function Da(f){if(Ma(f),f.I==3){var _=f.V++,E=xt(f.J);if(ct(E,"SID",f.M),ct(E,"RID",_),ct(E,"TYPE","terminate"),Pa(f,E),_=new we(f,f.j,_),_.M=2,_.A=js(xt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Uo(_.j,null),_.g.ea(_.A)),_.F=Date.now(),xn(_)}Ih(f)}function ds(f){f.g&&(au(f),f.g.cancel(),f.g=null)}function Ma(f){ds(f),f.v&&(u.clearTimeout(f.v),f.v=null),Lo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Oa(f){if(!bi(f.h)&&!f.m){f.m=!0;var _=f.Ea;H||C(),k||(H(),k=!0),x.add(_,f),f.D=0}}function wp(f,_){return Le(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ii(m(f.Ea,f,_),Nh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new we(this,this.j,f);let ie=this.o;if(this.U&&(ie?(ie=re(ie),fe(ie,this.U)):ie=this.U),this.u!==null||this.R||(K.J=ie,ie=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ko(this,K,_),E=xt(this.J),ct(E,"RID",f),ct(E,"CVER",22),this.G&&ct(E,"X-HTTP-Session-Id",this.G),Pa(this,E),ie&&(this.R?_="headers="+ge(wr(ie))+"&"+_:this.u&&Si(E,this.u,ie)),ri(this.h,K),this.Ra&&ct(E,"TYPE","init"),this.S?(ct(E,"$req",_),ct(E,"SID","null"),K.U=!0,Xe(K,E,null)):Xe(K,E,_),this.I=2}}else this.I==3&&(f?Ah(this,f):this.i.length==0||bi(this.h)||Ah(this))};function Ah(f,_){var E;_?E=_.l:E=f.V++;const A=xt(f.J);ct(A,"SID",f.M),ct(A,"RID",E),ct(A,"AID",f.K),Pa(f,A),f.u&&f.o&&Si(A,f.u,f.o),E=new we(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=ko(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ri(f.h,E),Xe(E,A,_)}function Pa(f,_){f.H&&Re(f.H,function(E,A){ct(_,A,E)}),f.l&&Re({},function(E,A){ct(_,A,E)})}function ko(f,_,E){E=Math.min(f.i.length,E);const A=f.l?m(f.l.Ka,f.l,f):null;e:{var K=f.i;let je=-1;for(;;){const Nt=["count="+E];je==-1?E>0?(je=K[0].g,Nt.push("ofs="+je)):je=0:Nt.push("ofs="+je);let tt=!0;for(let Ht=0;Ht<E;Ht++){var ie=K[Ht].g;const oi=K[Ht].map;if(ie-=je,ie<0)je=Math.max(0,K[Ht].g-100),tt=!1;else try{ie="req"+ie+"_"||"";try{var de=oi instanceof Map?oi:Object.entries(oi);for(const[ps,Wi]of de){let Xi=Wi;h(Wi)&&(Xi=Rn(Wi)),Nt.push(ie+ps+"="+encodeURIComponent(Xi))}}catch(ps){throw Nt.push(ie+"type="+encodeURIComponent("_badmap")),ps}}catch{A&&A(oi)}}if(tt){de=Nt.join("&");break e}}de=void 0}return f=f.i.splice(0,E),_.G=f,de}function Rh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;H||C(),k||(H(),k=!0),x.add(_,f),f.A=0}}function ru(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ii(m(f.Da,f),Nh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ii(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),ds(this),xh(this))};function au(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function xh(f){f.g=new we(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=xt(f.na);ct(_,"RID","rpc"),ct(_,"SID",f.M),ct(_,"AID",f.K),ct(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&ct(_,"TO",f.ia),ct(_,"TYPE","xmlhttp"),Pa(f,_),f.u&&f.o&&Si(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=js(xt(_)),E.u=null,E.R=!0,mt(E,f)}t.Va=function(){this.C!=null&&(this.C=null,ds(this),ru(this),Rt(19))};function Lo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ou(f,_){var E=null;if(f.g==_){Lo(f),au(f),f.g=null;var A=2}else if(Tt(f.h,_))E=_.G,pn(f.h,_),A=1;else return;if(f.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var K=f.D;A=yr(),Ft(A,new _a(A,E)),Oa(f)}else Rh(f);else if(K=_.m,K==3||K==0&&_.X>0||!(A==1&&wp(f,_)||A==2&&ru(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),K){case 1:Bs(f,5);break;case 4:Bs(f,10);break;case 3:Bs(f,6);break;default:Bs(f,2)}}}function Nh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function Bs(f,_){if(f.j.info("Error code "+_),_==2){var E=m(f.bb,f),A=f.Ua;const K=!A;A=new ai(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vr(A,"https"),js(A),K?iu(A.toString(),E):Er(A.toString(),E)}else Rt(2);f.I=0,f.l&&f.l.pa(_),Ih(f),Ma(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ih(f){if(f.I=0,f.ja=[],f.l){const _=vt(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.oa()}}function Dh(f,_,E){var A=E instanceof ai?xt(E):new ai(E);if(A.g!="")_&&(A.g=_+"."+A.g),Sa(A,A.u);else{var K=u.location;A=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const ie=new ai(null);A&&vr(ie,A),_&&(ie.g=_),K&&Sa(ie,K),E&&(ie.h=E),A=ie}return E=f.G,_=f.wa,E&&_&&ct(A,E,_),ct(A,"VER",f.ka),Pa(f,A),A}function Uo(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new St(new Ta({ab:E})):new St(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}t=Mh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bn(f,_){jt.call(this),this.g=new Po(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!M(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Tr(this)}v(Bn,jt),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Da(this.g)},Bn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Rn(f),f=E);_.i.push(new Yi(_.Ya++,f)),_.I==3&&Oa(_)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Da(this.g),delete this.g,Bn.Z.N.call(this)};function Oh(f){qi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(Oh,qi);function lu(){ti.call(this),this.status=1}v(lu,ti);function Tr(f){this.g=f}v(Tr,Mh),Tr.prototype.ra=function(){Ft(this.g,"a")},Tr.prototype.qa=function(f){Ft(this.g,new Oh(f))},Tr.prototype.pa=function(f){Ft(this.g,new lu)},Tr.prototype.oa=function(){Ft(this.g,"b")},Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,ce.COMPLETE="complete",Io.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",jt.prototype.listen=jt.prototype.J,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});const WT="@firebase/firestore",XT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new oh("@firebase/firestore");function rs(t,...e){if(Ml.logLevel<=st.DEBUG){const n=e.map(b_);Ml.debug(`Firestore (${dh}): ${t}`,...n)}}function wx(t,...e){if(Ml.logLevel<=st.ERROR){const n=e.map(b_);Ml.error(`Firestore (${dh}): ${t}`,...n)}}function S5(t,...e){if(Ml.logLevel<=st.WARN){const n=e.map(b_);Ml.warn(`Firestore (${dh}): ${t}`,...n)}}function b_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Tx(t,s,n)}function Tx(t,e,n){let s=`FIRESTORE (${dh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wx(s),new Error(s)}function Ec(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Tx(e,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class et extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mn.UNAUTHENTICATED)))}shutdown(){}}class T5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class C5{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ec(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Sc;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Sc,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{rs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(rs("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Sc)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(rs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ec(typeof s.accessToken=="string",31837,{l:s}),new Cx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ec(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class A5{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new A5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ec(this.o===void 0,3512);const s=l=>{l.error!=null&&rs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,rs("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{rs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):rs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ec(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=N5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function oa(t,e){return t<e?-1:t>e?1:0}function D5(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Xg(a)===Xg(l)?oa(a,l):Xg(a)?1:-1}return oa(t.length,e.length)}const M5=55296,O5=57343;function Xg(t){const e=t.charCodeAt(0);return e>=M5&&e<=O5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="__name__";class Es{constructor(e,n,s){n===void 0?n=0:n>e.length&&Hc(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Hc(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Es.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return oa(e.length,n.length)}static compareSegments(e,n){const s=Es.isNumericId(e),a=Es.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Es.extractNumericId(e).compare(Es.extractNumericId(n)):D5(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return __.fromString(e.substring(4,e.length-2))}}class ts extends Es{construct(e,n,s){return new ts(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new et(Je.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ts(n)}static emptyPath(){return new ts([])}}const P5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class to extends Es{construct(e,n,s){return new to(e,n,s)}static isValidIdentifier(e){return P5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),to.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZT}static keyField(){return new to([ZT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new et(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new et(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new et(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new et(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new to(n)}static emptyPath(){return new to([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.path=e}static fromPath(e){return new oo(ts.fromString(e))}static fromName(e){return new oo(ts.fromString(e).popFirst(5))}static empty(){return new oo(ts.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ts.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ts.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oo(new ts(e.slice()))}}function k5(t,e,n,s){if(e===!0&&s===!0)throw new et(Je.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function U5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Hc(12329,{type:typeof t})}function j5(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new et(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=U5(t);throw new et(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function ph(t,e){if(!L5(t))throw new et(Je.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new et(Je.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=-62135596800,e1=1e6;class Ss{static now(){return Ss.fromMillis(Date.now())}static fromDate(e){return Ss.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*e1);return new Ss(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new et(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new et(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JT)throw new et(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e1}_compareTo(e){return this.seconds===e.seconds?oa(this.nanoseconds,e.nanoseconds):oa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ss._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ph(e,Ss._jsonSchema))return new Ss(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ss._jsonSchemaVersion="firestore/timestamp/1.0",Ss._jsonSchema={type:$t("string",Ss._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};function V5(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new z5("Invalid base64 string: "+l):l}})(e);return new _o(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new _o(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_o.EMPTY_BYTE_STRING=new _o("");const Hy="(default)";class Id{constructor(e,n){this.projectId=e,this.database=n||Hy}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database===Hy}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F5(t){return new B5(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t1,Ze;(Ze=t1||(t1={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new __([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=1048576;function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&rs("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Sc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new E_(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var n1,i1;(i1=n1||(n1={})).Ma="default",i1.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firestore.googleapis.com",r1=!0;class a1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ax,this.ssl=r1}else this.host=e.host,this.ssl=e.ssl??r1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G5)throw new et(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y5(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new et(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new et(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new et(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rx{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new w5;switch(s.type){case"firstParty":return new R5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new et(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=s1.get(n);s&&(rs("ComponentProvider","Removing Datastore"),s1.delete(n),s.terminate())})(this),Promise.resolve()}}function $5(t,e,n,s={}){t=j5(t,Rx);const a=da(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Qd(`https://${h}`),Zd("Firestore",!0)),l.host!==Ax&&l.host!==h&&S5("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!cr(d,u)&&(t._setSettings(d),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Mn.MOCK_USER;else{m=t_(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new et(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mn(v)}t._authCredentials=new T5(new Cx(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new S_(this.firestore,e,this._query)}}class ws{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new w_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}toJSON(){return{type:ws._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ph(n,ws._jsonSchema))return new ws(e,s||null,new oo(ts.fromString(n.referencePath)))}}ws._jsonSchemaVersion="firestore/documentReference/1.0",ws._jsonSchema={type:$t("string",ws._jsonSchemaVersion),referencePath:$t("string")};class w_ extends S_{constructor(e,n,s){super(e,n,F5(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new oo(e))}withConverter(e){return new w_(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="AsyncQueue";class l1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new q5(this,"async_queue_retry"),this._c=()=>{const s=Qg();s&&rs(o1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Sc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!V5(e))throw e;rs(o1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wx("INTERNAL UNHANDLED ERROR: ",u1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=E_.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Hc(47125,{Pc:u1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function u1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class K5 extends Rx{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new l1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l1(e),this._firestoreClient=void 0,await e}}}function W5(t,e){const n=typeof t=="object"?t:lh(),s=typeof t=="string"?t:Hy,a=mr(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=e_("firestore");l&&$5(a,...l)}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nr(_o.fromBase64String(e))}catch(n){throw new et(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nr(_o.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ph(e,nr._jsonSchema))return nr.fromBase64String(e.bytes)}}nr._jsonSchemaVersion="firestore/bytes/1.0",nr._jsonSchema={type:$t("string",nr._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new et(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new to(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new et(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new et(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oa(this._lat,e._lat)||oa(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fo._jsonSchemaVersion}}static fromJSON(e){if(ph(e,fo._jsonSchema))return new fo(e.latitude,e.longitude)}}fo._jsonSchemaVersion="firestore/geoPoint/1.0",fo._jsonSchema={type:$t("string",fo._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:po._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ph(e,po._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new po(e.vectorValues);throw new et(Je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}po._jsonSchemaVersion="firestore/vectorValue/1.0",po._jsonSchema={type:$t("string",po._jsonSchemaVersion),vectorValues:$t("object")};const X5=new RegExp("[~\\*/\\[\\]]");function Q5(t,e,n){if(e.search(X5)>=0)throw c1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new xx(...e.split("."))._internalPath}catch{throw c1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function c1(t,e,n,s,a){let l=`Function ${e}() called with invalid data`;l+=". ";let u="";return new et(Je.INVALID_ARGUMENT,l+t+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ix("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z5 extends Nx{data(){return super.data()}}function Ix(t,e){return typeof e=="string"?Q5(t,e):e instanceof xx?e._internalPath:e._delegate._internalPath}class Gf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends Nx{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ix("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:$t("string",Cl._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class ad extends Cl{data(e={}){return super.data(e)}}class wc{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gf(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ad(this._firestore,this._userDataWriter,s.key,s,new Gf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new et(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new ad(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new ad(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:J5(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=I5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hc(61501,{type:t})}}wc._jsonSchemaVersion="firestore/querySnapshot/1.0",wc._jsonSchema={type:$t("string",wc._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};(function(e,n=!0){(function(a){dh=a})(pa),ji(new yi("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new K5(new C5(s.getProvider("auth-internal")),new x5(u,s.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new et(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(m.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),An(WT,XT,e),An(WT,XT,"esm2020")})();var h1={};const f1="@firebase/database",d1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dx="";function Mx(t){Dx=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),cn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ms(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new eV(e)}}catch{}return new tV},lo=Ox("localStorage"),nV=Ox("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new oh("@firebase/database"),iV=(function(){let t=1;return function(){return t++}})(),Px=function(t){const e=R6(t),n=new w6;n.update(e);const s=n.digest();return Zv.encodeByteArray(s)},mh=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=mh.apply(null,s):typeof s=="object"?e+=cn(s):e+=s,e+=" "}return e};let Tc=null,p1=!0;const sV=function(t,e){he(!0,"Can't turn on custom loggers persistently."),Al.logLevel=st.VERBOSE,Tc=Al.log.bind(Al)},_n=function(...t){if(p1===!0&&(p1=!1,Tc===null&&nV.get("logging_enabled")===!0&&sV()),Tc){const e=mh.apply(null,t);Tc(e)}},gh=function(t){return function(...e){_n(t,...e)}},Gy=function(...t){const e="FIREBASE INTERNAL ERROR: "+mh(...t);Al.error(e)},dr=function(...t){const e=`FIREBASE FATAL ERROR: ${mh(...t)}`;throw Al.error(e),new Error(e)},Ln=function(...t){const e="FIREBASE WARNING: "+mh(...t);Al.warn(e)},rV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aV=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ol="[MIN_NAME]",bo="[MAX_NAME]",Ao=function(t,e){if(t===e)return 0;if(t===Ol||e===bo)return-1;if(e===Ol||t===bo)return 1;{const n=m1(t),s=m1(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},oV=function(t,e){return t===e?0:t<e?-1:1},nc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+cn(e))},C_=function(t){if(typeof t!="object"||t===null)return cn(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=cn(e[s]),n+=":",n+=C_(t[e[s]]);return n+="}",n},kx=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let a=0;a<n;a+=e)a+e>n?s.push(t.substring(a,n)):s.push(t.substring(a,a+e));return s};function bn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Lx=function(t){he(!T_(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let a,l,u,h,d;t===0?(l=0,u=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),s),l=h+s,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(d=n;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const y=m.join("");let v="";for(d=0;d<64;d+=8){let b=parseInt(y.substr(d,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},lV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cV(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const hV=new RegExp("^-?(0*)\\d{1,10}$"),fV=-2147483648,dV=2147483647,m1=function(t){if(hV.test(t)){const e=Number(t);if(e>=fV&&e<=dV)return e}return null},ql=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ln("Exception was thrown by user callback.",n),e},Math.floor(0))}},pV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Pn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Ln(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ln(e)}}class od{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}od.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="5",Ux="v",jx="s",Vx="r",zx="f",Bx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fx="ls",Hx="p",qy="ac",Gx="websocket",qx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,s,a,l=!1,u="",h=!1,d=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function yV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $x(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let s;if(e===Gx)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===qx)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yV(t)&&(n.ns=t.namespace);const a=[];return bn(n,(l,u)=>{a.push(l+"="+u)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.counters_={}}incrementCounter(e,n=1){Ms(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return a6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg={},Jg={};function R_(t){const e=t.toString();return Zg[e]||(Zg[e]=new vV),Zg[e]}function _V(t,e){const n=t.toString();return Jg[n]||(Jg[n]=e()),Jg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&ql(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="start",EV="close",SV="pLPCommand",wV="pRTLPCB",Kx="id",Wx="pw",Xx="ser",TV="cb",CV="seg",AV="ts",RV="d",xV="dframe",Qx=1870,Zx=30,NV=Qx-Zx,IV=25e3,DV=3e4;class _l{constructor(e,n,s,a,l,u,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gh(e),this.stats_=R_(n),this.urlFn=d=>(this.appCheckToken&&(d[qy]=this.appCheckToken),$x(n,qx,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DV)),aV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new x_((...l)=>{const[u,h,d,m,y]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===g1)this.id=h,this.password=d;else if(u===EV)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[g1]="t",s[Xx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[TV]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Ux]=A_,this.transportSessionId&&(s[jx]=this.transportSessionId),this.lastSessionId&&(s[Fx]=this.lastSessionId),this.applicationId&&(s[Hx]=this.applicationId),this.appCheckToken&&(s[qy]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bx.test(location.hostname)&&(s[Vx]=zx);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_l.forceAllow_=!0}static forceDisallow(){_l.forceDisallow_=!0}static isAvailable(){return _l.forceAllow_?!0:!_l.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lV()&&!uV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=aR(n),a=kx(s,NV);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[xV]="t",s[Kx]=e,s[Wx]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=cn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class x_{constructor(e,n,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iV(),window[SV+this.uniqueCallbackIdentifier]=e,window[wV+this.uniqueCallbackIdentifier]=n,this.myIFrame=x_.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){_n("frame writing exception"),h.stack&&_n(h.stack),_n(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_n("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Kx]=this.myID,e[Wx]=this.myPW,e[Xx]=this.currentSerial;let n=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Zx+s.length<=Qx;){const u=this.pendingSegs.shift();s=s+"&"+CV+a+"="+u.seg+"&"+AV+a+"="+u.ts+"&"+RV+a+"="+u.d,a++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(s,Math.floor(IV)),l=()=>{clearTimeout(a),s()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{_n("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=16384,OV=45e3;let Dd=null;typeof MozWebSocket<"u"?Dd=MozWebSocket:typeof WebSocket<"u"&&(Dd=WebSocket);class ns{constructor(e,n,s,a,l,u,h){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gh(this.connId),this.stats_=R_(n),this.connURL=ns.connectionURL_(n,u,h,a,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,a,l){const u={};return u[Ux]=A_,typeof location<"u"&&location.hostname&&Bx.test(location.hostname)&&(u[Vx]=zx),n&&(u[jx]=n),s&&(u[Fx]=s),a&&(u[qy]=a),l&&(u[Hx]=l),$x(e,Gx,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lo.set("previous_websocket_failure",!0);try{let s;g6(),this.mySock=new Dd(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){ns.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Dd!==null&&!ns.forceDisallow_}static previouslyFailed(){return lo.isInMemoryStorage||lo.get("previous_websocket_failure")===!0}markConnectionHealthy(){lo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Vc(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=kx(n,MV);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OV))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ns.responsesRequiredToBeHealthy=2;ns.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{static get ALL_TRANSPORTS(){return[_l,ns]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ns&&ns.isAvailable();let s=n&&!ns.previouslyFailed();if(e.webSocketOnly&&(n||Ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ns];else{const a=this.transports_=[];for(const l of Gc.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Gc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Gc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=6e4,kV=5e3,LV=10*1024,UV=100*1024,ey="t",y1="d",jV="s",v1="r",VV="e",_1="o",b1="a",E1="n",S1="p",zV="h";class BV{constructor(e,n,s,a,l,u,h,d,m,y){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gh("c:"+this.id+":"),this.transportManager_=new Gc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Cc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>UV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ey in e){const n=e[ey];n===b1?this.upgradeIfSecondaryHealthy_():n===v1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=nc("t",e),s=nc("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:S1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:b1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:E1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=nc("t",e),s=nc("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=nc(ey,e);if(y1 in e){const s=e[y1];if(n===zV){const a={...s};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===E1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jV?this.onConnectionShutdown_(s):n===v1?this.onReset_(s):n===VV?Gy("Server Error: "+s):n===_1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),A_!==s&&Ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Cc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:S1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{put(e,n,s,a){}merge(e,n,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const a=this.getInitialEvent(e);a&&n.apply(s,a)}off(e,n,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!s||s===a[l].context)){a.splice(l,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends eN{static getInstance(){return new Md}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!n_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=32,T1=768;class pt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function rt(){return new pt("")}function Ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function la(t){return t.pieces_.length-t.pieceNum_}function Et(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pt(t.pieces_,e)}function N_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function FV(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function qc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pt(e,0)}function Lt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof pt)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&n.push(s[a])}return new pt(n,0)}function Ke(t){return t.pieceNum_>=t.pieces_.length}function Kn(t,e){const n=Ge(t),s=Ge(e);if(n===null)return e;if(n===s)return Kn(Et(t),Et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function HV(t,e){const n=qc(t,0),s=qc(e,0);for(let a=0;a<n.length&&a<s.length;a++){const l=Ao(n[a],s[a]);if(l!==0)return l}return n.length===s.length?0:n.length<s.length?-1:1}function I_(t,e){if(la(t)!==la(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function ki(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(la(t)>la(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class GV{constructor(e,n){this.errorPrefix_=n,this.parts_=qc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ep(this.parts_[s]);nN(this)}}function qV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ep(e),nN(t)}function YV(t){const e=t.parts_.pop();t.byteLength_-=ep(e),t.parts_.length>0&&(t.byteLength_-=1)}function nN(t){if(t.byteLength_>T1)throw new Error(t.errorPrefix_+"has a key path longer than "+T1+" bytes ("+t.byteLength_+").");if(t.parts_.length>w1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+w1+") or object contains a cycle "+eo(t))}function eo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends eN{static getInstance(){return new D_}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=1e3,$V=300*1e3,C1=30*1e3,KV=1.3,WV=3e4,XV="server_kill",A1=3;class or extends Jx{constructor(e,n,s,a,l,u,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=or.nextPersistentConnectionId_++,this.log_=gh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ic,this.maxReconnectDelay_=$V,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");D_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Md.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(cn(l)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const n=new ah,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,s,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:n,query:e,tag:s};this.listens.get(u).set(l,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+s+" for "+a);const l={p:s},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,h=>{const d=h.d,m=h.s;or.warnOnListenWarnings_(d,n),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ms(e,"w")){const s=Dl(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Ln(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||S6(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=C1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=E6(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,n)}sendUnlisten_(e,n,s,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";a&&(l.q=s,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,a){const l={p:n,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,n,s,a){this.putInternal("p",e,n,s,a)}merge(e,n,s,a){this.putInternal("m",e,n,s,a)}putInternal(e,n,s,a,l){this.initConnection_();const u={p:n,d:s};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+cn(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Gy("Unrecognized action received from server: "+cn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WV&&(this.reconnectDelay_=ic),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+or.nextConnectionId_++,l=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,s())},m=function(v){he(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:d,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,h=new BV(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,w=>{Ln(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(XV)},l))}catch(v){this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&Ln(v),d())}}}interrupt(e){_n("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_n("Resuming connection for reason: "+e),delete this.interruptReasons_[e],My(this.interruptReasons_)&&(this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(l=>C_(l)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const s=new pt(e).toString();let a;if(this.listens.has(s)){const l=this.listens.get(s);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,n){_n("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=A1&&(this.reconnectDelay_=C1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_n("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=A1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Dx.replace(/\./g,"-")]=1,n_()?e["framework.cordova"]=1:fR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Md.getInstance().currentlyOnline();return My(this.interruptReasons_)&&e}}or.nextPersistentConnectionId_=0;or.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new qe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new qe(Ol,e),a=new qe(Ol,n);return this.compare(s,a)!==0}minPost(){return qe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;class iN extends ap{static get __EMPTY_NODE(){return qf}static set __EMPTY_NODE(e){qf=e}compare(e,n){return Ao(e.name,n.name)}isDefinedOn(e){throw Fl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return qe.MIN}maxPost(){return new qe(bo,qf)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new qe(e,qf)}toString(){return".key"}}const Rl=new iN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,s,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?s(e.key,n):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ln{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ln.RED,this.left=a??Wn.EMPTY_NODE,this.right=l??Wn.EMPTY_NODE}copy(e,n,s,a,l){return new ln(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,a;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Wn.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ln.RED=!0;ln.BLACK=!1;class QV{copy(e,n,s,a,l){return this}insert(e,n,s){return new ln(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Wn{constructor(e,n=Wn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Wn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ln.BLACK,null,null))}remove(e){return new Wn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ln.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,a=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Yf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Yf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Yf(this.root_,null,this.comparator_,!0,e)}}Wn.EMPTY_NODE=new QV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){return Ao(t.name,e.name)}function M_(t,e){return Ao(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;function JV(t){Yy=t}const sN=function(t){return typeof t=="number"?"number:"+Lx(t):"string:"+t},rN=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ms(e,".sv"),"Priority must be a string or number.")}else he(t===Yy||t.isEmpty(),"priority of unexpected type.");he(t===Yy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R1;class on{static set __childrenNodeConstructor(e){R1=e}static get __childrenNodeConstructor(){return R1}constructor(e,n=on.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new on(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:on.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ke(e)?this:Ge(e)===".priority"?this.priorityNode_:on.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:on.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Ge(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(he(s!==".priority"||la(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,on.__childrenNodeConstructor.EMPTY_NODE.updateChild(Et(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Lx(this.value_):e+=this.value_,this.lazyHash_=Px(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===on.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof on.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,a=on.VALUE_TYPE_ORDER.indexOf(n),l=on.VALUE_TYPE_ORDER.indexOf(s);return he(a>=0,"Unknown leaf type: "+n),he(l>=0,"Unknown leaf type: "+s),a===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}on.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aN,oN;function ez(t){aN=t}function tz(t){oN=t}class nz extends ap{compare(e,n){const s=e.node.getPriority(),a=n.node.getPriority(),l=s.compareTo(a);return l===0?Ao(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return qe.MIN}maxPost(){return new qe(bo,new on("[PRIORITY-POST]",oN))}makePost(e,n){const s=aN(e);return new qe(n,new on("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ut=new nz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=Math.log(2);class sz{constructor(e){const n=l=>parseInt(Math.log(l)/iz,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Od=function(t,e,n,s){t.sort(e);const a=function(d,m){const y=m-d;let v,b;if(y===0)return null;if(y===1)return v=t[d],b=n?n(v):v,new ln(b,v.node,ln.BLACK,null,null);{const w=parseInt(y/2,10)+d,N=a(d,w),z=a(w+1,m);return v=t[w],b=n?n(v):v,new ln(b,v.node,ln.BLACK,N,z)}},l=function(d){let m=null,y=null,v=t.length;const b=function(N,z){const V=v-N,F=v;v-=N;const W=a(V+1,F),Q=t[V],ee=n?n(Q):Q;w(new ln(ee,Q.node,z,null,W))},w=function(N){m?(m.left=N,m=N):(y=N,m=N)};for(let N=0;N<d.count;++N){const z=d.nextBitIsOne(),V=Math.pow(2,d.count-(N+1));z?b(V,ln.BLACK):(b(V,ln.BLACK),b(V,ln.RED))}return y},u=new sz(t.length),h=l(u);return new Wn(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty;const fl={};class rr{static get Default(){return he(fl&&Ut,"ChildrenNode.ts has not been loaded"),ty=ty||new rr({".priority":fl},{".priority":Ut}),ty}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Dl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Wn?n:null}hasIndex(e){return Ms(this.indexSet_,e.toString())}addIndex(e,n){he(e!==Rl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const l=n.getIterator(qe.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),s.push(u),u=l.getNext();let h;a?h=Od(s,e.getCompare()):h=fl;const d=e.toString(),m={...this.indexSet_};m[d]=e;const y={...this.indexes_};return y[d]=h,new rr(y,m)}addToIndexes(e,n){const s=bd(this.indexes_,(a,l)=>{const u=Dl(this.indexSet_,l);if(he(u,"Missing index implementation for "+l),a===fl)if(u.isDefinedOn(e.node)){const h=[],d=n.getIterator(qe.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&h.push(m),m=d.getNext();return h.push(e),Od(h,u.getCompare())}else return fl;else{const h=n.get(e.name);let d=a;return h&&(d=d.remove(new qe(e.name,h))),d.insert(e,e.node)}});return new rr(s,this.indexSet_)}removeFromIndexes(e,n){const s=bd(this.indexes_,a=>{if(a===fl)return a;{const l=n.get(e.name);return l?a.remove(new qe(e.name,l)):a}});return new rr(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;class Pe{static get EMPTY_NODE(){return sc||(sc=new Pe(new Wn(M_),null,rr.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&rN(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sc}updatePriority(e){return this.children_.isEmpty()?this:new Pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?sc:n}}getChild(e){const n=Ge(e);return n===null?this:this.getImmediateChild(n).getChild(Et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new qe(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(s,this.children_));const u=a.isEmpty()?sc:this.priorityNode_;return new Pe(a,u,l)}}updateChild(e,n){const s=Ge(e);if(s===null)return n;{he(Ge(e)!==".priority"||la(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(Et(e),n);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,a=0,l=!0;if(this.forEachChild(Ut,(u,h)=>{n[u]=h.val(e),s++,l&&Pe.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*s){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sN(this.getPriority().val())+":"),this.forEachChild(Ut,(n,s)=>{const a=s.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":Px(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const a=this.resolveIndex_(s);if(a){const l=a.getPredecessorKey(new qe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new qe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new qe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,qe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,qe.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yh?-1:0}withIndex(e){if(e===Rl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Rl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ut),a=n.getIterator(Ut);let l=s.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=s.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Rl?null:this.indexMap_.get(e.toString())}}Pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rz extends Pe{constructor(){super(new Wn(M_),Pe.EMPTY_NODE,rr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Pe.EMPTY_NODE}isEmpty(){return!1}}const yh=new rz;Object.defineProperties(qe,{MIN:{value:new qe(Ol,Pe.EMPTY_NODE)},MAX:{value:new qe(bo,yh)}});iN.__EMPTY_NODE=Pe.EMPTY_NODE;on.__childrenNodeConstructor=Pe;JV(yh);tz(yh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=!0;function un(t,e=null){if(t===null)return Pe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new on(n,un(e))}if(!(t instanceof Array)&&az){const n=[];let s=!1;if(bn(t,(u,h)=>{if(u.substring(0,1)!=="."){const d=un(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),n.push(new qe(u,d)))}}),n.length===0)return Pe.EMPTY_NODE;const l=Od(n,ZV,u=>u.name,M_);if(s){const u=Od(n,Ut.getCompare());return new Pe(l,un(e),new rr({".priority":u},{".priority":Ut}))}else return new Pe(l,un(e),rr.Default)}else{let n=Pe.EMPTY_NODE;return bn(t,(s,a)=>{if(Ms(t,s)&&s.substring(0,1)!=="."){const l=un(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(s,l))}}),n.updatePriority(un(e))}}ez(un);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz extends ap{constructor(e){super(),this.indexPath_=e,he(!Ke(e)&&Ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),a=this.extractChild(n.node),l=s.compareTo(a);return l===0?Ao(e.name,n.name):l}makePost(e,n){const s=un(e),a=Pe.EMPTY_NODE.updateChild(this.indexPath_,s);return new qe(n,a)}maxPost(){const e=Pe.EMPTY_NODE.updateChild(this.indexPath_,yh);return new qe(bo,e)}toString(){return qc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz extends ap{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Ao(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return qe.MIN}maxPost(){return qe.MAX}makePost(e,n){const s=un(e);return new qe(n,s)}toString(){return".value"}}const uz=new lz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){return{type:"value",snapshotNode:t}}function Pl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $c(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function cz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.index_=e}updateChild(e,n,s,a,l,u){he(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(a).equals(s.getChild(a))&&h.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?e.hasChild(n)?u.trackChildChange(Yc(n,h)):he(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(Pl(n,s)):u.trackChildChange($c(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ut,(a,l)=>{n.hasChild(a)||s.trackChildChange(Yc(a,l))}),n.isLeafNode()||n.forEachChild(Ut,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||s.trackChildChange($c(a,l,u))}else s.trackChildChange(Pl(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Pe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.indexedFilter_=new O_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Kc.getStartPost_(e),this.endPost_=Kc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,a,l,u){return this.matches(new qe(n,s))||(s=Pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,a,l,u)}updateFullNode(e,n,s){n.isLeafNode()&&(n=Pe.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Pe.EMPTY_NODE);const l=this;return n.forEachChild(Ut,(u,h)=>{l.matches(new qe(u,h))||(a=a.updateImmediateChild(u,Pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Kc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,a,l,u){return this.rangedFilter_.matches(new qe(n,s))||(s=Pe.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,a,l,u):this.fullLimitUpdateChild_(e,n,s,l,u)}updateFullNode(e,n,s){let a;if(n.isLeafNode()||n.isEmpty())a=Pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=Pe.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(Pe.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const h=l.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:a=a.updateImmediateChild(h.name,Pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,a,l){let u;if(this.reverse_){const v=this.index_.getCompare();u=(b,w)=>v(w,b)}else u=this.index_.getCompare();const h=e;he(h.numChildren()===this.limit_,"");const d=new qe(n,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(d);if(h.hasChild(n)){const v=h.getImmediateChild(n);let b=a.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===n||h.hasChild(b.name));)b=a.getChildAfterChild(this.index_,b,this.reverse_);const w=b==null?1:u(b,d);if(y&&!s.isEmpty()&&w>=0)return l?.trackChildChange($c(n,s,v)),h.updateImmediateChild(n,s);{l?.trackChildChange(Yc(n,v));const z=h.updateImmediateChild(n,Pe.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(l?.trackChildChange(Pl(b.name,b.node)),z.updateImmediateChild(b.name,b.node)):z}}else return s.isEmpty()?e:y&&u(m,d)>=0?(l!=null&&(l.trackChildChange(Yc(m.name,m.node)),l.trackChildChange(Pl(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(m.name,Pe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ol}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const e=new op;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fz(t){return t.loadsAllData()?new O_(t.getIndex()):t.hasLimit()?new hz(t):new Kc(t)}function x1(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ut?n="$priority":t.index_===uz?n="$value":t.index_===Rl?n="$key":(he(t.index_ instanceof oz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=cn(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=cn(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+cn(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=cn(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+cn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function N1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ut&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Jx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=gh("p:rest:"),this.listens_={}}listen(e,n,s,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Pd.getListenId_(e,s),h={};this.listens_[u]=h;const d=x1(e._queryParams);this.restRequest_(l+".json",d,(m,y)=>{let v=y;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(l,v,!1,s),Dl(this.listens_,u)===h){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",a(b,null)}})}unlisten(e,n){const s=Pd.getListenId_(e,n);delete this.listens_[s]}get(e){const n=x1(e._queryParams),s=e._path.toString(),a=new ah;return this.restRequest_(s+".json",n,(l,u)=>{let h=u;l===404&&(h=null,l=null),l===null?(this.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Hl(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Vc(h.responseText)}catch{Ln("Failed to parse JSON response for "+u+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&Ln("Got unsuccessful REST response for "+u+" Status: "+h.status),s(h.status);s=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.rootNode_=Pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){return{value:null,children:new Map}}function uN(t,e,n){if(Ke(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Ge(e);t.children.has(s)||t.children.set(s,kd());const a=t.children.get(s);e=Et(e),uN(a,e,n)}}function $y(t,e,n){t.value!==null?n(e,t.value):pz(t,(s,a)=>{const l=new pt(e.toString()+"/"+s);$y(a,l,n)})}function pz(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&bn(this.last_,(s,a)=>{n[s]=n[s]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=10*1e3,gz=30*1e3,yz=300*1e3;class vz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mz(e);const s=I1+(gz-I1)*Math.random();Cc(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;bn(e,(a,l)=>{l>0&&Ms(this.statsToReport_,a)&&(n[a]=l,s=!0)}),s&&this.server_.reportStats(n),Cc(this.reportStats_.bind(this),Math.floor(Math.random()*2*yz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(as||(as={}));function P_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function k_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function L_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=as.ACK_USER_WRITE,this.source=P_()}operationForChild(e){if(Ke(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pt(e));return new Ld(rt(),n,this.revert)}}else return he(Ge(this.path)===e,"operationForChild called for unrelated child."),new Ld(Et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.source=e,this.path=n,this.type=as.LISTEN_COMPLETE}operationForChild(e){return Ke(this.path)?new Wc(this.source,rt()):new Wc(this.source,Et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=as.OVERWRITE}operationForChild(e){return Ke(this.path)?new Eo(this.source,rt(),this.snap.getImmediateChild(e)):new Eo(this.source,Et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=as.MERGE}operationForChild(e){if(Ke(this.path)){const n=this.children.subtree(new pt(e));return n.isEmpty()?null:n.value?new Eo(this.source,rt(),n.value):new kl(this.source,rt(),n)}else return he(Ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new kl(this.source,Et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ke(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bz(t,e,n,s){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(cz(u.childName,u.snapshotNode))}),rc(t,a,"child_removed",e,s,n),rc(t,a,"child_added",e,s,n),rc(t,a,"child_moved",l,s,n),rc(t,a,"child_changed",e,s,n),rc(t,a,"value",e,s,n),a}function rc(t,e,n,s,a,l){const u=s.filter(h=>h.type===n);u.sort((h,d)=>Sz(t,h,d)),u.forEach(h=>{const d=Ez(t,h,l);a.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(d,t.query_))})})}function Ez(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Sz(t,e,n){if(e.childName==null||n.childName==null)throw Fl("Should only compare child_ events.");const s=new qe(e.childName,e.snapshotNode),a=new qe(n.childName,n.snapshotNode);return t.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e){return{eventCache:t,serverCache:e}}function Ac(t,e,n,s){return lp(new So(e,n,s),t.serverCache)}function cN(t,e,n,s){return lp(t.eventCache,new So(e,n,s))}function Ky(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny;const wz=()=>(ny||(ny=new Wn(oV)),ny);class bt{static fromObject(e){let n=new bt(null);return bn(e,(s,a)=>{n=n.set(new pt(s),a)}),n}constructor(e,n=wz()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:rt(),value:this.value};if(Ke(e))return null;{const s=Ge(e),a=this.children.get(s);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Et(e),n);return l!=null?{path:Lt(new pt(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ke(e))return this;{const n=Ge(e),s=this.children.get(n);return s!==null?s.subtree(Et(e)):new bt(null)}}set(e,n){if(Ke(e))return new bt(n,this.children);{const s=Ge(e),l=(this.children.get(s)||new bt(null)).set(Et(e),n),u=this.children.insert(s,l);return new bt(this.value,u)}}remove(e){if(Ke(e))return this.children.isEmpty()?new bt(null):new bt(null,this.children);{const n=Ge(e),s=this.children.get(n);if(s){const a=s.remove(Et(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new bt(null):new bt(this.value,l)}else return this}}get(e){if(Ke(e))return this.value;{const n=Ge(e),s=this.children.get(n);return s?s.get(Et(e)):null}}setTree(e,n){if(Ke(e))return n;{const s=Ge(e),l=(this.children.get(s)||new bt(null)).setTree(Et(e),n);let u;return l.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,l),new bt(this.value,u)}}fold(e){return this.fold_(rt(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((a,l)=>{s[a]=l.fold_(Lt(e,a),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,rt(),n)}findOnPath_(e,n,s){const a=this.value?s(n,this.value):!1;if(a)return a;if(Ke(e))return null;{const l=Ge(e),u=this.children.get(l);return u?u.findOnPath_(Et(e),Lt(n,l),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,rt(),n)}foreachOnPath_(e,n,s){if(Ke(e))return this;{this.value&&s(n,this.value);const a=Ge(e),l=this.children.get(a);return l?l.foreachOnPath_(Et(e),Lt(n,a),s):new bt(null)}}foreach(e){this.foreach_(rt(),e)}foreach_(e,n){this.children.inorderTraversal((s,a)=>{a.foreach_(Lt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.writeTree_=e}static empty(){return new us(new bt(null))}}function Rc(t,e,n){if(Ke(e))return new us(new bt(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let l=s.value;const u=Kn(a,e);return l=l.updateChild(u,n),new us(t.writeTree_.set(a,l))}else{const a=new bt(n),l=t.writeTree_.setTree(e,a);return new us(l)}}}function Wy(t,e,n){let s=t;return bn(n,(a,l)=>{s=Rc(s,Lt(e,a),l)}),s}function D1(t,e){if(Ke(e))return us.empty();{const n=t.writeTree_.setTree(e,new bt(null));return new us(n)}}function Xy(t,e){return Ro(t,e)!=null}function Ro(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Kn(n.path,e)):null}function M1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ut,(s,a)=>{e.push(new qe(s,a))}):t.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new qe(s,a.value))}),e}function ia(t,e){if(Ke(e))return t;{const n=Ro(t,e);return n!=null?new us(new bt(n)):new us(t.writeTree_.subtree(e))}}function Qy(t){return t.writeTree_.isEmpty()}function Ll(t,e){return hN(rt(),t.writeTree_,e)}function hN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(he(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):n=hN(Lt(t,a),l,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Lt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){return mN(e,t)}function Tz(t,e,n,s,a){he(s>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:a}),a&&(t.visibleWrites=Rc(t.visibleWrites,e,n)),t.lastWriteId=s}function Cz(t,e,n,s){he(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Wy(t.visibleWrites,e,n),t.lastWriteId=s}function Az(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function Rz(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let a=s.visible,l=!1,u=t.allWrites.length-1;for(;a&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&xz(h,s.path)?a=!1:ki(s.path,h.path)&&(l=!0)),u--}if(a){if(l)return Nz(t),!0;if(s.snap)t.visibleWrites=D1(t.visibleWrites,s.path);else{const h=s.children;bn(h,d=>{t.visibleWrites=D1(t.visibleWrites,Lt(s.path,d))})}return!0}else return!1}function xz(t,e){if(t.snap)return ki(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ki(Lt(t.path,n),e))return!0;return!1}function Nz(t){t.visibleWrites=fN(t.allWrites,Iz,rt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Iz(t){return t.visible}function fN(t,e,n){let s=us.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const u=l.path;let h;if(l.snap)ki(n,u)?(h=Kn(n,u),s=Rc(s,h,l.snap)):ki(u,n)&&(h=Kn(u,n),s=Rc(s,rt(),l.snap.getChild(h)));else if(l.children){if(ki(n,u))h=Kn(n,u),s=Wy(s,h,l.children);else if(ki(u,n))if(h=Kn(u,n),Ke(h))s=Wy(s,rt(),l.children);else{const d=Dl(l.children,Ge(h));if(d){const m=d.getChild(Et(h));s=Rc(s,rt(),m)}}}else throw Fl("WriteRecord should have .snap or .children")}}return s}function dN(t,e,n,s,a){if(!s&&!a){const l=Ro(t.visibleWrites,e);if(l!=null)return l;{const u=ia(t.visibleWrites,e);if(Qy(u))return n;if(n==null&&!Xy(u,rt()))return null;{const h=n||Pe.EMPTY_NODE;return Ll(u,h)}}}else{const l=ia(t.visibleWrites,e);if(!a&&Qy(l))return n;if(!a&&n==null&&!Xy(l,rt()))return null;{const u=function(m){return(m.visible||a)&&(!s||!~s.indexOf(m.writeId))&&(ki(m.path,e)||ki(e,m.path))},h=fN(t.allWrites,u,e),d=n||Pe.EMPTY_NODE;return Ll(h,d)}}}function Dz(t,e,n){let s=Pe.EMPTY_NODE;const a=Ro(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Ut,(l,u)=>{s=s.updateImmediateChild(l,u)}),s;if(n){const l=ia(t.visibleWrites,e);return n.forEachChild(Ut,(u,h)=>{const d=Ll(ia(l,new pt(u)),h);s=s.updateImmediateChild(u,d)}),M1(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const l=ia(t.visibleWrites,e);return M1(l).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function Mz(t,e,n,s,a){he(s||a,"Either existingEventSnap or existingServerSnap must exist");const l=Lt(e,n);if(Xy(t.visibleWrites,l))return null;{const u=ia(t.visibleWrites,l);return Qy(u)?a.getChild(n):Ll(u,a.getChild(n))}}function Oz(t,e,n,s){const a=Lt(e,n),l=Ro(t.visibleWrites,a);if(l!=null)return l;if(s.isCompleteForChild(n)){const u=ia(t.visibleWrites,a);return Ll(u,s.getNode().getImmediateChild(n))}else return null}function Pz(t,e){return Ro(t.visibleWrites,e)}function kz(t,e,n,s,a,l,u){let h;const d=ia(t.visibleWrites,e),m=Ro(d,rt());if(m!=null)h=m;else if(n!=null)h=Ll(d,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=u.getCompare(),b=l?h.getReverseIteratorFrom(s,u):h.getIteratorFrom(s,u);let w=b.getNext();for(;w&&y.length<a;)v(w,s)!==0&&y.push(w),w=b.getNext();return y}else return[]}function Lz(){return{visibleWrites:us.empty(),allWrites:[],lastWriteId:-1}}function Ud(t,e,n,s){return dN(t.writeTree,t.treePath,e,n,s)}function j_(t,e){return Dz(t.writeTree,t.treePath,e)}function O1(t,e,n,s){return Mz(t.writeTree,t.treePath,e,n,s)}function jd(t,e){return Pz(t.writeTree,Lt(t.treePath,e))}function Uz(t,e,n,s,a,l){return kz(t.writeTree,t.treePath,e,n,s,a,l)}function V_(t,e,n){return Oz(t.writeTree,t.treePath,e,n)}function pN(t,e){return mN(Lt(t.treePath,e),t.writeTree)}function mN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(s,$c(s,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(s,Yc(s,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(s,Pl(s,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(s,$c(s,e.snapshotNode,a.oldSnap));else throw Fl("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const gN=new Vz;class z_{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new So(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return V_(this.writes_,e,s)}}getChildAfterChild(e,n,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wo(this.viewCache_),l=Uz(this.writes_,a,n,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){return{filter:t}}function Bz(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Fz(t,e,n,s,a){const l=new jz;let u,h;if(n.type===as.OVERWRITE){const m=n;m.source.fromUser?u=Zy(t,e,m.path,m.snap,s,a,l):(he(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Ke(m.path),u=Vd(t,e,m.path,m.snap,s,a,h,l))}else if(n.type===as.MERGE){const m=n;m.source.fromUser?u=Gz(t,e,m.path,m.children,s,a,l):(he(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),u=Jy(t,e,m.path,m.children,s,a,h,l))}else if(n.type===as.ACK_USER_WRITE){const m=n;m.revert?u=$z(t,e,m.path,s,a,l):u=qz(t,e,m.path,m.affectedTree,s,a,l)}else if(n.type===as.LISTEN_COMPLETE)u=Yz(t,e,n.path,s,l);else throw Fl("Unknown operation type: "+n.type);const d=l.getChanges();return Hz(e,u,d),{viewCache:u,changes:d}}function Hz(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=Ky(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&n.push(lN(Ky(e)))}}function yN(t,e,n,s,a,l){const u=e.eventCache;if(jd(s,n)!=null)return e;{let h,d;if(Ke(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=wo(e),y=m instanceof Pe?m:Pe.EMPTY_NODE,v=j_(s,y);h=t.filter.updateFullNode(e.eventCache.getNode(),v,l)}else{const m=Ud(s,wo(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=Ge(n);if(m===".priority"){he(la(n)===1,"Can't have a priority with additional path components");const y=u.getNode();d=e.serverCache.getNode();const v=O1(s,n,y,d);v!=null?h=t.filter.updatePriority(y,v):h=u.getNode()}else{const y=Et(n);let v;if(u.isCompleteForChild(m)){d=e.serverCache.getNode();const b=O1(s,n,u.getNode(),d);b!=null?v=u.getNode().getImmediateChild(m).updateChild(y,b):v=u.getNode().getImmediateChild(m)}else v=V_(s,m,e.serverCache);v!=null?h=t.filter.updateChild(u.getNode(),m,v,y,a,l):h=u.getNode()}}return Ac(e,h,u.isFullyInitialized()||Ke(n),t.filter.filtersNodes())}}function Vd(t,e,n,s,a,l,u,h){const d=e.serverCache;let m;const y=u?t.filter:t.filter.getIndexedFilter();if(Ke(n))m=y.updateFullNode(d.getNode(),s,null);else if(y.filtersNodes()&&!d.isFiltered()){const w=d.getNode().updateChild(n,s);m=y.updateFullNode(d.getNode(),w,null)}else{const w=Ge(n);if(!d.isCompleteForPath(n)&&la(n)>1)return e;const N=Et(n),V=d.getNode().getImmediateChild(w).updateChild(N,s);w===".priority"?m=y.updatePriority(d.getNode(),V):m=y.updateChild(d.getNode(),w,V,N,gN,null)}const v=cN(e,m,d.isFullyInitialized()||Ke(n),y.filtersNodes()),b=new z_(a,v,l);return yN(t,v,n,a,b,h)}function Zy(t,e,n,s,a,l,u){const h=e.eventCache;let d,m;const y=new z_(a,e,l);if(Ke(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,u),d=Ac(e,m,!0,t.filter.filtersNodes());else{const v=Ge(n);if(v===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),d=Ac(e,m,h.isFullyInitialized(),h.isFiltered());else{const b=Et(n),w=h.getNode().getImmediateChild(v);let N;if(Ke(b))N=s;else{const z=y.getCompleteChild(v);z!=null?N_(b)===".priority"&&z.getChild(tN(b)).isEmpty()?N=z:N=z.updateChild(b,s):N=Pe.EMPTY_NODE}if(w.equals(N))d=e;else{const z=t.filter.updateChild(h.getNode(),v,N,b,y,u);d=Ac(e,z,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function P1(t,e){return t.eventCache.isCompleteForChild(e)}function Gz(t,e,n,s,a,l,u){let h=e;return s.foreach((d,m)=>{const y=Lt(n,d);P1(e,Ge(y))&&(h=Zy(t,h,y,m,a,l,u))}),s.foreach((d,m)=>{const y=Lt(n,d);P1(e,Ge(y))||(h=Zy(t,h,y,m,a,l,u))}),h}function k1(t,e,n){return n.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function Jy(t,e,n,s,a,l,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;Ke(n)?m=s:m=new bt(null).setTree(n,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((v,b)=>{if(y.hasChild(v)){const w=e.serverCache.getNode().getImmediateChild(v),N=k1(t,w,b);d=Vd(t,d,new pt(v),N,a,l,u,h)}}),m.children.inorderTraversal((v,b)=>{const w=!e.serverCache.isCompleteForChild(v)&&b.value===null;if(!y.hasChild(v)&&!w){const N=e.serverCache.getNode().getImmediateChild(v),z=k1(t,N,b);d=Vd(t,d,new pt(v),z,a,l,u,h)}}),d}function qz(t,e,n,s,a,l,u){if(jd(a,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(s.value!=null){if(Ke(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Vd(t,e,n,d.getNode().getChild(n),a,l,h,u);if(Ke(n)){let m=new bt(null);return d.getNode().forEachChild(Rl,(y,v)=>{m=m.set(new pt(y),v)}),Jy(t,e,n,m,a,l,h,u)}else return e}else{let m=new bt(null);return s.foreach((y,v)=>{const b=Lt(n,y);d.isCompleteForPath(b)&&(m=m.set(y,d.getNode().getChild(b)))}),Jy(t,e,n,m,a,l,h,u)}}function Yz(t,e,n,s,a){const l=e.serverCache,u=cN(e,l.getNode(),l.isFullyInitialized()||Ke(n),l.isFiltered());return yN(t,u,n,s,gN,a)}function $z(t,e,n,s,a,l){let u;if(jd(s,n)!=null)return e;{const h=new z_(s,e,a),d=e.eventCache.getNode();let m;if(Ke(n)||Ge(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Ud(s,wo(e));else{const v=e.serverCache.getNode();he(v instanceof Pe,"serverChildren would be complete if leaf node"),y=j_(s,v)}y=y,m=t.filter.updateFullNode(d,y,l)}else{const y=Ge(n);let v=V_(s,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=d.getImmediateChild(y)),v!=null?m=t.filter.updateChild(d,y,v,Et(n),h,l):e.eventCache.getNode().hasChild(y)?m=t.filter.updateChild(d,y,Pe.EMPTY_NODE,Et(n),h,l):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Ud(s,wo(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||jd(s,rt())!=null,Ac(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new O_(s.getIndex()),l=fz(s);this.processor_=zz(l);const u=n.serverCache,h=n.eventCache,d=a.updateFullNode(Pe.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(Pe.EMPTY_NODE,h.getNode(),null),y=new So(d,u.isFullyInitialized(),a.filtersNodes()),v=new So(m,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=lp(v,y),this.eventGenerator_=new _z(this.query_)}get query(){return this.query_}}function Wz(t){return t.viewCache_.serverCache.getNode()}function Xz(t,e){const n=wo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ke(e)&&!n.getImmediateChild(Ge(e)).isEmpty())?n.getChild(e):null}function L1(t){return t.eventRegistrations_.length===0}function Qz(t,e){t.eventRegistrations_.push(e)}function U1(t,e,n){const s=[];if(n){he(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,a);u&&s.push(u)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return s}function j1(t,e,n,s){e.type===as.MERGE&&e.source.queryId!==null&&(he(wo(t.viewCache_),"We should always have a full cache before handling merges"),he(Ky(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=Fz(t.processor_,a,e,n,s);return Bz(t.processor_,l.viewCache),he(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,vN(t,l.changes,l.viewCache.eventCache.getNode(),null)}function Zz(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ut,(l,u)=>{s.push(Pl(l,u))}),n.isFullyInitialized()&&s.push(lN(n.getNode())),vN(t,s,n.getNode(),e)}function vN(t,e,n,s){const a=s?[s]:t.eventRegistrations_;return bz(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;class Jz{constructor(){this.views=new Map}}function eB(t){he(!zd,"__referenceConstructor has already been defined"),zd=t}function tB(){return he(zd,"Reference.ts has not been loaded"),zd}function nB(t){return t.views.size===0}function B_(t,e,n,s){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return he(l!=null,"SyncTree gave us an op for an invalid query."),j1(l,e,n,s)}else{let l=[];for(const u of t.views.values())l=l.concat(j1(u,e,n,s));return l}}function iB(t,e,n,s,a){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let h=Ud(n,a?s:null),d=!1;h?d=!0:s instanceof Pe?(h=j_(n,s),d=!1):(h=Pe.EMPTY_NODE,d=!1);const m=lp(new So(h,d,!1),new So(s,a,!1));return new Kz(e,m)}return u}function sB(t,e,n,s,a,l){const u=iB(t,e,s,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),Qz(u,n),Zz(u,n)}function rB(t,e,n,s){const a=e._queryIdentifier,l=[];let u=[];const h=ua(t);if(a==="default")for(const[d,m]of t.views.entries())u=u.concat(U1(m,n,s)),L1(m)&&(t.views.delete(d),m.query._queryParams.loadsAllData()||l.push(m.query));else{const d=t.views.get(a);d&&(u=u.concat(U1(d,n,s)),L1(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||l.push(d.query)))}return h&&!ua(t)&&l.push(new(tB())(e._repo,e._path)),{removed:l,events:u}}function _N(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function xl(t,e){let n=null;for(const s of t.views.values())n=n||Xz(s,e);return n}function bN(t,e){if(e._queryParams.loadsAllData())return up(t);{const s=e._queryIdentifier;return t.views.get(s)}}function EN(t,e){return bN(t,e)!=null}function ua(t){return up(t)!=null}function up(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd;function aB(t){he(!Bd,"__referenceConstructor has already been defined"),Bd=t}function oB(){return he(Bd,"Reference.ts has not been loaded"),Bd}let lB=1;class V1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new bt(null),this.pendingWriteTree_=Lz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SN(t,e,n,s,a){return Tz(t.pendingWriteTree_,e,n,s,a),a?Yl(t,new Eo(P_(),e,n)):[]}function uB(t,e,n,s){Cz(t.pendingWriteTree_,e,n,s);const a=bt.fromObject(n);return Yl(t,new kl(P_(),e,a))}function ea(t,e,n=!1){const s=Az(t.pendingWriteTree_,e);if(Rz(t.pendingWriteTree_,e)){let l=new bt(null);return s.snap!=null?l=l.set(rt(),!0):bn(s.children,u=>{l=l.set(new pt(u),!0)}),Yl(t,new Ld(s.path,l,n))}else return[]}function cp(t,e,n){return Yl(t,new Eo(k_(),e,n))}function cB(t,e,n){const s=bt.fromObject(n);return Yl(t,new kl(k_(),e,s))}function hB(t,e){return Yl(t,new Wc(k_(),e))}function fB(t,e,n){const s=H_(t,n);if(s){const a=G_(s),l=a.path,u=a.queryId,h=Kn(l,e),d=new Wc(L_(u),h);return q_(t,l,d)}else return[]}function ev(t,e,n,s,a=!1){const l=e._path,u=t.syncPointTree_.get(l);let h=[];if(u&&(e._queryIdentifier==="default"||EN(u,e))){const d=rB(u,e,n,s);nB(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=d.removed;if(h=d.events,!a){const y=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(l,(b,w)=>ua(w));if(y&&!v){const b=t.syncPointTree_.subtree(l);if(!b.isEmpty()){const w=mB(b);for(let N=0;N<w.length;++N){const z=w[N],V=z.query,F=CN(t,z);t.listenProvider_.startListening(xc(V),Fd(t,V),F.hashFn,F.onComplete)}}}!v&&m.length>0&&!s&&(y?t.listenProvider_.stopListening(xc(e),null):m.forEach(b=>{const w=t.queryToTagMap.get(hp(b));t.listenProvider_.stopListening(xc(b),w)}))}gB(t,m)}return h}function dB(t,e,n,s){const a=H_(t,s);if(a!=null){const l=G_(a),u=l.path,h=l.queryId,d=Kn(u,e),m=new Eo(L_(h),d,n);return q_(t,u,m)}else return[]}function pB(t,e,n,s){const a=H_(t,s);if(a){const l=G_(a),u=l.path,h=l.queryId,d=Kn(u,e),m=bt.fromObject(n),y=new kl(L_(h),d,m);return q_(t,u,y)}else return[]}function z1(t,e,n,s=!1){const a=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(a,(b,w)=>{const N=Kn(b,a);l=l||xl(w,N),u=u||ua(w)});let h=t.syncPointTree_.get(a);h?(u=u||ua(h),l=l||xl(h,rt())):(h=new Jz,t.syncPointTree_=t.syncPointTree_.set(a,h));let d;l!=null?d=!0:(d=!1,l=Pe.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((w,N)=>{const z=xl(N,rt());z&&(l=l.updateImmediateChild(w,z))}));const m=EN(h,e);if(!m&&!e._queryParams.loadsAllData()){const b=hp(e);he(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const w=yB();t.queryToTagMap.set(b,w),t.tagToQueryMap.set(w,b)}const y=U_(t.pendingWriteTree_,a);let v=sB(h,e,n,y,l,d);if(!m&&!u&&!s){const b=bN(h,e);v=v.concat(vB(t,e,b))}return v}function F_(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,h)=>{const d=Kn(u,e),m=xl(h,d);if(m)return m});return dN(a,e,l,n,!0)}function Yl(t,e){return wN(e,t.syncPointTree_,null,U_(t.pendingWriteTree_,rt()))}function wN(t,e,n,s){if(Ke(t.path))return TN(t,e,n,s);{const a=e.get(rt());n==null&&a!=null&&(n=xl(a,rt()));let l=[];const u=Ge(t.path),h=t.operationForChild(u),d=e.children.get(u);if(d&&h){const m=n?n.getImmediateChild(u):null,y=pN(s,u);l=l.concat(wN(h,d,m,y))}return a&&(l=l.concat(B_(a,t,s,n))),l}}function TN(t,e,n,s){const a=e.get(rt());n==null&&a!=null&&(n=xl(a,rt()));let l=[];return e.children.inorderTraversal((u,h)=>{const d=n?n.getImmediateChild(u):null,m=pN(s,u),y=t.operationForChild(u);y&&(l=l.concat(TN(y,h,d,m)))}),a&&(l=l.concat(B_(a,t,s,n))),l}function CN(t,e){const n=e.query,s=Fd(t,n);return{hashFn:()=>(Wz(e)||Pe.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?fB(t,n._path,s):hB(t,n._path);{const l=cV(a,n);return ev(t,n,null,l)}}}}function Fd(t,e){const n=hp(e);return t.queryToTagMap.get(n)}function hp(t){return t._path.toString()+"$"+t._queryIdentifier}function H_(t,e){return t.tagToQueryMap.get(e)}function G_(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pt(t.substr(0,e))}}function q_(t,e,n){const s=t.syncPointTree_.get(e);he(s,"Missing sync point for query tag that we're tracking");const a=U_(t.pendingWriteTree_,e);return B_(s,n,a,null)}function mB(t){return t.fold((e,n,s)=>{if(n&&ua(n))return[up(n)];{let a=[];return n&&(a=_N(n)),bn(s,(l,u)=>{a=a.concat(u)}),a}})}function xc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(oB())(t._repo,t._path):t}function gB(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const a=hp(s),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function yB(){return lB++}function vB(t,e,n){const s=e._path,a=Fd(t,e),l=CN(t,n),u=t.listenProvider_.startListening(xc(e),a,l.hashFn,l.onComplete),h=t.syncPointTree_.subtree(s);if(a)he(!ua(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((m,y,v)=>{if(!Ke(m)&&y&&ua(y))return[up(y).query];{let b=[];return y&&(b=b.concat(_N(y).map(w=>w.query))),bn(v,(w,N)=>{b=b.concat(N)}),b}});for(let m=0;m<d.length;++m){const y=d[m];t.listenProvider_.stopListening(xc(y),Fd(t,y))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Y_(n)}node(){return this.node_}}class $_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Lt(this.path_,e);return new $_(this.syncTree_,n)}node(){return F_(this.syncTree_,this.path_)}}const _B=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},B1=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return EB(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},EB=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&he(!1,"Unexpected increment value: "+s);const a=e.node();if(he(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const u=a.getValue();return typeof u!="number"?s:u+s},AN=function(t,e,n,s){return K_(e,new $_(n,t),s)},RN=function(t,e,n){return K_(t,new Y_(e),n)};function K_(t,e,n){const s=t.getPriority().val(),a=B1(s,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,h=B1(u.getValue(),e,n);return h!==u.getValue()||a!==u.getPriority().val()?new on(h,un(a)):t}else{const u=t;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new on(a))),u.forEachChild(Ut,(h,d)=>{const m=K_(d,e.getImmediateChild(h),n);m!==d&&(l=l.updateImmediateChild(h,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function X_(t,e){let n=e instanceof pt?e:new pt(e),s=t,a=Ge(n);for(;a!==null;){const l=Dl(s.node.children,a)||{children:{},childCount:0};s=new W_(a,s,l),n=Et(n),a=Ge(n)}return s}function $l(t){return t.node.value}function xN(t,e){t.node.value=e,tv(t)}function NN(t){return t.node.childCount>0}function SB(t){return $l(t)===void 0&&!NN(t)}function fp(t,e){bn(t.node.children,(n,s)=>{e(new W_(n,t,s))})}function IN(t,e,n,s){n&&e(t),fp(t,a=>{IN(a,e,!0)})}function wB(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function vh(t){return new pt(t.parent===null?t.name:vh(t.parent)+"/"+t.name)}function tv(t){t.parent!==null&&TB(t.parent,t.name,t)}function TB(t,e,n){const s=SB(n),a=Ms(t.node.children,e);s&&a?(delete t.node.children[e],t.node.childCount--,tv(t)):!s&&!a&&(t.node.children[e]=n.node,t.node.childCount++,tv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=/[\[\].#$\/\u0000-\u001F\u007F]/,AB=/[\[\].#$\u0000-\u001F\u007F]/,iy=10*1024*1024,Q_=function(t){return typeof t=="string"&&t.length!==0&&!CB.test(t)},DN=function(t){return typeof t=="string"&&t.length!==0&&!AB.test(t)},RB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),DN(t)},xB=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!T_(t)||t&&typeof t=="object"&&Ms(t,".sv")},MN=function(t,e,n,s){s&&e===void 0||dp(Jd(t,"value"),e,n)},dp=function(t,e,n){const s=n instanceof pt?new GV(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+eo(s));if(typeof e=="function")throw new Error(t+"contains a function "+eo(s)+" with contents = "+e.toString());if(T_(e))throw new Error(t+"contains "+e.toString()+" "+eo(s));if(typeof e=="string"&&e.length>iy/3&&ep(e)>iy)throw new Error(t+"contains a string greater than "+iy+" utf8 bytes "+eo(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(bn(e,(u,h)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Q_(u)))throw new Error(t+" contains an invalid key ("+u+") "+eo(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qV(s,u),dp(t,h,s),YV(s)}),a&&l)throw new Error(t+' contains ".value" child '+eo(s)+" in addition to actual children.")}},NB=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const l=qc(s);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Q_(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(HV);let a=null;for(n=0;n<e.length;n++){if(s=e[n],a!==null&&ki(a,s))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}},IB=function(t,e,n,s){const a=Jd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const l=[];bn(e,(u,h)=>{const d=new pt(u);if(dp(a,h,Lt(n,d)),N_(d)===".priority"&&!xB(h))throw new Error(a+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(d)}),NB(a,l)},Z_=function(t,e,n,s){if(!DN(n))throw new Error(Jd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DB=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Z_(t,e,n)},J_=function(t,e){if(Ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},MB=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Q_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!RB(n))throw new Error(Jd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pp(t,e){let n=null;for(let s=0;s<e.length;s++){const a=e[s],l=a.getPath();n!==null&&!I_(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function ON(t,e,n){pp(t,n),PN(t,s=>I_(s,e))}function cs(t,e,n){pp(t,n),PN(t,s=>ki(s,e)||ki(e,s))}function PN(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const a=t.eventLists_[s];if(a){const l=a.path;e(l)?(PB(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function PB(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Tc&&_n("event: "+n.toString()),ql(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="repo_interrupt",LB=25;class UB{constructor(e,n,s,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kd(),this.transactionQueueTree_=new W_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jB(t,e,n){if(t.stats_=R_(t.repoInfo_),t.forceRestClient_||pV())t.server_=new Pd(t.repoInfo_,(s,a,l,u)=>{F1(t,s,a,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>H1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{cn(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new or(t.repoInfo_,e,(s,a,l,u)=>{F1(t,s,a,l,u)},s=>{H1(t,s)},s=>{VB(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=_V(t.repoInfo_,()=>new vz(t.stats_,t.server_)),t.infoData_=new dz,t.infoSyncTree_=new V1({startListening:(s,a,l,u)=>{let h=[];const d=t.infoData_.getNode(s._path);return d.isEmpty()||(h=cp(t.infoSyncTree_,s._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),e0(t,"connected",!1),t.serverSyncTree_=new V1({startListening:(s,a,l,u)=>(t.server_.listen(s,l,a,(h,d)=>{const m=u(h,d);cs(t.eventQueue_,s._path,m)}),[]),stopListening:(s,a)=>{t.server_.unlisten(s,a)}})}function kN(t){const n=t.infoData_.getNode(new pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mp(t){return _B({timestamp:kN(t)})}function F1(t,e,n,s,a){t.dataUpdateCount++;const l=new pt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(a)if(s){const d=bd(n,m=>un(m));u=pB(t.serverSyncTree_,l,d,a)}else{const d=un(n);u=dB(t.serverSyncTree_,l,d,a)}else if(s){const d=bd(n,m=>un(m));u=cB(t.serverSyncTree_,l,d)}else{const d=un(n);u=cp(t.serverSyncTree_,l,d)}let h=l;u.length>0&&(h=Ul(t,l)),cs(t.eventQueue_,h,u)}function H1(t,e){e0(t,"connected",e),e===!1&&FB(t)}function VB(t,e){bn(e,(n,s)=>{e0(t,n,s)})}function e0(t,e,n){const s=new pt("/.info/"+e),a=un(n);t.infoData_.updateSnapshot(s,a);const l=cp(t.infoSyncTree_,s,a);cs(t.eventQueue_,s,l)}function t0(t){return t.nextWriteId_++}function zB(t,e,n,s,a){gp(t,"set",{path:e.toString(),value:n,priority:s});const l=mp(t),u=un(n,s),h=F_(t.serverSyncTree_,e),d=RN(u,h,l),m=t0(t),y=SN(t.serverSyncTree_,e,d,m,!0);pp(t.eventQueue_,y),t.server_.put(e.toString(),u.val(!0),(b,w)=>{const N=b==="ok";N||Ln("set at "+e+" failed: "+b);const z=ea(t.serverSyncTree_,m,!N);cs(t.eventQueue_,e,z),iv(t,a,b,w)});const v=i0(t,e);Ul(t,v),cs(t.eventQueue_,v,[])}function BB(t,e,n,s){gp(t,"update",{path:e.toString(),value:n});let a=!0;const l=mp(t),u={};if(bn(n,(h,d)=>{a=!1,u[h]=AN(Lt(e,h),un(d),t.serverSyncTree_,l)}),a)_n("update() called with empty data.  Don't do anything."),iv(t,s,"ok",void 0);else{const h=t0(t),d=uB(t.serverSyncTree_,e,u,h);pp(t.eventQueue_,d),t.server_.merge(e.toString(),n,(m,y)=>{const v=m==="ok";v||Ln("update at "+e+" failed: "+m);const b=ea(t.serverSyncTree_,h,!v),w=b.length>0?Ul(t,e):e;cs(t.eventQueue_,w,b),iv(t,s,m,y)}),bn(n,m=>{const y=i0(t,Lt(e,m));Ul(t,y)}),cs(t.eventQueue_,e,[])}}function FB(t){gp(t,"onDisconnectEvents");const e=mp(t),n=kd();$y(t.onDisconnect_,rt(),(a,l)=>{const u=AN(a,l,t.serverSyncTree_,e);uN(n,a,u)});let s=[];$y(n,rt(),(a,l)=>{s=s.concat(cp(t.serverSyncTree_,a,l));const u=i0(t,a);Ul(t,u)}),t.onDisconnect_=kd(),cs(t.eventQueue_,rt(),s)}function HB(t,e,n){let s;Ge(e._path)===".info"?s=z1(t.infoSyncTree_,e,n):s=z1(t.serverSyncTree_,e,n),ON(t.eventQueue_,e._path,s)}function nv(t,e,n){let s;Ge(e._path)===".info"?s=ev(t.infoSyncTree_,e,n):s=ev(t.serverSyncTree_,e,n),ON(t.eventQueue_,e._path,s)}function GB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kB)}function gp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_n(n,...e)}function iv(t,e,n,s){e&&ql(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;s&&(l+=": "+s);const u=new Error(l);u.code=a,e(u)}})}function LN(t,e,n){return F_(t.serverSyncTree_,e,n)||Pe.EMPTY_NODE}function n0(t,e=t.transactionQueueTree_){if(e||yp(t,e),$l(e)){const n=jN(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&qB(t,vh(e),n)}else NN(e)&&fp(e,n=>{n0(t,n)})}function qB(t,e,n){const s=n.map(m=>m.currentWriteId),a=LN(t,e,s);let l=a;const u=a.hash();for(let m=0;m<n.length;m++){const y=n[m];he(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Kn(e,y.path);l=l.updateChild(v,y.currentOutputSnapshotRaw)}const h=l.val(!0),d=e;t.server_.put(d.toString(),h,m=>{gp(t,"transaction put response",{path:d.toString(),status:m});let y=[];if(m==="ok"){const v=[];for(let b=0;b<n.length;b++)n[b].status=2,y=y.concat(ea(t.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&v.push(()=>n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)),n[b].unwatcher();yp(t,X_(t.transactionQueueTree_,e)),n0(t,t.transactionQueueTree_),cs(t.eventQueue_,e,y);for(let b=0;b<v.length;b++)ql(v[b])}else{if(m==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{Ln("transaction at "+d.toString()+" failed: "+m);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=m}Ul(t,e)}},u)}function Ul(t,e){const n=UN(t,e),s=vh(n),a=jN(t,n);return YB(t,a,s),s}function YB(t,e,n){if(e.length===0)return;const s=[];let a=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],m=Kn(n,d.path);let y=!1,v;if(he(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,v=d.abortReason,a=a.concat(ea(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=LB)y=!0,v="maxretry",a=a.concat(ea(t.serverSyncTree_,d.currentWriteId,!0));else{const b=LN(t,d.path,u);d.currentInputSnapshot=b;const w=e[h].update(b.val());if(w!==void 0){dp("transaction failed: Data returned ",w,d.path);let N=un(w);typeof w=="object"&&w!=null&&Ms(w,".priority")||(N=N.updatePriority(b.getPriority()));const V=d.currentWriteId,F=mp(t),W=RN(N,b,F);d.currentOutputSnapshotRaw=N,d.currentOutputSnapshotResolved=W,d.currentWriteId=t0(t),u.splice(u.indexOf(V),1),a=a.concat(SN(t.serverSyncTree_,d.path,W,d.currentWriteId,d.applyLocally)),a=a.concat(ea(t.serverSyncTree_,V,!0))}else y=!0,v="nodata",a=a.concat(ea(t.serverSyncTree_,d.currentWriteId,!0))}cs(t.eventQueue_,n,a),a=[],y&&(e[h].status=2,(function(b){setTimeout(b,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(v),!1,null))))}yp(t,t.transactionQueueTree_);for(let h=0;h<s.length;h++)ql(s[h]);n0(t,t.transactionQueueTree_)}function UN(t,e){let n,s=t.transactionQueueTree_;for(n=Ge(e);n!==null&&$l(s)===void 0;)s=X_(s,n),e=Et(e),n=Ge(e);return s}function jN(t,e){const n=[];return VN(t,e,n),n.sort((s,a)=>s.order-a.order),n}function VN(t,e,n){const s=$l(e);if(s)for(let a=0;a<s.length;a++)n.push(s[a]);fp(e,a=>{VN(t,a,n)})}function yp(t,e){const n=$l(e);if(n){let s=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[s]=n[a],s++);n.length=s,xN(e,n.length>0?n:void 0)}fp(e,s=>{yp(t,s)})}function i0(t,e){const n=vh(UN(t,e)),s=X_(t.transactionQueueTree_,e);return wB(s,a=>{sy(t,a)}),sy(t,s),IN(s,a=>{sy(t,a)}),n}function sy(t,e){const n=$l(e);if(n){const s=[];let a=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(he(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(he(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(ea(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&s.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?xN(e,void 0):n.length=l+1,cs(t.eventQueue_,vh(e),a);for(let u=0;u<s.length;u++)ql(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let a=n[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function KB(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ln(`Invalid query segment '${n}' in query '${t}'`)}return e}const G1=function(t,e){const n=WB(t),s=n.namespace;n.domain==="firebase.com"&&dr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&dr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rV();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Yx(n.host,n.secure,s,a,e,"",s!==n.subdomain),path:new pt(n.pathString)}},WB=function(t){let e="",n="",s="",a="",l="",u=!0,h="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let y=t.indexOf("/");y===-1&&(y=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(y,v)),y<v&&(a=$B(t.substring(y,v)));const b=KB(t.substring(Math.min(t.length,v)));m=e.indexOf(":"),m>=0?(u=h==="https"||h==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const w=e.slice(0,m);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const N=e.indexOf(".");s=e.substring(0,N).toLowerCase(),n=e.substring(N+1),l=s}"ns"in b&&(l=b.ns)}return{host:e,port:d,domain:n,subdomain:s,secure:u,scheme:h,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XB=(function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let a;const l=new Array(8);for(a=7;a>=0;a--)l[a]=q1.charAt(n%64),n=Math.floor(n/64);he(n===0,"Cannot push at time == 0");let u=l.join("");if(s){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)u+=q1.charAt(e[a]);return he(u.length===20,"nextPushId: Length should be 20."),u}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,s,a){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+cn(this.snapshot.exportVal())}}class ZB{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return he(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,s,a){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=a}get key(){return Ke(this._path)?null:N_(this._path)}get ref(){return new gr(this._repo,this._path)}get _queryIdentifier(){const e=N1(this._queryParams),n=C_(e);return n==="{}"?"default":n}get _queryObject(){return N1(this._queryParams)}isEqual(e){if(e=hn(e),!(e instanceof vp))return!1;const n=this._repo===e._repo,s=I_(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+FV(this._path)}}class gr extends vp{constructor(e,n){super(e,n,new op,!1)}get parent(){const e=tN(this._path);return e===null?null:new gr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xc{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pt(e),s=jl(this.ref,e);return new Xc(this._node.getChild(n),s,Ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new Xc(a,jl(this.ref,s),Ut)))}hasChild(e){const n=new pt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function On(t,e){return t=hn(t),t._checkNotDeleted("ref"),e!==void 0?jl(t._root,e):t._root}function jl(t,e){return t=hn(t),Ge(t._path)===null?DB("child","path",e):Z_("child","path",e),new gr(t._repo,Lt(t._path,e))}function BN(t,e){t=hn(t),J_("push",t._path),MN("push",e,t._path,!0);const n=kN(t._repo),s=XB(n),a=jl(t,s),l=jl(t,s);let u;return u=Promise.resolve(l),a.then=u.then.bind(u),a.catch=u.then.bind(u,void 0),a}function _p(t,e){t=hn(t),J_("set",t._path),MN("set",e,t._path,!1);const n=new ah;return zB(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function bp(t,e){IB("update",e,t._path);const n=new ah;return BB(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Ep{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new QB("value",this,new Xc(e.snapshotNode,new gr(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ZB(this,e,n):null}matches(e){return e instanceof Ep?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function JB(t,e,n,s,a){let l;if(typeof s=="object"&&(l=void 0,a=s),typeof s=="function"&&(l=s),a&&a.onlyOnce){const d=n,m=(y,v)=>{nv(t._repo,t,h),d(y,v)};m.userCallback=n.userCallback,m.context=n.context,n=m}const u=new zN(n,l||void 0),h=new Ep(u);return HB(t._repo,t,h),()=>nv(t._repo,t,h)}function uo(t,e,n,s){return JB(t,"value",e,n,s)}function Qc(t,e,n){let s=null;const a=n?new zN(n):null;s=new Ep(a),nv(t._repo,t,s)}eB(gr);aB(gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="FIREBASE_DATABASE_EMULATOR_HOST",sv={};let tF=!1;function nF(t,e,n,s){const a=e.lastIndexOf(":"),l=e.substring(0,a),u=da(l);t.repoInfo_=new Yx(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function FN(t,e,n,s,a){let l=s||t.options.databaseURL;l===void 0&&(t.options.projectId||dr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=G1(l,a),h=u.repoInfo,d;typeof process<"u"&&h1&&(d=h1[eF]),d?(l=`http://${d}?ns=${h.namespace}`,u=G1(l,a),h=u.repoInfo):u.repoInfo.secure;const m=new gV(t.name,t.options,e);MB("Invalid Firebase Database URL",u),Ke(u.path)||dr("Database URL must point to the root of a Firebase Database (not including a child path).");const y=sF(h,t,m,new mV(t,n));return new HN(y,t)}function iF(t,e){const n=sv[e];(!n||n[t.key]!==t)&&dr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),GB(t),delete n[t.key]}function sF(t,e,n,s){let a=sv[e.name];a||(a={},sv[e.name]=a);let l=a[t.toURLString()];return l&&dr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new UB(t,tF,n,s),a[t.toURLString()]=l,l}class HN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gr(this._repo,rt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&dr("Cannot call "+e+" on a deleted database.")}}function GN(t=lh(),e){const n=mr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=e_("database");s&&qN(n,...s)}return n}function qN(t,e,n,s={}){t=hn(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&cr(s,l.repoInfo_.emulatorOptions))return;dr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&dr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new od(od.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:t_(s.mockUserToken,t.app.options.projectId);u=new od(h)}da(e)&&(Qd(e),Zd("Database",!0)),nF(l,a,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){Mx(pa),ji(new yi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return FN(s,a,l,n)},"PUBLIC").setMultipleInstances(!0)),An(f1,d1,t),An(f1,d1,"esm2020")}or.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};or.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rF();const Y1=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:Xc,Database:HN,_QueryImpl:vp,_QueryParams:op,_ReferenceImpl:gr,_repoManagerDatabaseFromApp:FN,_setSDKVersion:Mx,_validatePathString:Z_,_validateWritablePath:J_,child:jl,connectDatabaseEmulator:qN,getDatabase:GN,off:Qc,onValue:uo,push:BN,ref:On,set:_p,update:bp},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebasestorage.googleapis.com",aF="storageBucket",oF=120*1e3,lF=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends zi{constructor(e,n,s=0){super(ry(e),`Firebase Storage: ${n} (${ry(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ry(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Is;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Is||(Is={}));function ry(t){return"storage/"+t}function uF(){const t="An unknown error occurred, please check the error payload for server response.";return new Os(Is.UNKNOWN,t)}function cF(){return new Os(Is.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hF(){return new Os(Is.CANCELED,"User canceled the upload/download.")}function fF(t){return new Os(Is.INVALID_URL,"Invalid URL '"+t+"'.")}function dF(t){return new Os(Is.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $1(t){return new Os(Is.INVALID_ARGUMENT,t)}function $N(){return new Os(Is.APP_DELETED,"The Firebase app was deleted.")}function pF(t){return new Os(Is.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=os.makeFromUrl(e,n)}catch{return new os(e,"")}if(s.path==="")return s;throw dF(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(ee){ee.path_=decodeURIComponent(ee.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${y}/b/${a}/o${b}`,"i"),N={bucket:1,path:3},z=n===YN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",F=new RegExp(`^https?://${z}/${a}/${V}`,"i"),Q=[{regex:h,indices:d,postModify:l},{regex:w,indices:N,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let ee=0;ee<Q.length;ee++){const H=Q[ee],k=H.regex.exec(e);if(k){const x=k[H.indices.bucket];let C=k[H.indices.path];C||(C=""),s=new os(x,C),H.postModify(s);break}}if(s==null)throw fF(e);return s}}class mF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t,e,n){let s=1,a=null,l=null,u=!1,h=0;function d(){return h===2}let m=!1;function y(...V){m||(m=!0,e.apply(null,V))}function v(V){a=setTimeout(()=>{a=null,t(w,d())},V)}function b(){l&&clearTimeout(l)}function w(V,...F){if(m){b();return}if(V){b(),y.call(null,V,...F);return}if(d()||u){b(),y.call(null,V,...F);return}s<64&&(s*=2);let Q;h===1?(h=2,Q=0):Q=(s+Math.random())*1e3,v(Q)}let N=!1;function z(V){N||(N=!0,b(),!m&&(a!==null?(V||(h=2),clearTimeout(a),v(0)):V||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,z(!0)},n),z}function yF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){return t!==void 0}function K1(t,e,n,s){if(s<e)throw $1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw $1(`Invalid value for '${t}'. Expected ${n} or less.`)}function _F(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Hd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hd||(Hd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,s,a,l,u,h,d,m,y,v,b=!0,w=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,z)=>{this.resolve_=N,this.reject_=z,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new $f(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Hd.NO_ERROR,d=l.getStatus();if(!h||bF(d,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Hd.ABORT;s(!1,new $f(!1,null,y));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new $f(m,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());vF(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=uF();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?$N():hF();u(d)}else{const d=cF();u(d)}};this.canceled_?n(!1,new $f(!1,null,!0)):this.backoffId_=gF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $f{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function SF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function AF(t,e,n,s,a,l,u=!0,h=!1){const d=_F(t.urlParams),m=t.url+d,y=Object.assign({},t.headers);return TF(y,e),SF(y,n),wF(y,l),CF(y,s),new EF(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this._service=e,n instanceof os?this._location=n:this._location=os.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gd(e,n)}get root(){const e=new os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xF(this._location.path)}get storage(){return this._service}get parent(){const e=RF(this._location.path);if(e===null)return null;const n=new os(this._location.bucket,e);return new Gd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pF(e)}}function W1(t,e){const n=e?.[aF];return n==null?null:os.makeFromBucketSpec(n,t)}function NF(t,e,n,s={}){t.host=`${e}:${n}`;const a=da(e);a&&(Qd(`https://${t.host}/b`),Zd("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:t_(l,t.app.options.projectId))}class IF{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=YN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oF,this._maxUploadRetryTime=lF,this._requests=new Set,a!=null?this._bucket=os.makeFromBucketSpec(a,this._host):this._bucket=W1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=os.makeFromBucketSpec(this._url,e):this._bucket=W1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new mF($N());{const u=AF(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const X1="@firebase/storage",Q1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="storage";function DF(t=lh(),e){t=hn(t);const s=mr(t,KN).getImmediate({identifier:e}),a=e_("storage");return a&&MF(s,...a),s}function MF(t,e,n,s={}){NF(t,e,n,s)}function OF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new IF(n,s,a,e,pa)}function PF(){ji(new yi(KN,OF,"PUBLIC").setMultipleInstances(!0)),An(X1,Q1,""),An(X1,Q1,"esm2020")}PF();const kF={apiKey:"AIzaSyC_q8EZwN__V1nbUaXzV0mF6yCBX-q2ZX8",authDomain:"late-on-time-pizza.firebaseapp.com",databaseURL:"https://late-on-time-pizza-default-rtdb.firebaseio.com",projectId:"late-on-time-pizza",storageBucket:"late-on-time-pizza.firebasestorage.app",messagingSenderId:"1081723526024",appId:"1:1081723526024:web:28359351ace7e33520f83d",measurementId:"G-3HZ0R72QHE"},_h=_R(kF);v5(_h);const ac=Jj(_h);W5(_h);const Yn=GN(_h);DF(_h);const LF=new tr,UF={googleProvider:LF},WN=O.createContext(void 0);function jF({children:t}){const[e,n]=O.useState(null),[s,a]=O.useState(!0);O.useEffect(()=>BU(ac,v=>{n(v),a(!1)}),[]);const m={user:e,loading:s,signInWithEmail:async(y,v)=>{await jU(ac,y,v)},signUpWithEmail:async(y,v)=>{await UU(ac,y,v)},signInWithGoogle:async()=>{await lj(ac,UF.googleProvider)},logout:async()=>{await FU(ac)}};return R.jsx(WN.Provider,{value:m,children:t})}function Kl(){const t=O.useContext(WN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function VF(){const t=ha(),{user:e,logout:n}=Kl();return R.jsxs("div",{className:"min-h-screen h-full flex flex-col",children:[R.jsx("header",{className:"navbar",children:R.jsxs("div",{className:"navbar-container",children:[R.jsxs(fc,{to:"/app",className:"navbar-logo",children:[R.jsx(X4,{className:"navbar-logo-icon"}),R.jsx("span",{className:"navbar-logo-text",children:"Late On Time Pizza"})]}),R.jsxs("nav",{className:"navbar-nav",children:[R.jsxs(fc,{to:"/app",className:`navbar-nav-item ${t.pathname==="/app"||t.pathname.startsWith("/app/groups")?"active":""}`,children:[R.jsx(n6,{className:"navbar-nav-icon"}),R.jsx("span",{children:"Groups"})]}),e?R.jsxs("div",{className:"navbar-user-section",children:[R.jsx("span",{className:"navbar-user-email",children:e.email}),R.jsxs("button",{onClick:n,className:"navbar-sign-out-btn",children:[R.jsx(Y4,{className:"navbar-nav-icon"}),R.jsx("span",{children:"Sign Out"})]})]}):R.jsxs(fc,{to:"/",className:"navbar-sign-in-btn",children:[R.jsx(G4,{className:"navbar-nav-icon"}),R.jsx("span",{children:"Sign In"})]})]})]})}),R.jsx("main",{className:"flex-1",children:R.jsx(ik,{mode:"wait",children:R.jsx(yd.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},children:R.jsx(y2,{})},t.pathname)})})]})}const Nc=6,ld={curveShift:.3};function s0(t,e=ld){if(typeof e=="number"){const u=Math.max(0,Math.floor(t));return u<2?0:u<4?1:u<6?2:4+Math.ceil(e*Math.log(u-6+1))}const n=Math.max(0,t);if(n<=0)return 0;const s=e.curveShift,l=1/Math.log(2+s)*Math.log(n+s);return Math.ceil(l)}function zF(t,e,n){const s=e+n,a=Math.floor(s/Nc),l=s%Nc;return{totalPizzas:t+a,totalSlices:l}}function BF(t,e,n){let s=t*Nc+e+n;s<0&&(s=0);const a=Math.floor(s/Nc),l=s%Nc;return{totalPizzas:a,totalSlices:l}}const XN="pizza-demo";function Di(){try{const t=localStorage.getItem(XN);if(!t)throw new Error("empty");return JSON.parse(t)}catch{return{groups:[],meetings:[],corrections:[]}}}function Mi(t){localStorage.setItem(XN,JSON.stringify(t))}const Ts={seedDemo(){const a={groups:[{id:"g1",name:"Design Crew",color:"#60a5fa",emoji:"",adminId:"m1",members:[{id:"m1",displayName:"Alex Doe",initials:"AD",role:"admin",totalPizzas:0,totalSlices:0},{id:"m2",displayName:"Jamie Roe",initials:"JR",role:"normal",totalPizzas:0,totalSlices:0},{id:"m3",displayName:"Sam Lee",initials:"SL",role:"normal",totalPizzas:0,totalSlices:0}],settings:{curveShift:.3}}],meetings:[],corrections:[]};return Mi(a),a},resetDemo(){Mi({groups:[],meetings:[],corrections:[]})},getState(){return Di()},getGroup(t){return Di().groups.find(e=>e.id===t)},createGroup(t){const e=Di(),n={id:`g_${Date.now()}`,name:t.name,emoji:t.emoji,color:t.color,adminId:t.adminId,members:[],settings:{curveShift:.3,allowEveryoneEnterMinutes:!1}};return e.groups.push(n),Mi(e),n},deleteGroup(t){const e=Di();e.groups=e.groups.filter(n=>n.id!==t),e.meetings=e.meetings.filter(n=>n.groupId!==t),e.corrections=e.corrections.filter(n=>n.groupId!==t),Mi(e)},addMember(t,e){const n=Di(),s=n.groups.find(l=>l.id===t);if(!s)throw new Error("Group not found");const a={id:`mem_${Date.now()}`,displayName:e.displayName,initials:e.initials,role:e.role??"normal",totalPizzas:0,totalSlices:0};return s.members.push(a),Mi(n),a},removeMember(t,e){const n=Di(),s=n.groups.find(a=>a.id===t);if(!s)throw new Error("Group not found");s.members=s.members.filter(a=>a.id!==e),Mi(n)},renameMember(t,e,n,s){const a=Di(),l=a.groups.find(h=>h.id===t);if(!l)throw new Error("Group not found");const u=l.members.find(h=>h.id===e);if(!u)throw new Error("Member not found");u.displayName=n,s&&(u.initials=s),Mi(a)},setRole(t,e,n){const s=Di(),a=s.groups.find(u=>u.id===t);if(!a)throw new Error("Group not found");const l=a.members.find(u=>u.id===e);if(!l)throw new Error("Member not found");l.role=n,Mi(s)},createMeeting(t,e,n){const s=Di(),a=s.groups.find(d=>d.id===t);if(!a)throw new Error("Group not found");const l=a.settings?.curveShift??.3,u=a.members.map(d=>{const m=Math.max(0,Math.round(n[d.id]??0)),y=s0(m,{curveShift:l}),v=zF(d.totalPizzas,d.totalSlices,y);return d.totalPizzas=v.totalPizzas,d.totalSlices=v.totalSlices,{memberId:d.id,minutesLate:m,slicesAwarded:y}}),h={id:`mtg_${Date.now()}`,groupId:t,at:e,entries:u};return s.meetings.push(h),Mi(s),h},correctMember(t,e,n,s,a){const l=Di(),u=l.groups.find(y=>y.id===t);if(!u)throw new Error("Group not found");const h=u.members.find(y=>y.id===e);if(!h)throw new Error("Member not found");const d=BF(h.totalPizzas,h.totalSlices,Math.round(n));h.totalPizzas=d.totalPizzas,h.totalSlices=d.totalSlices;const m={id:`cor_${Date.now()}`,groupId:t,memberId:e,deltaSlices:Math.round(n),reason:a,at:new Date().toISOString(),by:s};return l.corrections.push(m),Mi(l),m},setGroupCurveShift(t,e){const n=Di(),s=n.groups.find(a=>a.id===t);if(!s)throw new Error("Group not found");s.settings={...s.settings??{},curveShift:e},Mi(n)},setAllowEveryone(t,e){const n=Di(),s=n.groups.find(a=>a.id===t);if(!s)throw new Error("Group not found");s.settings={...s.settings??{},allowEveryoneEnterMinutes:e},Mi(n)}},FF="modulepreload",HF=function(t){return"/"+t},Z1={},J1=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=m(n.map(y=>{if(y=HF(y),y in Z1)return;Z1[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":FF,v||(w.as="script"),w.crossOrigin="",w.href=y,d&&w.setAttribute("nonce",d),document.head.appendChild(w),v)return new Promise((N,z)=>{w.addEventListener("load",N),w.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return a.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};async function QN(t){try{const e=On(Yn,"groups"),n=BN(e);if(!n.key)throw new Error("Failed to generate unique group ID");return await _p(n,{name:t,members:{}}),n.key}catch(e){throw console.error("Error creating group:",e),new Error(`Failed to create group: ${e instanceof Error?e.message:"Unknown error"}`)}}async function ZN(t,e,n){try{const s=On(Yn,`groups/${t}/members`);await bp(s,{[e]:n})}catch(s){throw console.error("Error adding member to group:",s),new Error(`Failed to add member to group: ${s instanceof Error?s.message:"Unknown error"}`)}}async function JN(t,e){try{const n=On(Yn,`groups/${t}`);await bp(n,{name:e})}catch(n){throw console.error("Error updating group name:",n),new Error(`Failed to update group name: ${n instanceof Error?n.message:"Unknown error"}`)}}async function eI(t,e,n){try{const s=On(Yn,`groups/${t}/members`);await bp(s,{[e]:n})}catch(s){throw console.error("Error updating member score:",s),new Error(`Failed to update member score: ${s instanceof Error?s.message:"Unknown error"}`)}}async function tI(t,e){try{const n=On(Yn,`groups/${t}/members/${e}`);await _p(n,null)}catch(n){throw console.error("Error removing member from group:",n),new Error(`Failed to remove member from group: ${n instanceof Error?n.message:"Unknown error"}`)}}async function nI(t){try{const e=On(Yn,`groups/${t}`);await _p(e,null)}catch(e){throw console.error("Error deleting group:",e),new Error(`Failed to delete group: ${e instanceof Error?e.message:"Unknown error"}`)}}class GF{constructor(){}async getGroups(){return new Promise((e,n)=>{const s=On(Yn,"groups");uo(s,a=>{try{const l=a.val();if(!l){e([]);return}const u=Object.entries(l).map(([h,d])=>({id:h,name:d.name,emoji:d.emoji||"",color:d.color||"#f59e0b",adminId:d.adminId||"demo-user",createdAt:d.createdAt||new Date().toISOString(),settings:{curveShift:d.settings?.curveShift??.3,allowEveryoneEnterMinutes:d.settings?.allowEveryoneEnterMinutes??!1,adminEmails:d.settings?.adminEmails??[]},members:Object.entries(d.members||{}).map(([m,y])=>({id:m,displayName:m,initials:m.split(" ").map(v=>v[0]).join("").substring(0,2).toUpperCase(),role:"normal",totalSlices:typeof y=="number"?y:0,totalPizzas:Math.floor((typeof y=="number"?y:0)/6)}))}));e(u)}catch(l){n(l)}},{onlyOnce:!0})})}async createGroup(e){const n=await QN(e.name),s=On(Yn,`groups/${n}`),a={name:e.name,emoji:e.emoji,color:e.color,adminId:e.adminId,createdAt:new Date().toISOString(),members:{},settings:{curveShift:.3,allowEveryoneEnterMinutes:!1,adminEmails:[e.adminEmail]}};return await J1(async()=>{const{update:l}=await Promise.resolve().then(()=>Y1);return{update:l}},[]).then(({update:l})=>l(s,a)),{id:n,name:e.name,emoji:e.emoji,color:e.color,adminId:e.adminId,members:[],settings:{curveShift:.3,allowEveryoneEnterMinutes:!1,adminEmails:[e.adminEmail]}}}async getGroup(e){return new Promise((n,s)=>{const a=On(Yn,`groups/${e}`);uo(a,l=>{try{const u=l.val();if(!u){n(null);return}const h={id:e,name:u.name,emoji:u.emoji||"",color:u.color||"#f59e0b",adminId:u.adminId||"demo-user",members:Object.entries(u.members||{}).map(([d,m])=>({id:d,displayName:d,initials:d.split(" ").map(y=>y[0]).join("").substring(0,2).toUpperCase(),role:"normal",totalSlices:typeof m=="number"?m:0,totalPizzas:Math.floor((typeof m=="number"?m:0)/6)}))};n(h)}catch(u){s(u)}},{onlyOnce:!0})})}async updateGroup(e,n){if(n.name&&await JN(e,n.name),n.emoji||n.color||n.settings){const{update:s}=await J1(async()=>{const{update:u}=await Promise.resolve().then(()=>Y1);return{update:u}},void 0),a=On(Yn,`groups/${e}`),l={};n.emoji&&(l.emoji=n.emoji),n.color&&(l.color=n.color),n.settings&&(l.settings=n.settings),await s(a,l)}}async deleteGroup(e){await nI(e)}async addMember(e,n){return await ZN(e,n.name,0),{id:n.name,displayName:n.name,initials:n.name.split(" ").map(s=>s[0]).join("").substring(0,2).toUpperCase(),role:n.role||"normal",totalSlices:0,totalPizzas:0}}async updateMember(e,n,s){s.totalSlices!==void 0&&await eI(e,n,s.totalSlices)}async removeMember(e,n){await tI(e,n)}subscribeToGroups(e){const n=On(Yn,"groups"),s=uo(n,a=>{try{const l=a.val();if(!l){e([]);return}const u=Object.entries(l).map(([h,d])=>({id:h,name:d.name,emoji:d.emoji||"",color:d.color||"#f59e0b",adminId:d.adminId||"demo-user",settings:{curveShift:d.settings?.curveShift??.3,allowEveryoneEnterMinutes:d.settings?.allowEveryoneEnterMinutes??!1,adminEmails:d.settings?.adminEmails??[]},members:Object.entries(d.members||{}).map(([m,y])=>({id:m,displayName:m,initials:m.split(" ").map(v=>v[0]).join("").substring(0,2).toUpperCase(),role:"normal",totalSlices:typeof y=="number"?y:0,totalPizzas:Math.floor((typeof y=="number"?y:0)/6)}))}));e(u)}catch(l){console.error("Error in groups subscription:",l),e([])}});return()=>Qc(n,"value",s)}subscribeToGroup(e,n){const s=On(Yn,`groups/${e}`),a=uo(s,l=>{try{const u=l.val();if(!u){n(null);return}const h={id:e,name:u.name,emoji:u.emoji||"",color:u.color||"#f59e0b",adminId:u.adminId||"demo-user",members:Object.entries(u.members||{}).map(([d,m])=>({id:d,displayName:d,initials:d.split(" ").map(y=>y[0]).join("").substring(0,2).toUpperCase(),role:"normal",totalSlices:typeof m=="number"?m:0,totalPizzas:Math.floor((typeof m=="number"?m:0)/6)}))};n(h)}catch(u){console.error("Error in group subscription:",u),n(null)}});return()=>Qc(s,"value",a)}async getMeetings(e){return[]}async createMeeting(e,n){throw new Error("Meetings not yet implemented for Realtime Database")}async getCorrections(e){return[]}async addCorrection(e,n){throw new Error("Corrections not yet implemented for Realtime Database")}subscribeToMeetings(e,n){return()=>{}}subscribeToCorrections(e,n){return()=>{}}}const is=new GF,iI=O.createContext(null);function qF({children:t}){const{user:e,loading:n}=Kl(),[s,a]=O.useState(()=>Ts.getState()),[l,u]=O.useState([]),h=!!e;O.useEffect(()=>e?is.subscribeToGroups(v=>{u(v)}):void 0,[e]);const d=O.useMemo(()=>({groups:l,meetings:[],corrections:[]}),[l]),m=O.useMemo(()=>({state:h?d:s,seed:()=>{h||a(Ts.seedDemo())},reset:()=>{h||(Ts.resetDemo(),a(Ts.getState()))},isFirebaseMode:h}),[s,d,h]);return n?R.jsx("div",{children:"Loading..."}):R.jsx(iI.Provider,{value:m,children:t})}function Sp(){const t=O.useContext(iI);if(!t)throw new Error("DemoProvider missing");return t}function YF(){const{state:t,isFirebaseMode:e}=Sp(),{user:n}=Kl(),s=eh(),a=u=>{if(!n?.email)return!1;const h=t.groups.find(d=>d.id===u);return h?.settings?.adminEmails?h.settings.adminEmails.includes(n.email):!1},l=t.groups.map(u=>({id:u.id,name:u.name,emoji:u.emoji,color:u.color,members:u.members.length,pizzas:Math.floor(u.members.reduce((h,d)=>h+d.totalSlices,0)/6)}));return R.jsxs("section",{className:"groups-page",children:[R.jsxs("div",{className:"groups-header",children:[R.jsxs("div",{className:"groups-title-section",children:[R.jsx("h1",{children:"Your Groups"}),R.jsx("p",{children:"Manage your meeting groups and pizza debts"})]}),R.jsx("button",{className:"create-group-btn",onClick:async()=>{const u=prompt("Group name:");if(!u)return;const h=prompt("Emoji (e.g. ):","")||"",d=prompt("Header color (hex):","#f59e0b")||"#f59e0b";try{if(e){const m=await is.createGroup({name:u,emoji:h,color:d,adminId:"current-user",adminEmail:n?.email||""});s(`/app/groups/${m.id}`)}else{const m=Ts.createGroup({name:u,emoji:h,color:d,adminId:"demo-user"});s(`/app/groups/${m.id}`)}}catch(m){console.error("Error creating group:",m),alert("Failed to create group. Please try again.")}},children:"+ Create Group"})]}),l.length===0?R.jsx("div",{className:"empty-state",children:R.jsx("div",{className:"empty-state-text",children:'No groups yet. Click "Create Group" to get started.'})}):R.jsxs("div",{className:"groups-grid",children:[l.map((u,h)=>R.jsxs(yd.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*h},className:"group-card",children:[R.jsx("div",{className:"group-card-header",style:{background:u.color},children:R.jsx("span",{className:"group-card-emoji","aria-hidden":"true",children:u.emoji})}),R.jsxs("div",{className:"group-card-content",children:[R.jsxs("div",{className:"group-card-title",children:[R.jsx("h2",{children:u.name}),a(u.id)&&R.jsx("span",{className:"group-card-crown",children:""})]}),R.jsxs("div",{className:"group-card-members",children:[R.jsx("span",{children:""}),R.jsxs("span",{children:[u.members," members"]})]}),R.jsxs("div",{className:"group-card-pizza-stats",children:[R.jsx("div",{className:"group-card-pizza-number",children:u.pizzas}),R.jsx("div",{className:"group-card-pizza-label",children:"pizzas owed"})]}),R.jsx("button",{className:"group-card-btn",onClick:()=>s(`/app/groups/${u.id}`),children:"View Group"})]})]},u.id)),R.jsxs(yd.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*l.length},className:"create-new-group-card",onClick:async()=>{const u=prompt("Group name:");if(!u)return;const h=prompt("Emoji (e.g. ):","")||"",d=prompt("Header color (hex):","#f59e0b")||"#f59e0b";try{if(e){const m=await is.createGroup({name:u,emoji:h,color:d,adminId:"current-user",adminEmail:n?.email||""});s(`/app/groups/${m.id}`)}else{const m=Ts.createGroup({name:u,emoji:h,color:d,adminId:"demo-user"});s(`/app/groups/${m.id}`)}}catch(m){console.error("Error creating group:",m),alert("Failed to create group. Please try again.")}},children:[R.jsx("div",{className:"create-new-group-icon",children:R.jsx("span",{children:"+"})}),R.jsx("h3",{children:"Create New Group"}),R.jsx("p",{children:"Start tracking pizza debts"})]})]}),R.jsxs("div",{className:"quick-stats-section",children:[R.jsx("h2",{className:"quick-stats-title",children:"Quick Stats"}),R.jsxs("div",{className:"quick-stats-grid",children:[R.jsxs("div",{className:"quick-stat-card",children:[R.jsx("div",{className:"quick-stat-number",children:l.length}),R.jsx("div",{className:"quick-stat-label",children:"Total Groups"})]}),R.jsxs("div",{className:"quick-stat-card",children:[R.jsx("div",{className:"quick-stat-number",children:l.reduce((u,h)=>u+h.members,0)}),R.jsx("div",{className:"quick-stat-label",children:"Total Members"})]}),R.jsxs("div",{className:"quick-stat-card",children:[R.jsx("div",{className:"quick-stat-number",children:l.reduce((u,h)=>u+h.pizzas,0)}),R.jsx("div",{className:"quick-stat-label",children:"Pizzas Owed"})]})]})]})]})}const rv="/assets/pizza-D9F_YWbA.png";function $F({slices:t,size:e=60}){const n=Math.max(0,Math.min(6,t)),s=a=>{const u=a*60-90,h=u+60,d=u*Math.PI/180,m=h*Math.PI/180,y=50,v=50,b=50,w=y+b*Math.cos(d),N=v+b*Math.sin(d),z=y+b*Math.cos(m),V=v+b*Math.sin(m);return`polygon(${y}% ${v}%, ${w}% ${N}%, ${z}% ${V}%)`};return R.jsxs("div",{className:"pizza-slice-display",style:{width:e,height:e,position:"relative",display:"inline-block"},children:[R.jsx("img",{src:rv,alt:"Pizza",style:{width:"100%",height:"100%",opacity:.2,position:"absolute",top:0,left:0}}),Array.from({length:n},(a,l)=>R.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,clipPath:s(l)},children:R.jsx("img",{src:rv,alt:`Pizza slice ${l+1}`,style:{width:"100%",height:"100%"}})},l)),R.jsxs("div",{style:{position:"absolute",bottom:0,right:0,background:"rgba(0, 0, 0, 0.7)",color:"white",fontSize:"10px",padding:"2px 4px",borderRadius:"4px",fontWeight:"bold"},children:[n,"/6"]})]})}function KF(){const{id:t}=dv(),e=eh(),{state:n,isFirebaseMode:s}=Sp(),{user:a}=Kl(),[l,u]=O.useState({}),[h,d]=O.useState({}),m=O.useMemo(()=>n.groups.find(ee=>ee.id===t),[n,t]),y=m?.members??[],v=()=>!a?.email||!m?.settings?.adminEmails?!1:m.settings.adminEmails.includes(a.email),b=async()=>{if(!m||!t)return;if(!v()){alert("Only administrators can add members to this group.");return}const ee=prompt("Member name:");if(ee?.trim())try{s?await is.addMember(t,{name:ee.trim()}):Ts.addMember(t,{displayName:ee.trim(),initials:ee.trim().split(" ").map(H=>H[0]).join("").substring(0,2).toUpperCase(),role:"normal"})}catch(H){console.error("Error adding member:",H),alert("Failed to add member. Please try again.")}},w=ee=>{const H=m?.settings?.curveShift??.3,k=s0(ee,{curveShift:H});return Math.max(1,k)},N=async(ee,H)=>{if(!(!m||!t||H<=0)){if(!v()){alert("Only administrators can add minutes to members.");return}try{const k=w(H),x=y.find(I=>I.id===ee);if(!x)return;const C=x.totalSlices+k;s?await is.updateMember(t,ee,{totalSlices:C}):Ts.correctMember(t,ee,k,"demo-user",`Added ${H} minutes late`)}catch(k){console.error("Error adding minutes:",k),alert("Failed to add minutes. Please try again.")}}},z=(ee,H)=>{u(k=>({...k,[ee]:H}))},V=(ee,H)=>{H.preventDefault();const k=l[ee]||"",x=parseFloat(k);if(isNaN(x)||x<=0){alert("Please enter a valid positive number");return}const C=w(x),I=C===1?"slice":"slices";d(D=>({...D,[ee]:`+${C} ${I} for ${x} minutes`})),setTimeout(()=>{d(D=>({...D,[ee]:""}))},3e3),N(ee,x),u(D=>({...D,[ee]:""}))},F=async ee=>{if(!m||!t||!v())return;const H=y.find(x=>x.id===ee);if(!H||H.totalSlices<=0)return;const k=Math.max(0,H.totalSlices-1);try{s?await is.updateMember(t,ee,{totalSlices:k}):Ts.correctMember(t,ee,-1,"admin-user","Admin removed 1 slice"),d(x=>({...x,[ee]:"-1 slice removed by admin"})),setTimeout(()=>{d(x=>({...x,[ee]:""}))},3e3)}catch(x){console.error("Error removing slice:",x),alert("Failed to remove slice. Please try again.")}},W=async ee=>{if(!m||!t||!v())return;const H=y.find(x=>x.id===ee);if(!(!H||!confirm(`Are you sure you want to delete "${H.displayName}" from this group? This action cannot be undone.`)))try{if(s)await is.removeMember(t,ee);else{alert("Delete member functionality not implemented in demo mode");return}}catch(x){console.error("Error deleting member:",x),alert("Failed to delete member. Please try again.")}},Q=async()=>{if(!(!m||!t||!v()||!confirm(`Are you sure you want to delete the entire group "${m.name}"? This action cannot be undone and will remove all members and data.`)))try{s?(await is.deleteGroup(t),e("/app")):alert("Delete group functionality not implemented in demo mode")}catch(H){console.error("Error deleting group:",H),alert("Failed to delete group. Please try again.")}};return m?R.jsxs("section",{className:"group-detail-page",children:[R.jsxs("div",{className:"group-header",children:[R.jsx("button",{className:"back-button",onClick:()=>e("/app"),"aria-label":"Go back",children:""}),R.jsxs("div",{className:"group-title-section",children:[R.jsx("div",{className:"group-emoji",children:m.emoji}),R.jsxs("div",{children:[R.jsx("h1",{className:"group-title",children:m.name}),R.jsxs("p",{className:"group-subtitle",children:[y.length," members"]})]})]}),R.jsxs("div",{className:"group-actions",children:[v()&&R.jsx("button",{className:"action-button secondary",onClick:b,children:"+ Add Member"}),v()&&R.jsxs("button",{className:"action-button danger",onClick:Q,title:"Delete Group",children:[R.jsx(Dy,{size:16}),"Delete Group"]})]}),R.jsx("button",{className:"settings-button","aria-label":"Settings",onClick:()=>e(`/app/groups/${t}/settings`),children:""})]}),R.jsxs("div",{className:"members-section",children:[R.jsx("h2",{className:"members-title",children:"Members"}),R.jsx("div",{className:"members-grid",children:y.map((ee,H)=>R.jsxs(yd.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*H},className:"member-card",children:[R.jsx("div",{className:"member-avatar",children:ee.initials}),R.jsx("h3",{className:"member-name",children:ee.displayName}),R.jsx("p",{className:`member-role ${ee.role}`,children:ee.role==="admin"?"Admin":"Normal"}),R.jsx("div",{className:"pizza-display-container",children:R.jsx($F,{slices:ee.totalSlices%6,size:80})}),ee.totalPizzas>0&&R.jsxs("div",{className:"whole-pizzas-container",children:[R.jsx("div",{className:"whole-pizzas-label",children:"Complete pizzas owed:"}),R.jsx("div",{className:"whole-pizzas-display",children:Array.from({length:ee.totalPizzas},(k,x)=>R.jsx("img",{src:rv,alt:`Pizza ${x+1}`,className:"whole-pizza-image",style:{width:"40px",height:"40px",margin:"2px"}},x))})]}),h[ee.id]&&R.jsx("div",{className:"feedback-message",children:h[ee.id]}),v()&&R.jsxs("div",{className:"minute-controls",children:[R.jsx("div",{className:"minute-controls-label",children:"Add minutes:"}),R.jsxs("form",{className:"minute-input-form",onSubmit:k=>V(ee.id,k),children:[R.jsx("input",{type:"number",min:"1",placeholder:"Enter minutes",value:l[ee.id]||"",onChange:k=>z(ee.id,k.target.value),className:"minute-input"}),R.jsx("button",{type:"submit",className:"minute-submit-btn",children:"Add"})]})]}),R.jsxs("div",{className:"member-bottom-section",children:[R.jsxs("div",{className:"pizza-stats",children:[R.jsxs("div",{className:"pizza-stat",children:[R.jsx("div",{className:"pizza-stat-number",children:ee.totalPizzas}),R.jsx("div",{className:"pizza-stat-label",children:"Pizzas"})]}),R.jsxs("div",{className:"pizza-stat",children:[R.jsxs("div",{className:"pizza-stat-number",children:[ee.totalSlices,"/6"]}),R.jsx("div",{className:"pizza-stat-label",children:"Slices"})]})]}),v()&&R.jsxs("div",{className:"admin-controls",children:[R.jsxs("button",{className:"admin-control-btn remove-slice",onClick:()=>F(ee.id),disabled:ee.totalSlices<=0,title:"Remove 1 slice",children:[R.jsx(K4,{size:14}),"Remove Slice"]}),R.jsxs("button",{className:"admin-control-btn delete-member",onClick:()=>W(ee.id),title:"Delete member from group",children:[R.jsx(Dy,{size:14}),"Delete Member"]})]})]})]},ee.id))})]})]}):R.jsx("section",{className:"group-detail-page",children:R.jsx("div",{children:"Group not found"})})}function sI(...t){return t.filter(Boolean).join(" ")}const WF="inline-flex items-center justify-center whitespace-nowrap rounded-lg font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-400/70 disabled:opacity-40 disabled:pointer-events-none select-none active:scale-[0.99]",XF={solid:"bg-amber-500 text-black hover:bg-amber-400 shadow-lg shadow-amber-500/25",soft:"bg-white/10 text-white hover:bg-white/20 border border-white/10",ghost:"text-white hover:bg-white/10",danger:"bg-red-500/90 text-white hover:bg-red-400/90"},QF={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},oc=O.forwardRef(({className:t,variant:e="soft",size:n="md",...s},a)=>R.jsx("button",{ref:a,className:sI(WF,XF[e],QF[n],t),...s})),ZF=O.forwardRef(({className:t,...e},n)=>R.jsx("input",{ref:n,className:sI("bg-black/40 border border-white/10 rounded-md px-3 h-10 text-sm outline-none focus:ring-2 focus:ring-emerald-400/60 placeholder:text-white/40",t),...e}));function JF(){const{id:t}=dv(),e=eh(),{state:n}=Sp(),s=O.useMemo(()=>n.groups.find(m=>m.id===t),[n,t]),[a,l]=O.useState(()=>s?s.members.map(m=>({id:m.id,name:m.displayName,minutes:0})):[]),u=(m,y)=>{l(v=>v.map(b=>b.id===m?{...b,minutes:Math.max(0,Math.round(y))}:b))},h=m=>{l(y=>y.map(v=>({...v,minutes:Math.max(0,v.minutes+m)})))},d=()=>{if(!s)return;const m={};a.forEach(y=>m[y.id]=y.minutes),Ts.createMeeting(s.id,new Date().toISOString(),m),e(`/app/groups/${s.id}`)};return R.jsxs("section",{className:"page space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h1",{className:"text-2xl font-bold",children:"Meeting editor"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx(oc,{onClick:()=>h(1),children:"+1 all"}),R.jsx(oc,{onClick:()=>h(5),children:"+5 all"})]})]}),R.jsx("div",{className:"glass rounded-xl overflow-hidden",children:R.jsxs("table",{className:"w-full text-sm",children:[R.jsx("thead",{className:"bg-white/5",children:R.jsxs("tr",{children:[R.jsx("th",{className:"text-left p-3 font-medium",children:"Member"}),R.jsx("th",{className:"text-left p-3 font-medium",children:"Minutes late"}),R.jsx("th",{className:"p-3"})]})}),R.jsx("tbody",{children:a.map(m=>R.jsxs("tr",{className:"border-t border-white/10",children:[R.jsx("td",{className:"p-3",children:m.name}),R.jsx("td",{className:"p-3",children:R.jsx(ZF,{type:"number",min:0,className:"w-28",value:m.minutes,onChange:y=>u(m.id,parseInt(y.target.value||"0"))})}),R.jsx("td",{className:"p-3",children:R.jsxs("div",{className:"flex gap-1",children:[R.jsx(oc,{size:"sm",onClick:()=>u(m.id,m.minutes+1),children:"+1"}),R.jsx(oc,{size:"sm",onClick:()=>u(m.id,m.minutes+5),children:"+5"})]})})]},m.id))})]})}),R.jsx("div",{className:"flex justify-end",children:R.jsx(oc,{variant:"solid",onClick:d,children:"Save meeting"})})]})}function e8(){const{id:t}=dv(),{state:e,isFirebaseMode:n}=Sp(),{user:s}=Kl();if(!t)return R.jsx("div",{className:"settings-page",children:R.jsxs("div",{className:"settings-header",children:[R.jsx("h1",{className:"settings-title",children:"Error"}),R.jsx("p",{className:"settings-subtitle",children:"Settings are only available for specific groups. Please navigate to a group first."})]})});const[a,l]=O.useState(ld),[u,h]=O.useState(!1),[d,m]=O.useState(""),[y,v]=O.useState([]),b=e.groups.find(H=>H.id===t);if(!b)return R.jsx("div",{className:"settings-page",children:R.jsxs("div",{className:"settings-header",children:[R.jsx("h1",{className:"settings-title",children:"Group Not Found"}),R.jsx("p",{className:"settings-subtitle",children:"The requested group could not be found."})]})});const[w,N]=O.useState(10);O.useEffect(()=>{const H=b.settings?.curveShift??ld.curveShift,k=b.settings?.adminEmails??[];l({curveShift:H}),v(k)},[b]);const z=(H,k)=>{if(!V()){alert("Only administrators can modify the logarithm shift parameter.");return}l(x=>({...x,[H]:k}))},V=()=>s?.email&&y.includes(s.email),F=async()=>{if(!d.trim()||!V())return;const H=d.trim().toLowerCase();if(y.includes(H)){alert("This email is already an admin");return}const k=[...y,H];if(v(k),m(""),n)try{await is.updateGroup(t,{settings:{...b.settings,adminEmails:k}})}catch(x){console.error("Failed to save admin emails:",x),alert("Failed to save admin emails. Please try again."),v(y)}},W=async H=>{if(!V())return;if(y.length<=1){alert("Cannot remove the last admin");return}const k=y[0];if(H===k){alert("Cannot remove the group creator from admin privileges. The group creator must always remain an admin.");return}if(H===s?.email&&!confirm("Are you sure you want to remove yourself as admin? You will lose admin privileges."))return;const x=y.filter(C=>C!==H);if(v(x),n)try{await is.updateGroup(t,{settings:{...b.settings,adminEmails:x}})}catch(C){console.error("Failed to save admin emails:",C),alert("Failed to save admin emails. Please try again."),v(y)}};O.useEffect(()=>{const H=setTimeout(()=>{if(!n){console.log("Not in Firebase mode, skipping save");return}h(!0),is.updateGroup(t,{settings:{...b.settings,curveShift:a.curveShift}}).then(()=>{console.log("Settings saved to Firebase")}).catch(k=>{console.error("Failed to save settings:",k),alert("Failed to save settings. Please try again.")}).finally(()=>{h(!1)})},1e3);return()=>clearTimeout(H)},[a,t,b,n]);const Q=()=>{l(ld)},ee=s0(w,a);return R.jsxs("div",{className:"settings-page",children:[R.jsxs("div",{className:"settings-header",children:[R.jsxs("h1",{className:"settings-title",children:[b.name," Settings"]}),R.jsxs("p",{className:"settings-subtitle",children:["Configure pizza debt calculation for this group",u?" (saving...)":""]})]}),R.jsxs("div",{className:"settings-grid",children:[R.jsxs("div",{className:"settings-card",children:[R.jsxs("h2",{className:"settings-card-title",children:[R.jsx(F4,{className:"settings-card-icon"}),"Pizza Slice Formula"]}),R.jsxs("div",{className:"formula-section",children:[R.jsx("h3",{children:"Current Formula"}),R.jsxs("div",{className:"formula-display",children:["scale_factor = 1.0 / log(2 +"," ",a.curveShift,")",R.jsx("br",{}),"raw_value = scale_factor  log(minutes +"," ",a.curveShift,")",R.jsx("br",{}),"slices = ceil(raw_value)"]})]}),V()?R.jsxs("div",{className:"parameter-control",children:[R.jsxs("label",{className:"parameter-label",children:["Logarithm shift:"," ",R.jsx("span",{className:"parameter-value",children:a.curveShift})]}),R.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:a.curveShift,onChange:H=>z("curveShift",parseFloat(H.target.value)),className:"parameter-input"}),R.jsx("p",{className:"parameter-description",children:"Curve shift parameter - lower values create steeper curves, higher values create gentler curves"})]}):R.jsxs("div",{className:"parameter-control admin-readonly",children:[R.jsxs("label",{className:"parameter-label",children:["Logarithm shift:"," ",R.jsx("span",{className:"parameter-value",children:a.curveShift}),R.jsx("span",{className:"admin-only-badge",children:"(Admin Only)"})]}),R.jsx("div",{className:"readonly-slider",children:R.jsx("div",{className:"readonly-track",children:R.jsx("div",{className:"readonly-thumb",style:{left:`${(a.curveShift-.1)/(3-.1)*100}%`}})})}),R.jsx("p",{className:"parameter-description",children:"Only administrators can modify the curve shift parameter"})]}),R.jsxs("div",{className:"formula-section",children:[R.jsx("h3",{children:"Preview"}),R.jsxs("div",{className:"parameter-control",children:[R.jsxs("label",{className:"parameter-label",children:["Test with"," ",R.jsx("span",{className:"parameter-value",children:w})," ","minutes"]}),R.jsx("input",{type:"range",min:"1",max:"30",step:"1",value:w,onChange:H=>N(parseInt(H.target.value)),className:"parameter-input"}),R.jsxs("p",{className:"parameter-description",children:["Result: ",R.jsxs("strong",{children:[ee," slices"]})," ","would be added"]})]})]}),R.jsx("div",{className:"action-buttons",children:R.jsxs("button",{className:"action-btn action-btn-secondary",onClick:Q,children:[R.jsx(Z4,{size:16}),"Reset to Defaults"]})})]}),V()&&R.jsxs("div",{className:"settings-card",children:[R.jsxs("h2",{className:"settings-card-title",children:[R.jsx(lT,{className:"settings-card-icon"}),"Admin Management"]}),R.jsxs("div",{className:"admin-section",children:[R.jsxs("div",{className:"admin-emails-list",children:[R.jsx("h3",{children:"Current Admins"}),y.length>0?R.jsx("ul",{className:"admin-list",children:y.map((H,k)=>{const x=k===0;return R.jsxs("li",{className:"admin-item",children:[R.jsxs("div",{className:"admin-info",children:[R.jsx("span",{className:"admin-email",children:H}),x&&R.jsx("span",{className:"creator-badge",children:"Group Creator"})]}),y.length>1&&!x&&R.jsx("button",{onClick:()=>W(H),className:"remove-admin-btn",title:"Remove admin",children:R.jsx(Dy,{size:16})})]},k)})}):R.jsx("p",{children:"No admins found"})]}),R.jsxs("div",{className:"add-admin-section",children:[R.jsx("h3",{children:"Add New Admin"}),R.jsxs("div",{className:"add-admin-form",children:[R.jsx("input",{type:"email",value:d,onChange:H=>m(H.target.value),placeholder:"Enter email address",className:"admin-email-input",onKeyDown:H=>{H.key==="Enter"&&F()}}),R.jsxs("button",{onClick:F,className:"add-admin-btn",disabled:!d.trim(),children:[R.jsx(lT,{size:16}),"Add Admin"]})]})]})]})]})]})]})}function t8(){const[t,e]=O.useState(""),[n,s]=O.useState(""),[a,l]=O.useState(!1),[u,h]=O.useState(!1),[d,m]=O.useState(""),{signInWithEmail:y,signUpWithEmail:v,signInWithGoogle:b,user:w}=Kl(),N=eh();O.useEffect(()=>{w&&N("/app")},[w,N]);const z=async F=>{if(F.preventDefault(),!(!t||!n)){h(!0),m("");try{a?(await v(t,n),m("Account created successfully! You're now signed in.")):(await y(t,n),m("Signed in successfully!")),N("/app")}catch(W){console.error("Auth error:",W),m(W.message||"Authentication failed. Please try again.")}finally{h(!1)}}},V=async()=>{h(!0),m("");try{await b(),m("Signed in with Google!"),N("/app")}catch(F){console.error("Google sign-in error:",F),m(F.message||"Google sign-in failed. Please try again.")}finally{h(!1)}};return R.jsx("div",{className:"login-page",children:R.jsxs("div",{className:"login-container",children:[R.jsxs("div",{className:"login-header",children:[R.jsx("h1",{children:" Late on Time Pizza"}),R.jsx("p",{children:"Sign in to manage your pizza debts"})]}),R.jsxs("form",{onSubmit:z,className:"login-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Email Address"}),R.jsx("input",{id:"email",type:"email",value:t,onChange:F=>e(F.target.value),placeholder:"Enter your email",required:!0,disabled:u})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"password",children:"Password"}),R.jsx("input",{id:"password",type:"password",value:n,onChange:F=>s(F.target.value),placeholder:"Enter your password",required:!0,disabled:u})]}),R.jsx("button",{type:"submit",disabled:u||!t||!n,className:"login-button",children:u?"Please wait...":a?"Create Account":"Sign In"}),R.jsx("div",{className:"auth-toggle",children:R.jsxs("p",{children:[a?"Already have an account?":"Don't have an account?",R.jsx("button",{type:"button",onClick:()=>l(!a),className:"toggle-button",disabled:u,children:a?"Sign In":"Sign Up"})]})}),R.jsx("div",{className:"divider",children:R.jsx("span",{children:"or"})}),R.jsxs("button",{type:"button",onClick:V,disabled:u,className:"google-button",children:[R.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",children:[R.jsx("path",{fill:"#4285F4",d:"M18 9.2C18 8.5 17.9 7.9 17.8 7.3H9.2v3.6h4.9c-.2 1.1-.8 2-1.7 2.6v2.1h2.7c1.6-1.5 2.5-3.6 2.5-6.2z"}),R.jsx("path",{fill:"#34A853",d:"M9.2 18c2.4 0 4.4-.8 5.9-2.2l-2.7-2.1c-.8.5-1.8.8-3.2.8-2.4 0-4.5-1.6-5.2-3.8H1.1v2.2C2.6 16 5.7 18 9.2 18z"}),R.jsx("path",{fill:"#FBBC04",d:"M4 10.7c-.2-.5-.3-1.1-.3-1.7s.1-1.2.3-1.7V5.1H1.1C.4 6.5 0 7.8 0 9.2s.4 2.7 1.1 4.1l2.9-2.6z"}),R.jsx("path",{fill:"#EA4335",d:"M9.2 3.6c1.4 0 2.6.5 3.6 1.4l2.7-2.7C14.6.7 12.1 0 9.2 0 5.7 0 2.6 2 1.1 5.1l2.9 2.6c.7-2.2 2.8-3.8 5.2-3.8z"})]}),"Continue with Google"]}),d&&R.jsx("div",{className:`message ${d.includes("successfully")?"success":"error"}`,children:d})]}),R.jsxs("div",{className:"demo-link",children:[R.jsx("p",{children:"Want to try it out first?"}),R.jsx("button",{onClick:()=>N("/app"),className:"demo-button",children:"Continue with Demo Mode"})]})]})})}function n8(){const[t,e]=O.useState([]),[n,s]=O.useState(!0),[a,l]=O.useState(null);return O.useEffect(()=>{const b=On(Yn,"groups"),w=uo(b,N=>{try{const z=N.val();if(z){const V=Object.entries(z).map(([F,W])=>({id:F,name:W.name,members:W.members||{}}));e(V)}else e([]);l(null)}catch(z){console.error("Error processing groups data:",z),l("Failed to load groups data")}finally{s(!1)}},N=>{console.error("Error listening to groups:",N),l("Failed to connect to database"),s(!1)});return()=>Qc(b,"value",w)},[]),{groups:t,loading:n,error:a,createGroup:async b=>{try{return l(null),await QN(b)}catch(w){const N=w instanceof Error?w.message:"Failed to create group";throw l(N),w}},addMember:async(b,w,N=0)=>{try{l(null),await ZN(b,w,N)}catch(z){const V=z instanceof Error?z.message:"Failed to add member";throw l(V),z}},updateGroupName:async(b,w)=>{try{l(null),await JN(b,w)}catch(N){const z=N instanceof Error?N.message:"Failed to update group name";throw l(z),N}},updateMemberScore:async(b,w,N)=>{try{l(null),await eI(b,w,N)}catch(z){const V=z instanceof Error?z.message:"Failed to update member score";throw l(V),z}},removeMember:async(b,w)=>{try{l(null),await tI(b,w)}catch(N){const z=N instanceof Error?N.message:"Failed to remove member";throw l(z),N}},deleteGroup:async b=>{try{l(null),await nI(b)}catch(w){const N=w instanceof Error?w.message:"Failed to delete group";throw l(N),w}}}}function i8(t){const[e,n]=O.useState(null),[s,a]=O.useState(!0),[l,u]=O.useState(null);return O.useEffect(()=>{if(!t){n(null),a(!1);return}const h=On(Yn,`groups/${t}`),d=uo(h,m=>{try{const y=m.val();n(y?{id:t,name:y.name,members:y.members||{}}:null),u(null)}catch(y){console.error("Error processing group data:",y),u("Failed to load group data")}finally{a(!1)}},m=>{console.error("Error listening to group:",m),u("Failed to connect to database"),a(!1)});return()=>Qc(h,"value",d)},[t]),{group:e,loading:s,error:l}}function s8(){const{groups:t,loading:e,error:n,createGroup:s,addMember:a,updateGroupName:l,updateMemberScore:u,removeMember:h,deleteGroup:d}=n8(),[m,y]=O.useState(null),[v,b]=O.useState(""),[w,N]=O.useState(""),[z,V]=O.useState(0),[F,W]=O.useState(""),Q=i8(m),ee=async D=>{if(D.preventDefault(),!!v.trim())try{const P=await s(v.trim());console.log("Created group with ID:",P),b(""),y(P)}catch(P){console.error("Failed to create group:",P)}},H=async D=>{if(D.preventDefault(),!(!m||!w.trim()))try{await a(m,w.trim(),z),console.log("Added member:",w),N(""),V(0)}catch(P){console.error("Failed to add member:",P)}},k=async D=>{if(D.preventDefault(),!(!m||!F.trim()))try{await l(m,F.trim()),console.log("Updated group name to:",F),W("")}catch(P){console.error("Failed to update group name:",P)}},x=async(D,P)=>{if(m)try{await u(m,D,P),console.log(`Updated ${D}'s score to:`,P)}catch(G){console.error("Failed to update score:",G)}},C=async D=>{if(m)try{await h(m,D),console.log("Removed member:",D)}catch(P){console.error("Failed to remove member:",P)}},I=async D=>{if(confirm("Are you sure you want to delete this group?"))try{await d(D),console.log("Deleted group:",D),m===D&&y(null)}catch(P){console.error("Failed to delete group:",P)}};return e?R.jsx("div",{className:"flex items-center justify-center p-8",children:R.jsx("div",{className:"text-white",children:"Loading groups..."})}):R.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[R.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Group Manager Example"}),n&&R.jsxs("div",{className:"bg-red-500/20 border border-red-500 text-red-200 p-3 rounded mb-4",children:["Error: ",n]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-4",children:[R.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Create New Group"}),R.jsxs("form",{onSubmit:ee,className:"space-y-3",children:[R.jsx("input",{type:"text",value:v,onChange:D=>b(D.target.value),placeholder:"Enter group name",className:"w-full p-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/60"}),R.jsx("button",{type:"submit",className:"w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded transition-colors",children:"Create Group"})]})]}),R.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-4",children:[R.jsxs("h2",{className:"text-lg font-semibold text-white mb-3",children:["Groups (",t.length,")"]}),R.jsxs("div",{className:"space-y-2",children:[t.map(D=>R.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-white font-medium",children:D.name}),R.jsxs("div",{className:"text-white/60 text-sm",children:[Object.keys(D.members).length," ","members"]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>y(D.id),className:`px-3 py-1 text-sm rounded transition-colors ${m===D.id?"bg-amber-500 text-white":"bg-white/20 text-white/80 hover:bg-white/30"}`,children:"Select"}),R.jsx("button",{onClick:()=>I(D.id),className:"px-3 py-1 text-sm bg-red-500/80 hover:bg-red-500 text-white rounded transition-colors",children:"Delete"})]})]},D.id)),t.length===0&&R.jsx("div",{className:"text-white/60 text-center py-4",children:"No groups yet. Create one above!"})]})]})]}),R.jsxs("div",{className:"space-y-6",children:[m&&Q.group&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-4",children:[R.jsxs("h2",{className:"text-lg font-semibold text-white mb-3",children:["Group: ",Q.group.name]}),R.jsxs("form",{onSubmit:k,className:"space-y-3 mb-4",children:[R.jsx("input",{type:"text",value:F,onChange:D=>W(D.target.value),placeholder:"New group name",className:"w-full p-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/60"}),R.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded transition-colors",children:"Update Group Name"})]}),R.jsxs("form",{onSubmit:H,className:"space-y-3",children:[R.jsx("input",{type:"text",value:w,onChange:D=>N(D.target.value),placeholder:"Member name",className:"w-full p-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/60"}),R.jsx("input",{type:"number",value:z,onChange:D=>V(Number(D.target.value)),placeholder:"Initial score",className:"w-full p-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/60"}),R.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded transition-colors",children:"Add Member"})]})]}),R.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-4",children:[R.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Members"}),R.jsxs("div",{className:"space-y-2",children:[Object.entries(Q.group.members).map(([D,P])=>R.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded",children:[R.jsxs("div",{className:"text-white",children:[R.jsx("span",{className:"font-medium",children:D}),R.jsxs("span",{className:"text-white/60 ml-2",children:["Score: ",P]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>x(D,P+1),className:"px-2 py-1 text-xs bg-green-500/80 hover:bg-green-500 text-white rounded",children:"+1"}),R.jsx("button",{onClick:()=>x(D,P-1),className:"px-2 py-1 text-xs bg-orange-500/80 hover:bg-orange-500 text-white rounded",children:"-1"}),R.jsx("button",{onClick:()=>C(D),className:"px-2 py-1 text-xs bg-red-500/80 hover:bg-red-500 text-white rounded",children:"Remove"})]})]},D)),Object.keys(Q.group.members).length===0&&R.jsx("div",{className:"text-white/60 text-center py-4",children:"No members yet. Add one above!"})]})]})]}),!m&&R.jsx("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-8",children:R.jsx("div",{className:"text-white/60 text-center",children:"Select a group to view and manage its members"})})]})]})]})}const r8=B2([{path:"/",element:R.jsx(t8,{})},{path:"/app",element:R.jsx(VF,{}),children:[{index:!0,element:R.jsx(YF,{})},{path:"groups/:id",element:R.jsx(KF,{})},{path:"groups/:id/settings",element:R.jsx(e8,{})},{path:"groups/:id/meetings/:mid",element:R.jsx(JF,{})},{path:"firebase-example",element:R.jsx(s8,{})}]}]);BD.createRoot(document.getElementById("root")).render(R.jsx(O.StrictMode,{children:R.jsx(jF,{children:R.jsx(qF,{children:R.jsx(eO,{router:r8})})})}));
